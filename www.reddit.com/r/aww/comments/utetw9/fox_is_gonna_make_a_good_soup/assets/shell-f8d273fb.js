function t(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}function e(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function n(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t){return this instanceof i?(this.v=t,this):new i(t)}function o(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(t,e||[]),s=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(t){r[t]&&(o[t]=function(e){return new Promise((function(n,i){s.push([t,e,n,i])>1||l(t,e)}))})}function l(t,e){try{!function(t){t.value instanceof i?Promise.resolve(t.value.v).then(d,c):h(s[0][2],t)}(r[t](e))}catch(t){h(s[0][3],t)}}function d(t){l("next",t)}function c(t){l("throw",t)}function h(t,e){t(e),s.shift(),s.length&&l(s[0][0],s[0][1])}}function r(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=n(t),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(n){e[n]=t[n]&&function(e){return new Promise((function(i,o){(function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)})(i,o,(e=t[n](e)).done,e.value)}))}}}const s=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:n,elements:i}=e;return{kind:n,elements:i,finisher(e){window.customElements.define(t,e)}}})(t,e),a=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}};function l(t){return(e,n)=>void 0!==n?((t,e,n)=>{e.constructor.createProperty(n,t)})(t,e,n):a(t,e)}function d(t){return l({...t,state:!0})}const c=({finisher:t,descriptor:e})=>(n,i)=>{var o;if(void 0===i){const i=null!==(o=n.originalKey)&&void 0!==o?o:n.key,r=null!=e?{kind:"method",placement:"prototype",key:i,descriptor:e(n.key)}:{...n,key:i};return null!=t&&(r.finisher=function(e){t(e,i)}),r}{const o=n.constructor;void 0!==e&&Object.defineProperty(n,i,e(i)),null==t||t(o,i)}};function h(t,e){return c({descriptor:n=>{const i={get(){var e,n;return null!==(n=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t))&&void 0!==n?n:null},enumerable:!0,configurable:!0};if(e){const e="symbol"==typeof n?Symbol():"__"+n;i.get=function(){var n,i;return void 0===this[e]&&(this[e]=null!==(i=null===(n=this.renderRoot)||void 0===n?void 0:n.querySelector(t))&&void 0!==i?i:null),this[e]}}return i}})}function u(t){return c({descriptor:e=>({get(){var e,n;return null!==(n=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelectorAll(t))&&void 0!==n?n:[]},enumerable:!0,configurable:!0})})}var p;const m=null!=(null===(p=window.HTMLSlotElement)||void 0===p?void 0:p.prototype.assignedElements)?(t,e)=>t.assignedElements(e):(t,e)=>t.assignedNodes(e).filter((t=>t.nodeType===Node.ELEMENT_NODE));const v=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,g=Symbol(),b=new Map;class f{constructor(t,e){if(this._$cssResult$=!0,e!==g)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){let t=b.get(this.cssText);return v&&void 0===t&&(b.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}}const w=(t,...e)=>{const n=1===t.length?t[0]:e.reduce(((e,n,i)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[i+1]),t[0]);return new f(n,g)},y=v?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const n of t.cssRules)e+=n.cssText;return(t=>new f("string"==typeof t?t:t+"",g))(e)})(t):t;var _;const x=window.trustedTypes,E=x?x.emptyScript:"",k=window.reactiveElementPolyfillSupport,T={toAttribute(t,e){switch(e){case Boolean:t=t?E:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},A=(t,e)=>e!==t&&(e==e||t==t),I={attribute:!0,type:String,converter:T,reflect:!1,hasChanged:A};class C extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var e;null!==(e=this.l)&&void 0!==e||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,n)=>{const i=this._$Eh(n,e);void 0!==i&&(this._$Eu.set(i,n),t.push(i))})),t}static createProperty(t,e=I){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const n="symbol"==typeof t?Symbol():"__"+t,i=this.getPropertyDescriptor(t,n,e);void 0!==i&&Object.defineProperty(this.prototype,t,i)}}static getPropertyDescriptor(t,e,n){return{get(){return this[e]},set(i){const o=this[t];this[e]=i,this.requestUpdate(t,o,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||I}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const n of e)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const t of n)e.unshift(y(t))}else void 0!==t&&e.push(y(t));return e}static _$Eh(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,n;(null!==(e=this._$Eg)&&void 0!==e?e:this._$Eg=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(n=t.hostConnected)||void 0===n||n.call(t))}removeController(t){var e;null===(e=this._$Eg)||void 0===e||e.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Et.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{v?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const n=document.createElement("style"),i=window.litNonce;void 0!==i&&n.setAttribute("nonce",i),n.textContent=e.cssText,t.appendChild(n)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$ES(t,e,n=I){var i,o;const r=this.constructor._$Eh(t,n);if(void 0!==r&&!0===n.reflect){const s=(null!==(o=null===(i=n.converter)||void 0===i?void 0:i.toAttribute)&&void 0!==o?o:T.toAttribute)(e,n.type);this._$Ei=t,null==s?this.removeAttribute(r):this.setAttribute(r,s),this._$Ei=null}}_$AK(t,e){var n,i,o;const r=this.constructor,s=r._$Eu.get(t);if(void 0!==s&&this._$Ei!==s){const t=r.getPropertyOptions(s),a=t.converter,l=null!==(o=null!==(i=null===(n=a)||void 0===n?void 0:n.fromAttribute)&&void 0!==i?i:"function"==typeof a?a:null)&&void 0!==o?o:T.fromAttribute;this._$Ei=s,this[s]=l(e,t.type),this._$Ei=null}}requestUpdate(t,e,n){let i=!0;void 0!==t&&(((n=n||this.constructor.getPropertyOptions(t)).hasChanged||A)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===n.reflect&&this._$Ei!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,n))):i=!1),!this.isUpdatePending&&i&&(this._$Ep=this._$E_())}async _$E_(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,e)=>this[e]=t)),this._$Et=void 0);let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(n)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(n)}willUpdate(t){}_$AE(t){var e;null===(e=this._$Eg)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$ES(e,this[e],t))),this._$EC=void 0),this._$EU()}updated(t){}firstUpdated(t){}}var S;C.finalized=!0,C.elementProperties=new Map,C.elementStyles=[],C.shadowRootOptions={mode:"open"},null==k||k({ReactiveElement:C}),(null!==(_=globalThis.reactiveElementVersions)&&void 0!==_?_:globalThis.reactiveElementVersions=[]).push("1.3.1");const L=globalThis.trustedTypes,O=L?L.createPolicy("lit-html",{createHTML:t=>t}):void 0,M=`lit$${(Math.random()+"").slice(9)}$`,V="?"+M,$=`<${V}>`,D=document,P=(t="")=>D.createComment(t),N=t=>null===t||"object"!=typeof t&&"function"!=typeof t,B=Array.isArray,z=t=>{var e;return B(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])},R=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,H=/-->/g,U=/>/g,F=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,W=/'/g,q=/"/g,j=/^(?:script|style|textarea|title)$/i,Y=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),G=Y(1),Q=Y(2),K=Symbol.for("lit-noChange"),J=Symbol.for("lit-nothing"),X=new WeakMap,Z=(t,e,n)=>{var i,o;const r=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:e;let s=r._$litPart$;if(void 0===s){const t=null!==(o=null==n?void 0:n.renderBefore)&&void 0!==o?o:null;r._$litPart$=s=new rt(e.insertBefore(P(),t),t,void 0,null!=n?n:{})}return s._$AI(t),s},tt=D.createTreeWalker(D,129,null,!1),et=(t,e)=>{const n=t.length-1,i=[];let o,r=2===e?"<svg>":"",s=R;for(let e=0;e<n;e++){const n=t[e];let a,l,d=-1,c=0;for(;c<n.length&&(s.lastIndex=c,l=s.exec(n),null!==l);)c=s.lastIndex,s===R?"!--"===l[1]?s=H:void 0!==l[1]?s=U:void 0!==l[2]?(j.test(l[2])&&(o=RegExp("</"+l[2],"g")),s=F):void 0!==l[3]&&(s=F):s===F?">"===l[0]?(s=null!=o?o:R,d=-1):void 0===l[1]?d=-2:(d=s.lastIndex-l[2].length,a=l[1],s=void 0===l[3]?F:'"'===l[3]?q:W):s===q||s===W?s=F:s===H||s===U?s=R:(s=F,o=void 0);const h=s===F&&t[e+1].startsWith("/>")?" ":"";r+=s===R?n+$:d>=0?(i.push(a),n.slice(0,d)+"$lit$"+n.slice(d)+M+h):n+M+(-2===d?(i.push(void 0),e):h)}const a=r+(t[n]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==O?O.createHTML(a):a,i]};class nt{constructor({strings:t,_$litType$:e},n){let i;this.parts=[];let o=0,r=0;const s=t.length-1,a=this.parts,[l,d]=et(t,e);if(this.el=nt.createElement(l,n),tt.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(i=tt.nextNode())&&a.length<s;){if(1===i.nodeType){if(i.hasAttributes()){const t=[];for(const e of i.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(M)){const n=d[r++];if(t.push(e),void 0!==n){const t=i.getAttribute(n.toLowerCase()+"$lit$").split(M),e=/([.?@])?(.*)/.exec(n);a.push({type:1,index:o,name:e[2],strings:t,ctor:"."===e[1]?at:"?"===e[1]?dt:"@"===e[1]?ct:st})}else a.push({type:6,index:o})}for(const e of t)i.removeAttribute(e)}if(j.test(i.tagName)){const t=i.textContent.split(M),e=t.length-1;if(e>0){i.textContent=L?L.emptyScript:"";for(let n=0;n<e;n++)i.append(t[n],P()),tt.nextNode(),a.push({type:2,index:++o});i.append(t[e],P())}}}else if(8===i.nodeType)if(i.data===V)a.push({type:2,index:o});else{let t=-1;for(;-1!==(t=i.data.indexOf(M,t+1));)a.push({type:7,index:o}),t+=M.length-1}o++}}static createElement(t,e){const n=D.createElement("template");return n.innerHTML=t,n}}function it(t,e,n=t,i){var o,r,s,a;if(e===K)return e;let l=void 0!==i?null===(o=n._$Cl)||void 0===o?void 0:o[i]:n._$Cu;const d=N(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==d&&(null===(r=null==l?void 0:l._$AO)||void 0===r||r.call(l,!1),void 0===d?l=void 0:(l=new d(t),l._$AT(t,n,i)),void 0!==i?(null!==(s=(a=n)._$Cl)&&void 0!==s?s:a._$Cl=[])[i]=l:n._$Cu=l),void 0!==l&&(e=it(t,l._$AS(t,e.values),l,i)),e}class ot{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:n},parts:i}=this._$AD,o=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:D).importNode(n,!0);tt.currentNode=o;let r=tt.nextNode(),s=0,a=0,l=i[0];for(;void 0!==l;){if(s===l.index){let e;2===l.type?e=new rt(r,r.nextSibling,this,t):1===l.type?e=new l.ctor(r,l.name,l.strings,this,t):6===l.type&&(e=new ht(r,this,t)),this.v.push(e),l=i[++a]}s!==(null==l?void 0:l.index)&&(r=tt.nextNode(),s++)}return o}m(t){let e=0;for(const n of this.v)void 0!==n&&(void 0!==n.strings?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}}class rt{constructor(t,e,n,i){var o;this.type=2,this._$AH=J,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=i,this._$Cg=null===(o=null==i?void 0:i.isConnected)||void 0===o||o}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=it(this,t,e),N(t)?t===J||null==t||""===t?(this._$AH!==J&&this._$AR(),this._$AH=J):t!==this._$AH&&t!==K&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):z(t)?this.S(t):this.$(t)}M(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==J&&N(this._$AH)?this._$AA.nextSibling.data=t:this.k(D.createTextNode(t)),this._$AH=t}T(t){var e;const{values:n,_$litType$:i}=t,o="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=nt.createElement(i.h,this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===o)this._$AH.m(n);else{const t=new ot(o,this),e=t.p(this.options);t.m(n),this.k(e),this._$AH=t}}_$AC(t){let e=X.get(t.strings);return void 0===e&&X.set(t.strings,e=new nt(t)),e}S(t){B(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,i=0;for(const o of t)i===e.length?e.push(n=new rt(this.M(P()),this.M(P()),this,this.options)):n=e[i],n._$AI(o),i++;i<e.length&&(this._$AR(n&&n._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cg=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class st{constructor(t,e,n,i,o){this.type=1,this._$AH=J,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=o,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=J}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,n,i){const o=this.strings;let r=!1;if(void 0===o)t=it(this,t,e,0),r=!N(t)||t!==this._$AH&&t!==K,r&&(this._$AH=t);else{const i=t;let s,a;for(t=o[0],s=0;s<o.length-1;s++)a=it(this,i[n+s],e,s),a===K&&(a=this._$AH[s]),r||(r=!N(a)||a!==this._$AH[s]),a===J?t=J:t!==J&&(t+=(null!=a?a:"")+o[s+1]),this._$AH[s]=a}r&&!i&&this.C(t)}C(t){t===J?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class at extends st{constructor(){super(...arguments),this.type=3}C(t){this.element[this.name]=t===J?void 0:t}}const lt=L?L.emptyScript:"";class dt extends st{constructor(){super(...arguments),this.type=4}C(t){t&&t!==J?this.element.setAttribute(this.name,lt):this.element.removeAttribute(this.name)}}class ct extends st{constructor(t,e,n,i,o){super(t,e,n,i,o),this.type=5}_$AI(t,e=this){var n;if((t=null!==(n=it(this,t,e,0))&&void 0!==n?n:J)===K)return;const i=this._$AH,o=t===J&&i!==J||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,r=t!==J&&(i===J||o);o&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==n?n:this.element,t):this._$AH.handleEvent(t)}}class ht{constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){it(this,t)}}const ut={L:"$lit$",P:M,V,I:1,N:et,R:ot,j:z,D:it,H:rt,F:st,O:dt,W:ct,B:at,Z:ht},pt=window.litHtmlPolyfillSupport;var mt,vt;null==pt||pt(nt,rt),(null!==(S=globalThis.litHtmlVersions)&&void 0!==S?S:globalThis.litHtmlVersions=[]).push("2.2.2");class gt extends C{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const n=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=n.firstChild),n}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=Z(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return K}}gt.finalized=!0,gt._$litElement$=!0,null===(mt=globalThis.litElementHydrateSupport)||void 0===mt||mt.call(globalThis,{LitElement:gt});const bt=globalThis.litElementPolyfillSupport;null==bt||bt({LitElement:gt}),(null!==(vt=globalThis.litElementVersions)&&void 0!==vt?vt:globalThis.litElementVersions=[]).push("3.2.0");const ft=1,wt=2,yt=t=>(...e)=>({_$litDirective$:t,values:e});class _t{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}const xt=yt(class extends _t{constructor(t){if(super(t),t.type!==wt)throw Error("templateContent can only be used in child bindings")}render(t){return this.vt===t?K:(this.vt=t,document.importNode(t.content,!0))}}),Et={rootMargin:"200px"},kt=new Map;function Tt(t,e){return!kt.has(t)&&e&&kt.set(t,function(t){return new IntersectionObserver((t=>{for(const e of t){const t=e.target;e.isIntersecting?t.observerIsIntersectingCallback(e):t.observerIsNotIntersectingCallback(e)}}),t)}(e)),kt.get(t)}const At=Symbol("mixins/observer");function It(t){if(At in t)return t;class e extends t{constructor(){super(...arguments),this._observerConfigObserved=null}get isObserved(){return!!this._observerConfigObserved}enableObserver(t=Et){if(!this._observerConfigObserved){this._observerConfigObserved=JSON.stringify(t);const e=Tt(this._observerConfigObserved,t);e&&e.observe(this)}}disableObserver(){if(this._observerConfigObserved){const t=Tt(this._observerConfigObserved);t&&t.unobserve(this),this._observerConfigObserved=null}}observerIsIntersectingCallback(t){}observerIsNotIntersectingCallback(t){}}return e[At]=!0,e}var Ct,St,Lt,Ot,Mt;!function(t){t[t.emergency=0]="emergency",t[t.alert=1]="alert",t[t.critical=2]="critical",t[t.error=3]="error",t[t.warning=4]="warning",t[t.notice=5]="notice",t[t.info=6]="info",t[t.debug=7]="debug",t[t.none=8]="none"}(Ct||(Ct={})),function(t){t.Eager="eager",t.Action="action",t.Lazy="lazy",t.Preload="preload"}(St||(St={})),function(t){t.Get="get",t.Post="post",t.Dialog="dialog",t.Log="log"}(Lt||(Lt={})),function(t){t.XPromo="xpromo"}(Ot||(Ot={}));const Vt=new Set;let $t=Mt=class extends(It(gt)){constructor(){super(...arguments),this.content=null}connectedCallback(){switch(super.connectedCallback(),this.shouldRenderWithPaintGroup=this.paintGroup&&(!this.loading||this.loading===St.Eager),this.loading){case St.Lazy:this.enableObserver();break;case St.Eager:default:this.load()}}disconnectedCallback(){this.disableObserver(),super.disconnectedCallback()}render(){return null!=this.content?this.content:G`\n <slot></slot>\n <slot name="${Mt.READY_SLOT}"></slot>\n <slot name="${Mt.ERROR_SLOT}"></slot>\n `}observerIsIntersectingCallback(){this.disableObserver(),this.load()}async load(){try{if(!this.bundleName)throw new Error("Unspecified bundle.");Vt.add(this);const t=Mt.Loaders;if(0===t.size)return;const e=t.get(this.bundleName);if(!e)throw new Error(`Invalid bundle: ${this.bundleName}.`);if(this.shouldRenderWithPaintGroup&&this.paintGroup){const t=Mt.paintGroupLoaders.get(this.paintGroup);null==t||t.push(e())}else await e();this.handleLoad()}catch(t){this.handleLoadError(t)}}async waitForPaintGroup(){if(!this.paintGroup||!this.shouldRenderWithPaintGroup)return;const t=Mt.paintGroupLoaders.get(this.paintGroup);var e;t&&await Promise.race([Promise.all(t),(e=2e3,new Promise((t=>{window.setTimeout(t,e)})))])}async handleLoad(){Vt.delete(this),this.shouldRenderWithPaintGroup&&await this.waitForPaintGroup(),this.renderTemplate(Mt.READY_SLOT)}handleLoadError(t){console.error("Error loading async bundle",null==t?void 0:t.stack),this.renderTemplate(Mt.ERROR_SLOT)}renderTemplate(t){const e=this.findTemplate(t);e&&(this.content=xt(e))}findTemplate(t){var e;const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(`slot[name=${t}]`);if(!(n instanceof HTMLSlotElement))return null;const i=null==n?void 0:n.assignedElements()[0];return i instanceof HTMLTemplateElement?i:null}};$t.Loaders=new Map,$t.addLoaders=t=>{for(const[e,n]of Object.entries(t))Mt.Loaders.set(e,n);for(const t of Vt)t.load()},$t.paintGroupLoaders=((t=Ot)=>new Map(Object.values(t).map((t=>[t,[]]))))(),$t.READY_SLOT="ready",$t.ERROR_SLOT="error",e([l({type:String})],$t.prototype,"bundleName",void 0),e([l({type:String})],$t.prototype,"loading",void 0),e([l({type:String,attribute:"paint-group",converter:t=>t})],$t.prototype,"paintGroup",void 0),e([d()],$t.prototype,"content",void 0),e([d()],$t.prototype,"shouldRenderWithPaintGroup",void 0),$t=Mt=e([s("shreddit-async-loader")],$t);const Dt=Symbol("mixins/user-action");function Pt(t){if(Dt in t)return t;class e extends t{constructor(){super(...arguments),this._userActionEnabled=!1,this._loadingHandleClick=()=>{this._userActionEnabled&&this.userActionCallback()},this._loadingHandleKeyDown=t=>{this._userActionEnabled&&("Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),t.stopPropagation(),this.userActionCallback()))}}get isActionable(){return this._userActionEnabled}enableUserActions(){this._userActionEnabled||(this._userActionEnabled=!0,this.addEventListener("click",this._loadingHandleClick),this.addEventListener("keydown",this._loadingHandleKeyDown))}disableUserActions(){this._userActionEnabled&&(this._userActionEnabled=!1,this.removeEventListener("click",this._loadingHandleClick),this.removeEventListener("keydown",this._loadingHandleKeyDown))}userActionCallback(){}}return e[Dt]=!0,e}const Nt=(t,e)=>new CustomEvent(t,{composed:!0,bubbles:!0,cancelable:!0,detail:e}),Bt=(t,e)=>new CustomEvent(t,e);let zt=class extends(Pt(It(gt))){constructor(){super(...arguments),this.source="",this.action="",this.noun=""}get loading(){return"click"===this.action?St.Action:"view"===this.action?St.Lazy:void 0}createRenderRoot(){return this}connectedCallback(){super.connectedCallback();const{loading:t}=this;t===St.Lazy?this.enableObserver():this.loading===St.Action&&this.enableUserActions()}observerIsIntersectingCallback(){this.isObserved&&this.disableObserver(),this.trackEvent()}userActionCallback(){this.trackEvent()}disconnectedCallback(){super.disconnectedCallback(),this.isObserved&&this.disableObserver(),this.isActionable&&this.disableUserActions()}trackEvent(){const{source:t,action:e,noun:n}=this;t&&e&&n&&function(t,e){const n=Nt("faceplate-track",e);t.dispatchEvent(n)}(this,{source:t,action:e,noun:n})}};e([l({type:String})],zt.prototype,"source",void 0),e([l({type:String})],zt.prototype,"action",void 0),e([l({type:String})],zt.prototype,"noun",void 0),zt=e([s("faceplate-tracker")],zt);class Rt{constructor(t,e){this._events=new Map,this._isConnected=!1,t.addController(this),this.host=t,e&&(this._getTarget=e)}_getTarget(){return this.host}hostConnected(){const t=this._getTarget();for(const[e,n]of this._events)Array.isArray(n)?t.addEventListener(e,n[0],n[1]):t.addEventListener(e,n);this._isConnected=!0}hostDisconnected(){const t=this._getTarget();for(const[e,n]of this._events){const i=Array.isArray(n)?n[0]:n;t.removeEventListener(e,i)}this._isConnected=!1}define(t,e,n){if(this._events.has(t))throw new Error(`Event ${t} already defined.`);if(n?this._events.set(t,[e,n]):this._events.set(t,e),this._isConnected){this._getTarget().addEventListener(t,e,n)}return e}}let Ht=class extends gt{constructor(){super(...arguments),this.level=void 0,this.dismissable=!1,this.fading=!1,this._events=new Rt(this),this._onAnimationEnd=this._events.define("transitionend",(()=>{if(this.fading){const t=Nt("faceplate-close");this.dispatchEvent(t),t.defaultPrevented||this.remove()}}))}static get styles(){return w`:host{background:var(--color-ui-modalbackground);border-radius:4px;display:block;margin:1rem 0;opacity:1;padding:1rem;transition:opacity .3s;box-shadow:var(--boxshadow-modal);border:1px solid var(--color-tone-4);--close-icon-color:currentColor}icon-close{position:absolute;left:-1.375em;top:50%;transform:translateY(-50%);color:var(--close-icon-color);cursor:pointer}icon-close:not(:defined){width:1rem;text-align:center}:host([fading]){opacity:0}:host([level]){border-left:8px solid var(--color-primary-background)}:host([dismissable]){position:relative;border-left-width:1.75em}:host([level=alert]),:host([level=critical]),:host([level=emergency]),:host([level=error]){border-left-color:var(--color-danger-content);--close-icon-color:var(--color-global-white)}:host([level=warning]){border-left-color:var(--color-alert-caution);--close-icon-color:var(--color-global-black)}:host([level=notice]){border-left-color:var(--color-success-content);--close-icon-color:var(--color-global-white)}`}_handleDismiss(t){this.dismissable&&(t.stopPropagation(),this.dismiss())}_handleDismissKey(t){"Enter"!==t.code&&"Space"!==t.code||this._handleDismiss(t)}dismiss(){this.fading=!0}render(){return G` ${this.dismissable?G` <icon-close fill @click="${this._handleDismiss}" @keydown="${this._handleDismissKey}" tabindex="0" role="button" aria-pressed="false">X</icon-close> `:void 0} <slot></slot> `}};e([l({type:String,reflect:!0})],Ht.prototype,"level",void 0),e([l({type:Boolean,reflect:!0})],Ht.prototype,"dismissable",void 0),e([l({type:Boolean,reflect:!0})],Ht.prototype,"fading",void 0),Ht=e([s("faceplate-toast")],Ht);var Ut="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ft(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wt(t){var e={exports:{}};return t(e,e.exports),e.exports}var qt=Wt((function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function o(){}function r(e,n,r){if("undefined"!=typeof document){"number"==typeof(r=t({path:"/"},o.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(t){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var l in r)r[l]&&(a+="; "+l,!0!==r[l]&&(a+="="+r[l].split(";")[0]));return document.cookie=e+"="+n+a}}function s(t,n){if("undefined"!=typeof document){for(var o={},r=document.cookie?document.cookie.split("; "):[],s=0;s<r.length;s++){var a=r[s].split("="),l=a.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var d=e(a[0]);if(l=(i.read||i)(l,d)||e(l),n)try{l=JSON.parse(l)}catch(t){}if(o[d]=l,t===d)break}catch(t){}}return t?o[t]:o}}return o.set=r,o.get=function(t){return s(t,!1)},o.getJSON=function(t){return s(t,!0)},o.remove=function(e,n){r(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},t.exports=n()}));function jt(t){const e=[t];return e.raw=e,w(e)}const Yt=new URL("/register",CLIENT_CONFIG.ACCOUNT_MANAGER_ORIGIN).toString(),Gt=t=>Nt("join",t),Qt=Nt("join");var Kt;!function(t){t.Report="report"}(Kt||(Kt={}));const Jt=Symbol("mixins/with-overlays"),Xt={upvote:"upvote",downvote:"downvote",reply:"reply",join:"join",signup:"signup",save:"save",follow:"follow",awards:"awards",report:"report"};function Zt(){const t=new WeakMap;let e=!1;return{get isDirty(){return e},register(n,i){const o=t.get(n);o&&!o.has(i)?o.add(i):o||t.set(n,new Set([i])),e=!0},unregister(n,i){const o=t.get(n);o&&o.has(i)&&(o.delete(i),e=!0)},getRegisteredElements(n){const i=t.get(n);return e=!1,i},unregisterAll(n){t.delete(n),e=!0}}}function te(){const t=new Set,e=e=>t.has(e.constructor);return{registerAncestorClass(e){t.add(e)},connectToAncestor:t=>async function(t,e){let n=t;for(;n.parentElement;){if(n=n.parentElement,!n.tagName.includes("-"))continue;const t=n.tagName.toLowerCase();if(customElements.get(t)||await customElements.whenDefined(t),e(n))return n}}(t,e)}}const ee=Zt(),ne=te(),ie=ne.registerAncestorClass,oe=ne.connectToAncestor,re={fromAttribute(t){if(t in Ct)return Ct[t]},toAttribute(t){if(t in Ct)return Ct[t]}};function se(t,e,n,i){return{level:t,message:e,meta:n[0]&&"string"==typeof n[0]?n.join("\n"):void 0,count:i}}class ae{constructor(t){this._handleAlertEvent=t=>{const e=t.detail;this.report(e)&&t.stopImmediatePropagation()},t.addController(this),ie(t.constructor),this.host=t}hostConnected(){this.host.addEventListener("faceplate-alert",this._handleAlertEvent)}hostDisconnected(){this.host.removeEventListener("faceplate-alert",this._handleAlertEvent)}report(t){const e=ee.getRegisteredElements(this.host);if(e)for(const n of e)if(n.shouldDisplayAlert(t))return n.displayAlert(t),!0;return!1}}var le;!function(t){t.MOBILE="mobile",t.TABLET="tablet",t.DESKTOP="desktop"}(le||(le={}));const de=(t,e)=>navigator.sendBeacon(t,e),ce=(t,e)=>fetch(t,{body:e,headers:{"Content-Type":"text/plain"},keepalive:!0,method:"POST"}),he=t=>{const e="function"==typeof navigator.sendBeacon?de:"function"==typeof fetch?ce:void 0;if(void 0===e)return;e(`/svc/shreddit/v2j?csrf_token=${qt.get("csrf_token")}`,JSON.stringify(t))};let ue,pe=[];function me(){he([...pe]),ve()}function ve(){pe=[],ue&&clearTimeout(ue),ue=void 0}const ge={screen:{view_type:"card"}},be={app:{name:"mweb3x"}};function fe(t,e){var n,i,o,r;return Object.assign(Object.assign({},t),{user_preferences:Object.assign(Object.assign({},t.user_preferences),e.user_preferences),request:Object.assign(Object.assign({},t.request),e.request),platform:Object.assign(Object.assign(Object.assign({},t.platform),e.platform),{year_class:(null===(n=e.platform)||void 0===n?void 0:n.year_class)||(null===(i=t.platform)||void 0===i?void 0:i.year_class)||null,device_tier:(null===(o=e.platform)||void 0===o?void 0:o.device_tier)||(null===(r=t.platform)||void 0===r?void 0:r.device_tier)||null})})}var we,ye=new Uint8Array(16);function _e(){if(!we&&!(we="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return we(ye)}var xe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ee(t){return"string"==typeof t&&xe.test(t)}for(var ke=[],Te=0;Te<256;++Te)ke.push((Te+256).toString(16).substr(1));function Ae(t,e,n){var i=(t=t||{}).random||(t.rng||_e)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=i[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ke[t[e+0]]+ke[t[e+1]]+ke[t[e+2]]+ke[t[e+3]]+"-"+ke[t[e+4]]+ke[t[e+5]]+"-"+ke[t[e+6]]+ke[t[e+7]]+"-"+ke[t[e+8]]+ke[t[e+9]]+"-"+ke[t[e+10]]+ke[t[e+11]]+ke[t[e+12]]+ke[t[e+13]]+ke[t[e+14]]+ke[t[e+15]]).toLowerCase();if(!Ee(n))throw TypeError("Stringified UUID is invalid");return n}(i)}const Ie=t=>{if(!t||t.hidden)return!0;const e=window.getComputedStyle(t);return"none"===e.display||"hidden"===e.visibility||!!t.parentElement&&Ie(t.parentElement)},Ce=()=>{const t=document.getElementById("adblocktest");if(!t)return!0;const e=null==t?void 0:t.getBoundingClientRect();return!((null==e?void 0:e.height)||(null==e?void 0:e.width))};var Se=()=>{if(!Ce())return null;const t=document.getElementById("acceptabletest");return!Ie(t)},Le=Ce;const Oe=[{dpi:3,height:926,width:428,version:"iphone 12 Pro Max",yearClass:2020},{dpi:3,height:896,width:414,version:"iphone 11 Pro Max",yearClass:2019},{dpi:3,height:844,width:390,version:"iphone 12",yearClass:2020},{dpi:3,height:812,width:375,version:"iphone 7",yearClass:2016},{dpi:3,height:736,width:414,version:"iphone 8 Plus",yearClass:2017},{dpi:2,height:896,width:414,version:"iphone 11",yearClass:2019},{dpi:2,height:667,width:375,version:"iphone SE 2nd Gen",yearClass:2020},{dpi:2,height:568,width:320,version:"iphone 5S",yearClass:2013},{dpi:2,height:480,width:320,version:"iphone 4S",yearClass:2011}];function Me(){const t=function(){if(!window.screen||!window.devicePixelRatio)return;const{height:t,width:e}=window.screen,n=window.devicePixelRatio;return Oe.find((i=>n===i.dpi&&t===i.height&&e===i.width))}();if(t)return{deviceName:t.version.toLowerCase().replace(" ","-"),yearClass:t.yearClass}}const Ve=new Map([[2011,"low"],[2012,"moderately_low"],[2014,"medium"],[2016,"moderately_high"]]);function $e(t){for(const[e,n]of Ve)if(t<=e)return n;return"high"}let De=null;const Pe=()=>{const t=qt.get("session_tracker"),{domain:e,url:n}=Be();return Object.assign(Object.assign({},((t="")=>{const e=t.split(".");return{id:e[0],created_timestamp:parseInt(e[2],10)}})(t)),{referrer_domain:e,referrer_url:n})},Ne=()=>{const t=qt.get("loid");return t?((t="")=>{let e="",n="";const i=t.split(".");i.length>=3&&(e=`t2_${i[0].replace(/\b0+/g,"")}`,n=i[2]);return{id:e,cookie_created_timestamp:parseInt(n,10)}})(t):{}},Be=()=>{const t=document.referrer;let e="";if(t){e=new URL(document.referrer).hostname}return{url:t,domain:e}},ze=t=>{var e,n,i;let o={};try{o=JSON.parse(null!==(i=null===(n=null===(e=document.getElementsByTagName("shreddit-screenview-data"))||void 0===e?void 0:e[0])||void 0===n?void 0:n.getAttribute("data"))&&void 0!==i?i:"{}")}catch(t){throw new Error("Unable to parse screenview data")}return o[t]},Re=()=>{var t,e;const n=null!==(e=null===(t=Me())||void 0===t?void 0:t.yearClass)&&void 0!==e?e:null;return{year_class:n,device_tier:n?$e(n):void 0}},He=()=>Object.assign(Object.assign({adblock:{enabled:Le(),acceptable_ads:Se()},referrer:Be(),session:Pe(),user:Ne(),client_timestamp:Date.now(),platform:Re()},ge),be),Ue=(t,e,n=ze)=>{if(null==e?void 0:e[t])return{};const i=n(t);return i?{[t]:i}:{}},Fe=t=>(t.request=Object.assign(Object.assign({},(()=>{const{hostname:t,origin:e,pathname:n,search:i}=window.location,o=`${e}${n}`;return{base_url:i?`${o}${i}`:o,canonical_url:void 0,domain:t,user_agent:window.navigator.userAgent}})()),t.request||{}),De?(t.request.google_client_id=De,t):t),We=({source:t,action:e,noun:n},i={})=>Object.assign(Object.assign(Object.assign(Object.assign({},Fe(i)),{source:t,action:e,noun:n,uuid:Ae()}),He()),Ue("post",i));var qe;!function(t){t.GoodVisit="good_visit",t.GoodVisitFeed="good_visit_feed",t.GoodVisitSearch="good_visit_search"}(qe||(qe={}));const je=(t=!0,e,n)=>We({source:"global",action:"view",noun:"screen"},Object.assign(Object.assign({},e),{action_info:{success:t},request:{server_render_id:n}})),Ye=()=>We({source:"post_detail",action:"click",noun:"collapse_comment"}),Ge=()=>We({source:"post_detail",action:"click",noun:"comment_author"}),Qe=()=>We({source:"post_detail",action:"click",noun:"comment_deleted_author"}),Ke=()=>We({source:"post_detail",action:"click",noun:"downvote_comment"}),Je=()=>We({source:"post_detail",action:"click",noun:"reply_comment"}),Xe=()=>We({source:"post_detail",action:"click",noun:"upvote_comment"}),Ze=t=>()=>We({source:"nav",action:"click",noun:t}),tn=Ze("login"),en=Ze("logo"),nn=Ze("wordmark"),on=Ze("breadcrumbs"),rn=Ze("user"),sn=Ze("search-opened"),an=Ze("search-closed"),ln=Ze("advertise"),dn=Ze("blog"),cn=Ze("press"),hn=Ze("communities"),un=Ze("rereddit"),pn=Ze("topics"),mn=Ze("careers"),vn=Ze("policies"),gn=Ze("user-agreement"),bn=Symbol("mixins/with-body-scroll-blocking");function fn(t){t.preventDefault()}const wn=Symbol("mixins/with-pubsub-manager");const yn=Symbol("mixins/with-pubsub");function _n(t){if(yn in t)return t;class e extends t{subscribe(t,e,n=!0){this.dispatchEvent(Nt("pubsub-subscribe",{topic:t,subscriber:e,readCache:n}))}unsubscribe(t,e){this.dispatchEvent(Nt("pubsub-unsubscribe",{topic:t,subscriber:e}))}publish(t,e){this.dispatchEvent(Nt("pubsub-publish",{topic:t,data:e}))}}return e[yn]=!0,e}var xn;!function(t){t.AdRefocusStart="time-before-unfocus",t.CatInTheAppUi="cat-in-the-app-ui",t.LastClickedAdId="last-clicked-ad-id",t.ImpressionId="last-clicked-impression-id",t.RecentSubreddits="recent-subreddits-store",t.FeatureTestLocalStorageKey="ðŸ¤˜shreddit_local_storage_feature_testðŸ¤˜",t.DisclaimerStore="disclaimer_store",t.XpromoOptOut="xpromoInterstitialMenu",t.AppSelectorDismissed="bannerLastClosed",t.CatInAppDismissed="catInAppLastClosed",t.CatInAppImplicitlyDismissed="catInAppLastImplicitlyClosed",t.PillDismissed="pillLastClosed",t.GoodVisit="good-visit-status",t.ModalBlocking="modal-blocking-status"}(xn||(xn={}));const En=new class{getStorage(){try{return window.localStorage}catch(t){return}}clear(){var t;null===(t=this.getStorage())||void 0===t||t.clear()}getItem(t){var e;return(null===(e=this.getStorage())||void 0===e?void 0:e.getItem(t))||null}removeItem(t){var e;null===(e=this.getStorage())||void 0===e||e.removeItem(t)}setItem(t,e){var n;null===(n=this.getStorage())||void 0===n||n.setItem(t,e)}isAvailable(){return this.setItem(xn.FeatureTestLocalStorageKey,"yes"),"yes"===this.getItem(xn.FeatureTestLocalStorageKey)}};var kn,Tn;!function(t){t.Standard="hidden",t.Webkit="webkitHidden"}(kn||(kn={})),function(t){t.hidden="visibilitychange",t.webkitHidden="webkitvisibilitychange",t.mozHidden="mozvisibilitychange",t.msHidden="msvisibilitychange"}(Tn||(Tn={}));const An=Object.keys(Tn),In={initialized:!1,visibilityCallbacks:new Set},Cn=()=>{},Sn=An.find((t=>void 0!==document[t]));let Ln=!1;const On=t=>{const e=En.getItem(xn.AdRefocusStart),n=En.getItem(xn.LastClickedAdId),i=En.getItem(xn.ImpressionId);if(e&&n&&i){t(((t,e,n)=>We({source:"post",action:"refocus",noun:"ad"},{post:t,ad_click:{landing_page_duration:Math.min(e,2**31-1)},ad_metadata:{impression_id:n}}))({id:n},Date.now()-parseInt(e,10),i))}(e||n||i)&&(En.removeItem(xn.AdRefocusStart),En.removeItem(xn.LastClickedAdId),En.removeItem(xn.ImpressionId))},Mn=t=>!(Ln||!En.isAvailable())&&(Ln=!0,((t=Cn,e=!1,n)=>{const i=In.visibilityCallbacks.size;In.visibilityCallbacks.add(t),!In.initialized&&Sn&&(In.initialized=!0,document.addEventListener(Tn[Sn],(()=>{const t=!document[Sn];In.visibilityCallbacks.forEach((e=>e(t)))})),e&&t(!document[Sn])),n&&(In.initialized=!1),In.visibilityCallbacks.size})((e=>{try{e?On(t):En.setItem(xn.AdRefocusStart,String(Date.now()))}catch(t){return}}),!0),!0),Vn=Symbol("mixins/with-tracking");function $n(t){if(Vn in t)return t;class e extends t{constructor(){super(...arguments),this.trackEvent=t=>{const e=Nt("track-event",{details:t});this.dispatchEvent(e)}}}return e[Vn]=!0,e}const Dn=jt("/*\n * This is a Tailwind CSS file, it must be run through the PostCSS compiler\n * with the Tailwind plugin, not Less. The `postcss-import` plugin is also\n * needed, if you have other additions to your Tailwind entry point CSS.\n *\n * @example\n * // tailwind.css\n * @import '@reddit/faceplate/styles/tailwind-components.css'\n * @tailwind components;\n * @tailwind utilities;\n *\n * // styles.less\n * @import (less) '@reddit/faceplate/faceplate.css';\n * @import (less) './tailwind-build.css';\n */\n.-translate-y-1\\/2, .-translate-x-1\\/2, .scale-150, .scale-75, .transform {\n    --tw-translate-x: 0;\n    --tw-translate-y: 0;\n    --tw-rotate: 0;\n    --tw-skew-x: 0;\n    --tw-skew-y: 0;\n    --tw-scale-x: 1;\n    --tw-scale-y: 1;\n}\n.shadow-sm {\n    --tw-ring-offset-shadow: 0 0 #0000;\n    --tw-ring-shadow: 0 0 #0000;\n    --tw-shadow: 0 0 #0000;\n    --tw-shadow-colored: 0 0 #0000;\n}\n.container {\n    width: 100%;\n}\n@media (min-width: 768px) {\n    .container {\n        max-width: 768px;\n    }\n}\n@media (min-width: 960px) {\n    .container {\n        max-width: 960px;\n    }\n}\n@media (min-width: 1024px) {\n    .container {\n        max-width: 1024px;\n    }\n}\n@media (min-width: 1200px) {\n    .container {\n        max-width: 1200px;\n    }\n}\n@media (min-width: 1416px) {\n    .container {\n        max-width: 1416px;\n    }\n}\n@media (min-width: 1920px) {\n    .container {\n        max-width: 1920px;\n    }\n}\n/* Anchor component*/\n.a {\n    border: var(--line-a-focus) solid transparent;\n    border-radius: 2px;\n    color: var(--color-a-default);\n    font-size: 1em;\n    padding: 0 var(--spacer-a-px);\n    margin: calc(-1 * var(--line-a-focus)) calc(-1 * (var(--spacer-a-px) + var(--line-a-focus)));\n    text-decoration: none;\n  }\n.a:hover {\n    color: var(--color-a-hover);\n  }\n.a:visited,\n  .a.visited {\n    color: var(--color-a-visited);\n  }\n.a:focus {\n    border-color: var(--color-global-focus, transparent);\n    outline: var(--line-a-outline-moz) dotted #212121;\n    outline: var(--line-a-outline-wb) auto -webkit-focus-ring-color;\n  }\n.a:focus:not(:focus-visible) {\n    border-color: transparent;\n  }\n/* Button component */\n.button {\n    background: var(--button-color-background);\n    border-radius: 999px;\n    border: none;\n    border: var(--button-border-width, 0) solid var(--button-border-color, transparent);\n    box-shadow: var(--button-shadow);\n    box-sizing: border-box;\n    color: var(--button-color-text);\n    cursor: pointer;\n    display: inline-block;\n    font: var(--button-font);\n    height: var(--button-height);\n    line-height: calc(var(--button-height) - (2 * var(--button-border-width, 0px)));\n    max-width: 30rem;\n    outline: none;\n    overflow: hidden;\n    padding: 0 calc(var(--button-padding) - var(--button-border-width, 0px));\n    text-align: center;\n    text-decoration: none;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    --button-border-color: var(--button-border-color-default);\n    --button-border-width: var(--button-border-width-default);\n    --button-color-background: var(--button-color-background-default);\n    --button-color-text: var(--button-color-text-default);\n    /* This is :active, AKA Pressed */\n    /* This is Selected */\n  }\n.button .button-icon {\n    margin-right: var(--spacer-xs);\n  }\n.button .dropdown-icon {\n    transform: rotate(0deg);\n    transition: transform 0.2s ease-in-out;\n  }\n.button:focus,\n  .button:hover {\n    --button-color-overlay: var(--color-button-overlay-focus);\n  }\n.button:hover {\n    --button-border-color: var(--button-border-color-hover);\n    --button-color-background: var(--button-color-background-hover);\n  }\n.button:focus {\n    --button-shadow: var(--elevation-button-focus);\n  }\n.button:focus:not(:focus-visible) {\n    --button-shadow: 0 0 0 var(--line-l) transparent;\n  }\n.button:active {\n    --button-border-color: var(--button-border-color-active);\n    --button-color-overlay: var(--color-button-overlay-active);\n    --button-color-background: linear-gradient(var(--color-interactive-pressed), var(--color-interactive-pressed)),\n      var(--button-color-background-active);\n  }\n.button:focus,\n  .button:hover,\n  .button:active {\n    position: relative;\n  }\n.button:focus::before,\n  .button:hover::before,\n  .button:active::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    display: block;\n    background: var(--button-color-overlay);\n    border-radius: inherit;\n    pointer-events: none;\n  }\n.button:disabled {\n    --button-border-color: var(--button-border-color-disabled);\n    --button-color-background: var(--button-color-background-disabled);\n    --button-color-text: var(--button-color-text-disabled);\n    cursor: not-allowed;\n  }\n.button:disabled::before {\n    display: none;\n  }\n.button.button-activated {\n    --button-border-color: var(--button-border-color-activated);\n    --button-border-width: var(--button-border-width-activated);\n    --button-color-background: var(--button-color-background-activated);\n    --button-color-text: var(--button-color-text-activated);\n  }\n.button.button-activated span.dropdown-icon {\n    transform: rotate(180deg);\n    transition: transform 0.22s ease-in-out;\n  }\n.button-large {\n    --button-height: var(--size-button-lg-h);\n    --button-padding: var(--spacer-xs);\n    --button-font: var(--font-button-lg);\n    --button-border-width-default: var(--line-button-lg-border);\n    --button-border-width-activated: var(--line-button-border-activated);\n  }\n.button-medium {\n    --button-height: var(--size-button-md-h);\n    --button-padding: var(--spacer-xs);\n    --button-font: var(--font-button-md);\n    --button-border-width-default: var(--line-button-md-border);\n    --button-border-width-activated: var(--line-button-border-activated);\n  }\n.button-small {\n    --button-height: var(--size-button-sm-h);\n    --button-padding: var(--spacer-2xs);\n    --button-font: var(--font-button-sm);\n    --button-border-width-default: var(--line-button-sm-border);\n    --button-border-width-activated: var(--line-button-border-activated);\n  }\n.button-x-small {\n    --button-height: var(--size-button-xs-h);\n    --button-padding: var(--spacer-sm);\n    --button-font: var(--font-button-xs);\n    --button-border-width-default: var(--line-button-xs-border);\n    --button-border-width-activated: var(--line-button-border-activated);\n  }\n.button-icon {\n    --button-padding: 0;\n    width: var(--button-height);\n  }\n.button-primary {\n    --button-color-background-default: var(--color-primary-background);\n    --button-color-background-focus: var(--color-primary-background);\n    --button-color-background-hover: var(--color-button-primary-background-hover);\n    --button-color-background-active: linear-gradient(var(--color-button-primary-background-hover), var(--color-button-primary-background-hover));\n    --button-color-background-disabled: var(--color-button-primary-background-disabled);\n    --button-color-background-activated: var(--color-global-white);\n    --button-color-text-default: var(--color-global-white);\n    --button-color-text-disabled: var(--color-button-primary-text-disabled);\n    --button-color-text-activated: var(--color-button-primary-text-activated);\n    --button-border-color-default: transparent;\n    --button-border-color-hover: var(--color-button-primary-border-hover);\n    --button-border-color-active: var(--color-button-primary-border-active);\n    --button-border-color-activated: var(--color-button-primary-border-activated);\n    --button-border-color-disabled: var(--color-button-primary-border-disabled);\n  }\n.button-secondary {\n    --button-color-background-default: var(--color-button-secondary-background);\n    --button-color-background-focus: var(--color-button-secondary-background-focus);\n    --button-color-background-hover: var(--color-button-secondary-background-hover);\n    --button-color-background-active: linear-gradient(var(--color-button-secondary-background-hover), var(--color-button-secondary-background-hover));\n    --button-color-background-disabled: var(--color-button-secondary-background-disabled);\n    --button-color-background-activated: var(--color-button-secondary-background-activated);\n    --button-color-text-default: var(--color-button-secondary-text);\n    --button-color-text-disabled: var(--color-button-secondary-text-disabled);\n    --button-color-text-activated: var(--color-button-secondary-text-activated);\n    --button-border-color-default: var(--color-button-secondary-border);\n    --button-border-color-hover: var(--color-button-secondary-border-hover);\n    --button-border-color-active: var(--color-button-secondary-border-active);\n    --button-border-color-activated: var(--color-button-secondary-border-activated);\n    --button-border-color-disabled: var(--color-button-secondary-border-disabled);\n  }\n.button-tertiary {\n    --button-color-background-default: var(--color-button-tertiary-background);\n    --button-color-background-focus: var(--color-button-tertiary-background-focus);\n    --button-color-background-hover: var(--color-button-tertiary-background-hover);\n    --button-color-background-disabled: var(--color-button-tertiary-background-disabled);\n    --button-color-background-activated: var(--color-button-tertiary-background-activated);\n    --button-color-text-default: var(--color-button-tertiary-text);\n    --button-color-text-disabled: var(--color-button-tertiary-text-disabled);\n    --button-color-text-activated: var(--color-button-tertiary-text-activated);\n    --button-border-color-default: transparent;\n    --button-border-color-hover: var(--color-button-tertiary-border-hover);\n    --button-border-color-active: var(--color-button-tertiary-border-active);\n    --button-border-color-activated: transparent;\n    --button-border-color-disabled: transparent;\n  }\n.button-plain {\n    --button-color-background-default: transparent;\n    --button-color-background-focus: transparent;\n    --button-color-background-hover: var(--color-button-plain-background-hover);\n    --button-color-background-disabled: var(--color-button-plain-background-disabled);\n    --button-color-background-activated: var(--color-button-plain-background-activated);\n    --button-color-background-active: linear-gradient(var(--color-button-secondary-background-hover), var(--color-button-secondary-background-hover));\n    --button-color-text-default: var(--color-button-plain-text);\n    --button-color-text-disabled: var(--color-button-plain-text-disabled);\n    --button-color-text-activated: var(--color-button-plain-text-activated);\n    --button-border-color-default: transparent;\n    --button-border-color-hover: var(--color-button-plain-border-hover);\n    --button-border-color-active: var(--color-button-plain-border-active);\n    --button-border-color-activated: transparent;\n    --button-border-color-disabled: transparent;\n  }\n.button-outline {\n    --button-color-background-default: transparent;\n    --button-color-background-focus: transparent;\n    --button-color-background-hover: transparent;\n    --button-color-background-active: linear-gradient(transparent, transparent);\n    --button-color-background-disabled: transparent;\n    --button-color-background-activated: transparent;\n    --button-color-text-default: var(--color-neutral-content);\n    --button-color-text-disabled: var(--color-neutral-content-disabled);\n    --button-color-text-activated: var(--color-neutral-content-strong);\n    --button-border-color-default: var(--color-neutral-content-weak);\n    --button-border-color-hover: var(--color-neutral-content-disabled);\n    --button-border-color-active: var(--color-neutral-content);\n    --button-border-color-activated: var(--color-neutral-content-strong);\n    --button-border-color-disabled: var(--color-neutral-content-disabled);\n    --button-border-width-default: var(--line-md);\n    --button-border-width-activated: var(--line-md);\n  }\n.button-destructive {\n    --button-color-background-default: var(--color-danger-background);\n    --button-color-background-focus: var(--color-danger-background-hover);\n    --button-color-background-hover: var(--color-danger-background-hover);\n    --button-color-background-active: linear-gradient(var(--color-danger-background-hover), var(--color-danger-background-hover));\n    --button-color-background-disabled: var(--color-danger-background);\n    --button-color-text-default: var(--color-danger-content-default);\n    --button-color-text-disabled: var(--color-danger-content-default);\n    --button-border-color-default: transparent;\n    --button-border-color-hover: transparent;\n    --button-border-color-active: transparent;\n  }\n.button-media {\n    --button-color-background-default: var(--color-media-background);\n    --button-color-background-focus: var(--color-media-background-hover);\n    --button-color-background-hover: var(--color-media-background-hover);\n    --button-color-background-active: linear-gradient(var(--color-media-background-hover), var(--color-media-background-hover));\n    --button-color-background-disabled: var(--color-danger-background-disabled);\n    --button-color-text-default: white;\n    --button-color-text-disabled: var(--color-media-onbackground-disabled);\n    --button-border-color-default: transparent;\n    --button-border-color-hover: transparent;\n    --button-border-color-active: transparent;\n    --button-border-color-activated: white;\n  }\n.button-brand {\n    --button-color-background-default: var(--color-brand-background);\n    --button-color-background-hover: var(--color-brand-background-hover);\n    --button-color-background-active: linear-gradient(var(--color-brand-background-hover), var(--color-brand-background-hover));\n    --button-color-background-disabled: var(--color-neutral-background-disabled);\n    --button-color-text-default: var(--color-danger-content-default);\n    --button-color-text-disabled: var(--color-neutral-content-disabled);\n    --button-border-color-default: transparent;\n    --button-border-color-hover: transparent;\n    --button-border-color-active: transparent;\n    --button-border-width-default: 0px;\n  }\n.pointer-events-none {\n    pointer-events: none;\n}\n.pointer-events-auto {\n    pointer-events: auto;\n}\n.visible {\n    visibility: visible;\n}\n.invisible {\n    visibility: hidden;\n}\n.static {\n    position: static;\n}\n.fixed {\n    position: fixed;\n}\n.absolute {\n    position: absolute;\n}\n.\\!absolute {\n    position: absolute !important;\n}\n.relative {\n    position: relative;\n}\n.inset-0 {\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n}\n.top-\\[8px\\] {\n    top: 8px;\n}\n.right-\\[90px\\] {\n    right: 90px;\n}\n.right-sm {\n    right: 0.75rem;\n}\n.top-sm {\n    top: 0.75rem;\n}\n.left-md {\n    left: 1rem;\n}\n.top-md {\n    top: 1rem;\n}\n.top-0 {\n    top: 0px;\n}\n.right-0 {\n    right: 0px;\n}\n.bottom-0 {\n    bottom: 0px;\n}\n.left-0 {\n    left: 0px;\n}\n.top-100 {\n    top: 100%;\n}\n.right-\\[-\\.875rem\\] {\n    right: -.875rem;\n}\n.top-2xs {\n    top: 0.25rem;\n}\n.right-2xs {\n    right: 0.25rem;\n}\n.top-1\\/2 {\n    top: 50%;\n}\n.bottom-2xl {\n    bottom: 3rem;\n}\n.z-\\[3\\] {\n    z-index: 3;\n}\n.z-0 {\n    z-index: 0;\n}\n.z-10 {\n    z-index: 10;\n}\n.z-20 {\n    z-index: 20;\n}\n.col-span-full {\n    grid-column: 1 / -1;\n}\n.col-span-7 {\n    grid-column: span 7 / span 7;\n}\n.col-span-1 {\n    grid-column: span 1 / span 1;\n}\n.float-right {\n    float: right;\n}\n.m-xs {\n    margin: 0.5rem;\n}\n.m-0 {\n    margin: 0px;\n}\n.m-auto {\n    margin: auto;\n}\n.m-sm {\n    margin: 0.75rem;\n}\n.my-xs {\n    margin-top: 0.5rem;\n    margin-bottom: 0.5rem;\n}\n.mx-auto {\n    margin-left: auto;\n    margin-right: auto;\n}\n.mx-md {\n    margin-left: 1rem;\n    margin-right: 1rem;\n}\n.my-sm {\n    margin-top: 0.75rem;\n    margin-bottom: 0.75rem;\n}\n.mx-0 {\n    margin-left: 0px;\n    margin-right: 0px;\n}\n.mx-2xs {\n    margin-left: 0.25rem;\n    margin-right: 0.25rem;\n}\n.mx-xs {\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n}\n.-mx-md {\n    margin-left: -1rem;\n    margin-right: -1rem;\n}\n.my-0 {\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n.mx-sm {\n    margin-left: 0.75rem;\n    margin-right: 0.75rem;\n}\n.ml-2xs {\n    margin-left: 0.25rem;\n}\n.mt-\\[0\\.4375rem\\] {\n    margin-top: 0.4375rem;\n}\n.ml-auto {\n    margin-left: auto;\n}\n.mt-\\[10px\\] {\n    margin-top: 10px;\n}\n.mb-0 {\n    margin-bottom: 0px;\n}\n.mt-lg {\n    margin-top: 1.5rem;\n}\n.mt-md {\n    margin-top: 1rem;\n}\n.mb-lg {\n    margin-bottom: 1.5rem;\n}\n.ml-xs {\n    margin-left: 0.5rem;\n}\n.mr-xs {\n    margin-right: 0.5rem;\n}\n.mb-xs {\n    margin-bottom: 0.5rem;\n}\n.mr-sm {\n    margin-right: 0.75rem;\n}\n.mt-\\[2px\\] {\n    margin-top: 2px;\n}\n.mb-sm {\n    margin-bottom: 0.75rem;\n}\n.mb-md {\n    margin-bottom: 1rem;\n}\n.mt-2xs {\n    margin-top: 0.25rem;\n}\n.mt-\\[-12px\\] {\n    margin-top: -12px;\n}\n.mb-\\[-22px\\] {\n    margin-bottom: -22px;\n}\n.mt-xl {\n    margin-top: 2rem;\n}\n.-mt-xl {\n    margin-top: -2rem;\n}\n.mt-\\[1\\.5rem\\] {\n    margin-top: 1.5rem;\n}\n.mb-\\[0\\.5rem\\] {\n    margin-bottom: 0.5rem;\n}\n.mt-\\[1\\.25rem\\] {\n    margin-top: 1.25rem;\n}\n.mt-sm {\n    margin-top: 0.75rem;\n}\n.ml-\\[14px\\] {\n    margin-left: 14px;\n}\n.mr-0 {\n    margin-right: 0px;\n}\n.mr-md {\n    margin-right: 1rem;\n}\n.mt-\\[6px\\] {\n    margin-top: 6px;\n}\n.mt-\\[0\\.375rem\\] {\n    margin-top: 0.375rem;\n}\n.ml-sm {\n    margin-left: 0.75rem;\n}\n.mt-xs {\n    margin-top: 0.5rem;\n}\n.mt-0 {\n    margin-top: 0px;\n}\n.ml-0 {\n    margin-left: 0px;\n}\n.mr-2xs {\n    margin-right: 0.25rem;\n}\n.mt-\\[-0\\.25rem\\] {\n    margin-top: -0.25rem;\n}\n.ml-\\[-\\.25rem\\] {\n    margin-left: -.25rem;\n}\n.box-border {\n    box-sizing: border-box;\n}\n.block {\n    display: block;\n}\n.inline-block {\n    display: inline-block;\n}\n.inline {\n    display: inline;\n}\n.flex {\n    display: flex;\n}\n.inline-flex {\n    display: inline-flex;\n}\n.table {\n    display: table;\n}\n.grid {\n    display: grid;\n}\n.contents {\n    display: contents;\n}\n.list-item {\n    display: list-item;\n}\n.hidden {\n    display: none;\n}\n.\\!hidden {\n    display: none !important;\n}\n.h-xl {\n    height: 2rem;\n}\n.h-full {\n    height: 100%;\n}\n.h-lg {\n    height: 1.5rem;\n}\n.h-\\[0\\.875rem\\] {\n    height: 0.875rem;\n}\n.h-3xl {\n    height: 4rem;\n}\n.h-md {\n    height: 1rem;\n}\n.h-\\[2\\.5rem\\] {\n    height: 2.5rem;\n}\n.h-auto {\n    height: auto;\n}\n.h-\\[20px\\] {\n    height: 20px;\n}\n.h-\\[1\\.75rem\\] {\n    height: 1.75rem;\n}\n.h-100 {\n    height: 100%;\n}\n.h-2xl {\n    height: 3rem;\n}\n.h-2xs {\n    height: 0.25rem;\n}\n.h-\\[12rem\\] {\n    height: 12rem;\n}\n.h-xs {\n    height: 0.5rem;\n}\n.max-h-full {\n    max-height: 100%;\n}\n.max-h-\\[100vw\\] {\n    max-height: 100vw;\n}\n.min-h-\\[1rem\\] {\n    min-height: 1rem;\n}\n.w-xl {\n    width: 2rem;\n}\n.w-\\[calc\\(100\\%-20px\\)\\] {\n    width: calc(100% - 20px);\n}\n.w-full {\n    width: 100%;\n}\n.w-3xl {\n    width: 4rem;\n}\n.w-md {\n    width: 1rem;\n}\n.w-100 {\n    width: 100%;\n}\n.w-1\\/2 {\n    width: 50%;\n}\n.w-\\[inherit\\] {\n    width: inherit;\n}\n.w-lg {\n    width: 1.5rem;\n}\n.w-\\[400px\\] {\n    width: 400px;\n}\n.w-xs {\n    width: 0.5rem;\n}\n.w-\\[1rem\\] {\n    width: 1rem;\n}\n.min-w-0 {\n    min-width: 0px;\n}\n.min-w-\\[0\\.5rem\\] {\n    min-width: 0.5rem;\n}\n.max-w-full {\n    max-width: 100%;\n}\n.max-w-\\[7\\.5rem\\] {\n    max-width: 7.5rem;\n}\n.flex-auto {\n    flex: 1 1 auto;\n}\n.flex-1 {\n    flex: 1 1 0%;\n}\n.shrink-0 {\n    flex-shrink: 0;\n}\n.shrink {\n    flex-shrink: 1;\n}\n.grow {\n    flex-grow: 1;\n}\n.-translate-y-1\\/2 {\n    --tw-translate-y: -50%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.-translate-x-1\\/2 {\n    --tw-translate-x: -50%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.scale-150 {\n    --tw-scale-x: 1.5;\n    --tw-scale-y: 1.5;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.scale-75 {\n    --tw-scale-x: .75;\n    --tw-scale-y: .75;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.transform {\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n@keyframes spin {\n    to {\n        transform: rotate(360deg);\n    }\n}\n.animate-spin {\n    animation: spin 1s linear infinite;\n}\n.cursor-pointer {\n    cursor: pointer;\n}\n.resize {\n    resize: both;\n}\n.list-none {\n    list-style-type: none;\n}\n.grid-cols-8 {\n    grid-template-columns: repeat(8, minmax(0, 1fr));\n}\n.flex-col {\n    flex-direction: column;\n}\n.flex-wrap {\n    flex-wrap: wrap;\n}\n.flex-nowrap {\n    flex-wrap: nowrap;\n}\n.items-start {\n    align-items: flex-start;\n}\n.items-center {\n    align-items: center;\n}\n.justify-end {\n    justify-content: flex-end;\n}\n.justify-center {\n    justify-content: center;\n}\n.justify-between {\n    justify-content: space-between;\n}\n.gap-2xs {\n    gap: 0.25rem;\n}\n.gap-\\[1rem\\] {\n    gap: 1rem;\n}\n.gap-\\[\\.75rem\\] {\n    gap: .75rem;\n}\n.gap-xs {\n    gap: 0.5rem;\n}\n.self-end {\n    align-self: flex-end;\n}\n.self-center {\n    align-self: center;\n}\n.overflow-auto {\n    overflow: auto;\n}\n.overflow-hidden {\n    overflow: hidden;\n}\n.overflow-visible {\n    overflow: visible;\n}\n.overflow-y-auto {\n    overflow-y: auto;\n}\n.overflow-x-hidden {\n    overflow-x: hidden;\n}\n.truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.text-ellipsis {\n    text-overflow: ellipsis;\n}\n.whitespace-nowrap {\n    white-space: nowrap;\n}\n.rounded-lg {\n    border-radius: 2rem;\n}\n.rounded-full {\n    border-radius: 624.9375rem;\n}\n.rounded-\\[16px\\] {\n    border-radius: 16px;\n}\n.rounded-\\[24px\\] {\n    border-radius: 24px;\n}\n.rounded-\\[1\\.25rem\\] {\n    border-radius: 1.25rem;\n}\n.rounded-none {\n    border-radius: 0rem;\n}\n.rounded-sm {\n    border-radius: 0.25rem;\n}\n.rounded-\\[\\.5rem\\] {\n    border-radius: .5rem;\n}\n.rounded-t-lg {\n    border-top-left-radius: 2rem;\n    border-top-right-radius: 2rem;\n}\n.rounded-b-full {\n    border-bottom-right-radius: 624.9375rem;\n    border-bottom-left-radius: 624.9375rem;\n}\n.rounded-br-none {\n    border-bottom-right-radius: 0rem;\n}\n.border-0 {\n    border-width: 0rem;\n}\n.border {\n    border-width: 0.0625rem;\n}\n.border-lg {\n    border-width: 0.25rem;\n}\n.border-\\[0\\.125rem\\] {\n    border-width: 0.125rem;\n}\n.border-sm {\n    border-width: 0.0625rem;\n}\n.border-md {\n    border-width: 0.125rem;\n}\n.border-b-sm {\n    border-bottom-width: 0.0625rem;\n}\n.border-t-sm {\n    border-top-width: 0.0625rem;\n}\n.border-b-0 {\n    border-bottom-width: 0rem;\n}\n.border-r-0 {\n    border-right-width: 0rem;\n}\n.border-l-0 {\n    border-left-width: 0rem;\n}\n.border-l-sm {\n    border-left-width: 0.0625rem;\n}\n.border-b {\n    border-bottom-width: 0.0625rem;\n}\n.border-solid {\n    border-style: solid;\n}\n.border-none {\n    border-style: none;\n}\n.border-tone-7 {\n    border-color: var(--color-tone-7);\n}\n.border-white {\n    --tw-border-opacity: 1;\n    border-color: rgb(255 255 255 / var(--tw-border-opacity));\n}\n.border-tone-5 {\n    border-color: var(--color-tone-5);\n}\n.border-neutral-border-weak {\n    border-color: var(--color-neutral-border-weak);\n}\n.border-coolgray-350 {\n    --tw-border-opacity: 1;\n    border-color: rgb(184 197 201 / var(--tw-border-opacity));\n}\n.border-global-white {\n    border-color: var(--color-global-white);\n}\n.border-alert-negative {\n    border-color: var(--color-alert-negative);\n}\n.border-neutral-border {\n    border-color: var(--color-neutral-border);\n}\n.border-neutral-background {\n    border-color: var(--color-neutral-background);\n}\n.border-transparent {\n    border-color: transparent;\n}\n.border-b-tone-5 {\n    border-bottom-color: var(--color-tone-5);\n}\n.border-b-tone-1 {\n    border-bottom-color: var(--color-tone-1);\n}\n.bg-tone-6 {\n    background-color: var(--color-tone-6);\n}\n.bg-tone-7 {\n    background-color: var(--color-tone-7);\n}\n.bg-transparent {\n    background-color: transparent;\n}\n.bg-white {\n    --tw-bg-opacity: 1;\n    background-color: rgb(255 255 255 / var(--tw-bg-opacity));\n}\n.bg-ui-modalbackground {\n    background-color: var(--color-ui-modalbackground);\n}\n.bg-tone-5 {\n    background-color: var(--color-tone-5);\n}\n.bg-black {\n    --tw-bg-opacity: 1;\n    background-color: rgb(0 0 0 / var(--tw-bg-opacity));\n}\n.bg-opacity-50 {\n    background-color: var(--color-opacity-50);\n}\n.bg-neutral-background {\n    background-color: var(--color-neutral-background);\n}\n.bg-primary-background {\n    background-color: var(--color-primary-background);\n}\n.bg-identity-moderator {\n    background-color: var(--color-identity-moderator);\n}\n.bg-tone-3 {\n    background-color: var(--color-tone-3);\n}\n.bg-warning-content {\n    background-color: var(--color-warning-content);\n}\n.bg-success-content {\n    background-color: var(--color-success-content);\n}\n.bg-neutral-content {\n    background-color: var(--color-neutral-content);\n}\n.bg-global-orangered {\n    background-color: var(--color-global-orangered);\n}\n.bg-danger-content {\n    background-color: var(--color-danger-content);\n}\n.bg-neutral-content-disabled {\n    background-color: var(--color-neutral-content-disabled);\n}\n.bg-opacity-08 {\n    background-color: var(--color-opacity-08);\n}\n.bg-action-upvote {\n    background-color: var(--color-action-upvote);\n}\n.bg-action-downvote {\n    background-color: var(--color-action-downvote);\n}\n.bg-opacity-25 {\n    --tw-bg-opacity: 0.25;\n}\n.bg-opacity-50 {\n    --tw-bg-opacity: 0.5;\n}\n.object-contain {\n    object-fit: contain;\n}\n.p-0 {\n    padding: 0px;\n}\n.p-sm {\n    padding: 0.75rem;\n}\n.p-md {\n    padding: 1rem;\n}\n.p-2xs {\n    padding: 0.25rem;\n}\n.py-\\[6px\\] {\n    padding-top: 6px;\n    padding-bottom: 6px;\n}\n.px-md {\n    padding-left: 1rem;\n    padding-right: 1rem;\n}\n.py-sm {\n    padding-top: 0.75rem;\n    padding-bottom: 0.75rem;\n}\n.px-xs {\n    padding-left: 0.5rem;\n    padding-right: 0.5rem;\n}\n.py-xs {\n    padding-top: 0.5rem;\n    padding-bottom: 0.5rem;\n}\n.px-2xs {\n    padding-left: 0.25rem;\n    padding-right: 0.25rem;\n}\n.px-sm {\n    padding-left: 0.75rem;\n    padding-right: 0.75rem;\n}\n.py-2xs {\n    padding-top: 0.25rem;\n    padding-bottom: 0.25rem;\n}\n.px-2xl {\n    padding-left: 3rem;\n    padding-right: 3rem;\n}\n.px-\\[1\\.25rem\\] {\n    padding-left: 1.25rem;\n    padding-right: 1.25rem;\n}\n.py-\\[\\.75rem\\] {\n    padding-top: .75rem;\n    padding-bottom: .75rem;\n}\n.py-\\[0\\.125rem\\] {\n    padding-top: 0.125rem;\n    padding-bottom: 0.125rem;\n}\n.px-lg {\n    padding-left: 1.5rem;\n    padding-right: 1.5rem;\n}\n.py-\\[\\.375rem\\] {\n    padding-top: .375rem;\n    padding-bottom: .375rem;\n}\n.px-\\[\\.75rem\\] {\n    padding-left: .75rem;\n    padding-right: .75rem;\n}\n.pt-2xl {\n    padding-top: 3rem;\n}\n.pr-0 {\n    padding-right: 0px;\n}\n.pt-px {\n    padding-top: 1px;\n}\n.pt-xs {\n    padding-top: 0.5rem;\n}\n.pr-xs {\n    padding-right: 0.5rem;\n}\n.pb-xs {\n    padding-bottom: 0.5rem;\n}\n.pt-sm {\n    padding-top: 0.75rem;\n}\n.pl-2xs {\n    padding-left: 0.25rem;\n}\n.pl-xs {\n    padding-left: 0.5rem;\n}\n.pt-2xs {\n    padding-top: 0.25rem;\n}\n.pr-2xs {\n    padding-right: 0.25rem;\n}\n.pb-0 {\n    padding-bottom: 0px;\n}\n.pb-md {\n    padding-bottom: 1rem;\n}\n.pt-md {\n    padding-top: 1rem;\n}\n.pl-md {\n    padding-left: 1rem;\n}\n.pl-\\[0\\.125rem\\] {\n    padding-left: 0.125rem;\n}\n.pr-md {\n    padding-right: 1rem;\n}\n.text-left {\n    text-align: left;\n}\n.text-center {\n    text-align: center;\n}\n.align-middle {\n    vertical-align: middle;\n}\n.align-text-bottom {\n    vertical-align: text-bottom;\n}\n.font-sans {\n    font-family: var(--font-sans);\n}\n.text-16 {\n    font-size: 1rem;\n    line-height: 1.25rem;\n}\n.text-\\[20px\\] {\n    font-size: 20px;\n}\n.text-18 {\n    font-size: 1.125rem;\n    line-height: 1.5rem;\n}\n.text-\\[14px\\] {\n    font-size: 14px;\n}\n.text-12 {\n    font-size: 0.75rem;\n    line-height: 1rem;\n}\n.text-\\[30px\\] {\n    font-size: 30px;\n}\n.text-\\[2\\.625rem\\] {\n    font-size: 2.625rem;\n}\n.text-64 {\n    font-size: 4rem;\n    line-height: 4rem;\n}\n.text-\\[16px\\] {\n    font-size: 16px;\n}\n.text-\\[22px\\] {\n    font-size: 22px;\n}\n.text-14 {\n    font-size: 0.875rem;\n    line-height: 1.25rem;\n}\n.text-\\[2rem\\] {\n    font-size: 2rem;\n}\n.text-\\[2\\.5rem\\] {\n    font-size: 2.5rem;\n}\n.text-32 {\n    font-size: 2rem;\n    line-height: 2.25rem;\n}\n.text-24 {\n    font-size: 1.5rem;\n    line-height: 1.75rem;\n}\n.text-20 {\n    font-size: 1.25rem;\n    line-height: 1.25rem;\n}\n.text-10 {\n    font-size: 0.625rem;\n    line-height: 1rem;\n}\n.font-semibold {\n    font-weight: 600;\n}\n.font-bold {\n    font-weight: 700;\n}\n.font-normal {\n    font-weight: 400;\n}\n.uppercase {\n    text-transform: uppercase;\n}\n.capitalize {\n    text-transform: capitalize;\n}\n.leading-\\[17px\\] {\n    line-height: 17px;\n}\n.leading-none {\n    line-height: 1;\n}\n.leading-5 {\n    line-height: 1.25rem;\n}\n.leading-4 {\n    line-height: 1rem;\n}\n.leading-\\[0\\.875rem\\] {\n    line-height: 0.875rem;\n}\n.text-tone-1 {\n    color: var(--color-tone-1);\n}\n.text-global-white {\n    color: var(--color-global-white);\n}\n.text-tone-3 {\n    color: var(--color-tone-3);\n}\n.text-action-secondary {\n    color: var(--color-action-secondary);\n}\n.text-primary-background-hover {\n    color: var(--color-primary-background-hover);\n}\n.text-white {\n    --tw-text-opacity: 1;\n    color: rgb(255 255 255 / var(--tw-text-opacity));\n}\n.text-category-nsfw {\n    color: var(--color-category-nsfw);\n}\n.text-tone-2 {\n    color: var(--color-tone-2);\n}\n.text-global-alienblue {\n    color: var(--color-global-alienblue);\n}\n.text-neutral-content {\n    color: var(--color-neutral-content);\n}\n.text-puregray-400 {\n    --tw-text-opacity: 1;\n    color: rgb(172 172 172 / var(--tw-text-opacity));\n}\n.text-tone-7 {\n    color: var(--color-tone-7);\n}\n.text-alert-negative {\n    color: var(--color-alert-negative);\n}\n.text-neutral-content-weak {\n    color: var(--color-neutral-content-weak);\n}\n.text-primary {\n    color: var(--color-primary);\n}\n.text-category-spoiler {\n    color: var(--color-category-spoiler);\n}\n.text-neutral-background {\n    color: var(--color-neutral-background);\n}\n.text-danger-content {\n    color: var(--color-danger-content);\n}\n.text-neutral-content-strong {\n    color: var(--color-neutral-content-strong);\n}\n.text-neutral-content-disabled {\n    color: var(--color-neutral-content-disabled);\n}\n.underline {\n    text-decoration-line: underline;\n}\n.no-underline {\n    text-decoration-line: none;\n}\n.opacity-50 {\n    opacity: 0.5;\n}\n.opacity-0 {\n    opacity: 0;\n}\n.opacity-100 {\n    opacity: 1;\n}\n.opacity-25 {\n    opacity: 0.25;\n}\n.opacity-75 {\n    opacity: 0.75;\n}\n.opacity-60 {\n    opacity: 0.6;\n}\n.shadow-sm {\n    --tw-shadow: var(--elevation-sm);\n    --tw-shadow-colored: var(--elevation-sm);\n    box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.outline-none {\n    outline: 2px solid transparent;\n    outline-offset: 2px;\n}\n.outline {\n    outline-style: solid;\n}\n.transition {\n    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    transition-duration: 150ms;\n}\n.transition-transform {\n    transition-property: transform;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    transition-duration: 150ms;\n}\n.duration-300 {\n    transition-duration: 300ms;\n}\n.duration-150 {\n    transition-duration: 150ms;\n}\n.duration-100 {\n    transition-duration: 100ms;\n}\n.ease-out {\n    transition-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.ease-linear {\n    transition-timing-function: linear;\n}\n*,\n::before,\n::after {\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-transform: translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y))\n    rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y))\n    scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.hover\\:bg-transparent-background-hover:hover {\n    background-color: var(--color-transparent-background-hover);\n}\n.hover\\:bg-secondary-background-hover:hover {\n    background-color: var(--color-secondary-background-hover);\n}\n.hover\\:bg-transparent:hover {\n    background-color: transparent;\n}\n.hover\\:text-global-white:hover {\n    color: var(--color-global-white);\n}\n.hover\\:text-action-upvote:hover {\n    color: var(--color-action-upvote);\n}\n.hover\\:text-action-downvote:hover {\n    color: var(--color-action-downvote);\n}\n.hover\\:underline:hover {\n    text-decoration-line: underline;\n}\n.hover\\:no-underline:hover {\n    text-decoration-line: none;\n}\n.focus\\:rounded-sm:focus {\n    border-radius: 0.25rem;\n}\n.focus\\:border-global-focus:focus {\n    border-color: var(--color-global-focus);\n}\n.focus\\:text-action-upvote:focus {\n    color: var(--color-action-upvote);\n}\n.focus\\:text-action-downvote:focus {\n    color: var(--color-action-downvote);\n}\n.focus\\:outline-none:focus {\n    outline: 2px solid transparent;\n    outline-offset: 2px;\n}\n.active\\:border-0:active {\n    border-width: 0rem;\n}\n.active\\:bg-secondary-background:active {\n    background-color: var(--color-secondary-background);\n}\n.active\\:bg-none:active {\n    background-image: none;\n}\n.group:hover .group-hover\\:flex {\n    display: flex;\n}\n.group:hover .group-hover\\:hidden {\n    display: none;\n}\n.group:focus .group-focus\\:flex {\n    display: flex;\n}\n.group:focus .group-focus\\:hidden {\n    display: none;\n}\n@media (min-width: 768px) {\n    .xs\\:z-10 {\n        z-index: 10;\n    }\n    .xs\\:block {\n        display: block;\n    }\n}\n@media (min-width: 1200px) {\n    .m\\:block {\n        display: block;\n    }\n    .m\\:flex {\n        display: flex;\n    }\n    .m\\:w-100 {\n        width: 100%;\n    }\n}\n");function Pn(t){let e=t;for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function Nn(){const t=document.activeElement;return t?Pn(t):null}function Bn(t){let e;if(document.activeElement&&document.activeElement!==document.body&&(e=Pn(document.activeElement)),!e&&t&&t.target instanceof Element&&(e=Pn(t.target)),e)return(e instanceof HTMLInputElement||e instanceof HTMLButtonElement)&&"submit"===e.type?e:void 0}let zn=!1;function Rn(t){const e=t.hasAttribute("tabindex");t.blur(),e||t.setAttribute("tabindex","0"),t.focus(),e||t.removeAttribute("tabindex")}function Hn(t){zn||(zn=!0,Rn(t),new Promise((e=>{setTimeout((()=>{const n=Nn();t!==n&&Rn(t),zn=!1,e()}))})))}const Un=Symbol("mixins/focus-trap");const Fn=[];let Wn=class extends(function(t){if(Un in t)return t;class e extends t{constructor(){super(...arguments),this._lastFocusedElement=null,this._focusableElements=null,this._firstFocusable=null,this._lastFocusable=null,this._isFocusEnabled=!1,this._handleFocusInDoc=t=>{const e=Nn();e&&e!==this&&e instanceof HTMLElement&&this._focusableElements&&(this._focusableElements.has(e)||(t.preventDefault(),this._firstFocusable&&Hn(this._firstFocusable)))},this._handleTabKeydown=t=>{const e=Nn();if("Tab"===t.key)if(this._focusableElements){if(e){if(!(e instanceof HTMLElement))return;e===this._firstFocusable&&this._firstFocusable===this._lastFocusable?t.preventDefault():t.shiftKey?e===this._firstFocusable&&this._lastFocusable&&(Hn(this._lastFocusable),t.preventDefault()):e!==this._lastFocusable&&this._focusableElements.has(e)||this._firstFocusable&&(Hn(this._firstFocusable),t.preventDefault())}}else t.preventDefault()}}get isFocusEnabled(){return this._isFocusEnabled}resumeFocusTrap(){window.addEventListener("keydown",this._handleTabKeydown),window.addEventListener("focusin",this._handleFocusInDoc),this._isFocusEnabled=!0}pauseFocusTrap(){window.removeEventListener("keydown",this._handleTabKeydown),window.removeEventListener("focusin",this._handleFocusInDoc),this._isFocusEnabled=!1}enableFocusTrap(){const t=Nn();t instanceof HTMLElement&&(this._lastFocusedElement=t),this.resumeFocusTrap();const e=this.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"], [faceplate-focusable]'),n=[];if(e.length){for(let t=0;t<e.length;t++){const i=e[t];if("delegatedFocusElements"in i){const t=i.delegatedFocusElements;if(t)for(const e of t)n.push(e)}else n.push(i)}this._firstFocusable=n[0],this._lastFocusable=n[n.length-1],this._focusableElements=new Set(n)}for(const t of n)if(t.autofocus)return Hn(t);this._firstFocusable?Hn(this._firstFocusable):t instanceof HTMLElement&&t.blur()}disableFocusTrap(){this._lastFocusedElement&&Hn(this._lastFocusedElement),this.pauseFocusTrap(),this._focusableElements=null,this._firstFocusable=null,this._lastFocusable=null}}return e[Un]=!0,e}(gt)){constructor(){super(...arguments),this.open=!1,this.returnValue="",this.modal=!1,this.originalBoxShadow="",this.handleEscKey=t=>{Fn[Fn.length-1]===this&&"Escape"===t.key&&(t.stopPropagation(),this.close())}}disconnectedCallback(){this.modal&&this.cleanupModal()}close(t){void 0!==t&&(this.returnValue=t);const e=Nt("faceplate-close");this.dispatchEvent(e),e.defaultPrevented||(this.open=!1,this.originalBoxShadow&&(this.style.boxShadow=this.originalBoxShadow,this.originalBoxShadow=""),this.modal&&this.cleanupModal())}cleanupModal(){this.style.removeProperty("top"),this.style.removeProperty("transform"),this.style.removeProperty("position"),this.style.removeProperty("boxShadow");if(this===Fn[Fn.length-1])if(Fn.pop(),window.removeEventListener("keydown",this.handleEscKey),this.disableFocusTrap(),Fn.length){const t=Fn[Fn.length-1];window.addEventListener("keydown",t.handleEscKey),t.resumeFocusTrap()}else document.body.style.removeProperty("pointer-events");else Fn.splice(Fn.indexOf(this),1),window.removeEventListener("keydown",this.handleEscKey),this.pauseFocusTrap()}enableModal(){window.addEventListener("keydown",this.handleEscKey),this.enableFocusTrap()}show(){this.modal=!1,this.open=!0}showModal(){if(this.open)throw new Error('The element already has an "open" attribute, and therefore cannot be opened modally');this.modal=!0,this.open=!0,this.style.top="50%",this.style.transform="translateY(-50%)",this.style.position="fixed";const t=window.getComputedStyle(this).boxShadow;if(t&&(this.originalBoxShadow=t,this.style.boxShadow=`${t}, 0 0 0 max(100vw, 100vh) var(--color-scrim)`),Fn.length){const t=Fn[Fn.length-1];window.removeEventListener("keydown",t.handleEscKey),t.pauseFocusTrap()}else document.body.style.pointerEvents="none";this.enableModal(),Fn.push(this)}static get styles(){return w`:host{display:none;position:absolute;left:0;right:0;width:-moz-fit-content;width:fit-content;background:var(--color-ui-modalbackground);border-radius:4px;margin:auto;padding:1rem;box-shadow:var(--boxshadow-modal);pointer-events:all;max-width:95vw;max-height:95vh;overflow:auto}:host([open]){display:block;z-index:1}.backdrop{position:fixed;top:0;left:0;right:0;bottom:0;z-index:-1}`}render(){return G` <div class="${this.modal?"backdrop":""}"></div> <slot></slot> `}};e([l({type:Boolean,reflect:!0})],Wn.prototype,"open",void 0),e([l({type:Boolean,attribute:!1})],Wn.prototype,"modal",void 0),Wn=e([s("faceplate-dialog")],Wn);let qn=class extends gt{static get styles(){return w`:host{clip:rect(1px,1px,1px,1px);clip-path:inset(50%);height:1px;width:1px;margin:-1px;overflow:hidden;padding:0;position:absolute}`}render(){return G` <slot></slot> `}};qn=e([s("faceplate-screen-reader-content")],qn);const jn=w`:host{display:inline-block;fill:currentColor;vertical-align:middle;line-height:1em}svg{fill:currentColor;height:1em;width:auto}`;function Yn(t,n,i,o=jn){if(i){class r extends gt{constructor(){super(...arguments),this.fill=!1}static get styles(){return o}render(){return this.fill?i:n}}e([l({type:Boolean})],r.prototype,"fill",void 0),window.customElements.define(t,r)}else{class e extends gt{static get styles(){return o}render(){return n}}window.customElements.define(t,e)}}Yn("icon-menu",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19 10.625H1v-1.25h18v1.25zm0-7.875H1V4h18V2.75zM19 16H1v1.25h18V16z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19 11H1V9h18v2zm0-9H1v2h18V2zm0 14H1v2h18v-2z"/></svg>`);const Gn="first-comment-udpated";let Qn=()=>[!0,null];const Kn=t=>{Qn=t},Jn=function(t){if(wn in t)return t;class e extends t{constructor(){super(...arguments),this._events=new Rt(this),this._cache=new Map,this.subscribers=new Map,this.registerSubscriber=this._events.define("pubsub-subscribe",(t=>{const{topic:e,subscriber:n,readCache:i}=t.detail,o=this.getOrCreateTopicSubs(e);null==o||o.add(n),i&&this._cache.has(e)&&n(this._cache.get(e))})),this.unregisterSubscriber=this._events.define("pubsub-unsubscribe",(t=>{const{topic:e,subscriber:n}=t.detail,i=this.getOrCreateTopicSubs(e);null==i||i.delete(n)})),this.publish=this._events.define("pubsub-publish",(t=>{const{topic:e,data:n}=t.detail;this.getOrCreateTopicSubs(e).forEach((t=>t(n))),this._cache.set(e,n)}))}getOrCreateTopicSubs(t){return this.subscribers.has(t)||this.subscribers.set(t,new Set),this.subscribers.get(t)}}return e[wn]=!0,e}($n(function(t){if(Jt in t)return t;class e extends t{constructor(...t){super(...t),this._overlayEvents=new Rt(this),this.displays=[],this.handleLoggedInAction=t=>{if(window.navigator.onLine){(t.type===Xt.report?this.displayOverlay("shreddit-signup-report-drawer",{thingId:t.detail.thingId}):this.displayOverlay("shreddit-signup-drawer"))||this.goToMweb()}else this.showBrowserOfflineToast()},this.registerDisplay=this._overlayEvents.define("register-overlay-display",(t=>{const e=t.detail.display;-1===this.displays.indexOf(e)&&this.displays.push(e)})),this.unregisterDisplay=this._overlayEvents.define("unregister-overlay-display",(t=>{const e=t.detail.display,n=this.displays.indexOf(e);-1!==n&&this.displays.splice(n,1)})),this.dismissOverlay=this._overlayEvents.define("dismiss-overlay",(()=>{for(const t of this.displays)t.dismissOverlay()})),this._overlayEvents.define(Xt.upvote,this.handleLoggedInAction),this._overlayEvents.define(Xt.downvote,this.handleLoggedInAction),this._overlayEvents.define(Xt.reply,this.handleLoggedInAction),this._overlayEvents.define(Xt.join,this.handleLoggedInAction),this._overlayEvents.define(Xt.signup,this.handleLoggedInAction),this._overlayEvents.define(Xt.save,this.handleLoggedInAction),this._overlayEvents.define(Xt.follow,this.handleLoggedInAction),this._overlayEvents.define(Xt.awards,this.handleLoggedInAction),this._overlayEvents.define(Xt.report,this.handleLoggedInAction)}goToMweb(){location.href=Yt}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback()}displayOverlay(t,e){let n=!1;for(const i of this.displays)i.displayOverlay(t,e),n=!0;return n}showBrowserOfflineToast(){const t=Nt("faceplate-alert",{level:Ct.warning,message:"No internet connection. Please try again."});this.dispatchEvent(t)}}return e[Jt]=!0,e}(function(t){if(bn in t)return t;class e extends t{constructor(){super(...arguments),this._scrollBlockerEvents=new Rt(this),this.scrollingBlockedBy=new Set,this.nodeBySource={},this.blockBodyScrolling=this._scrollBlockerEvents.define("block-body-scrolling",(t=>{const{isBlocked:e,source:n}=t.detail;if(e&&!this.scrollingBlockedBy.has(n)){const{node:e,allowWheelEvents:i}=t.detail;0===this.scrollingBlockedBy.size&&this.rafOrYOLO((()=>{this.isConnected&&(i||this.preventWheelEventsOnBody(),this.preventTouchEventsOnNode(e))})),this.nodeBySource[n]=e,this.scrollingBlockedBy.add(n)}else!e&&this.scrollingBlockedBy.has(n)&&this.rafOrYOLO((()=>{this.allowWheelEventsOnBody(),this.allowTouchEventsOnNode(this.nodeBySource[n]),this.scrollingBlockedBy.delete(n),delete this.nodeBySource[n]}))}))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this.rafOrYOLO((()=>{this.allowWheelEventsOnBody();for(const t in Object.keys(this.nodeBySource))this.allowTouchEventsOnNode(this.nodeBySource[t]),this.scrollingBlockedBy.delete(t),delete this.nodeBySource[t]}))}preventWheelEventsOnBody(){document.body.classList.contains("scroll-is-blocked")||document.body.classList.add("scroll-is-blocked")}allowWheelEventsOnBody(){document.body.classList.remove("scroll-is-blocked")}preventTouchEventsOnNode(t){(t||document).addEventListener("touchmove",fn,{passive:!1})}allowTouchEventsOnNode(t){(t||document).removeEventListener("touchmove",fn)}rafOrYOLO(t){requestAnimationFrame?requestAnimationFrame(t):t()}}return e[bn]=!0,e}(gt)))),Xn=()=>{};let Zn=class extends Jn{constructor(){super(),this.prefetch=!1,this.debug=!1,this.isBlank=!1,this.routeName="",this.pageType="",this.actionInfoHydration={},this.serverRenderId="",this.loid="",this.canonicalUrl="",this.deviceType=le.MOBILE,this.showDesktop=!1,this.showShredtopMobile=!1,this.success=!0,this.hasSentScreenview=!1,this.screenViewData={},this._alertReporter=new ae(this),this.handleOnline=()=>{window.removeEventListener("faceplate-alert",Xn);Array.from(document.querySelectorAll("faceplate-toast")).forEach((t=>t.remove()))},this.handleOffline=()=>{this._alertReporter.report({level:Ct.error,message:"It looks like you may be offline. Content and images will not load until you reconnect."}),window.addEventListener("faceplate-alert",Xn)},this._events=new Rt(this),this.toggleSidebar=this._events.define("logo-click",(()=>{this.classList.toggle("sidebar-open")})),this.onPageHide=()=>{!function(t){const e=[...pe,...t||[]];he(e),ve()}([this._addEventDetails(We({source:"global",action:"leave",noun:"app"})),this._addEventDetails(We({source:"global",action:"leave",noun:"screen"}))])},this.onFaceplateRequest=t=>{if(this.addCSRFToken(t),"/svc/shreddit/perfMetrics"===t.detail.resource){const{body:e}=t.detail.request;e.meta=Object.assign(Object.assign({},e.meta),{route_name:this.routeName,page_type:this.pageType,prefetch:this.prefetch.toString()});!!document.querySelector("shreddit-forbidden[not_found]")&&(e.meta.page_not_found=1),e.metrics["first-contentful-paint"]&&this.trackScreenView()}t.detail.resource.indexOf("more-comments")>-1&&this.trackClickLoadMoreComments()},this.onPixelFired=t=>{this._alertReporter.report({level:Ct.debug,name:"pixel",meta:t.detail})},this.trackClickLoadMoreComments=()=>{const t=Nt("track-event",{details:We({source:"post_detail",action:"click",noun:"load_more_comments"})});this.dispatchEvent(t)},this._enrichScreenView=this._events.define("screenview-data-loaded",(t=>{this.screenViewData=t.detail})),this._updateCanonicalUrl=this._events.define("canonical-url-updated",(t=>{this.canonicalUrl=t.detail})),this._firstCommentUpdate=this._events.define("first-comment-udpated",(()=>{const t=this.querySelector("faceplate-partial.lb-lazy-preload");t&&t.classList.remove("hidden")})),this.trackScreenView=()=>{const t=this.hasSentScreenview?"":this.serverRenderId,e=Nt("track-event",{details:je(this.success,this.screenViewData,t)});this.dispatchEvent(e),this.hasSentScreenview=!0},this._pageviewUnsuccessful=this._events.define("unsuccessful-pageview",(()=>{this.success=!1})),this._trackEvent=this._events.define("track-event",(t=>{var e,n;const i=this._addEventDetails(t.detail.details);var o;o=i,pe.push(o),(t=>{if(!t)return!1;const{source:e,action:n,noun:i}=t;return"global__view__screen"==`${e}__${n}__${i}`})(o)||pe.length>=40?me():ue||(ue=setTimeout((()=>me()),3e3));let r={};if(CLIENT_CONFIG.USE_DEBUG)try{r=JSON.parse(null!==(n=null===(e=document.getElementById("debug-event-data"))||void 0===e?void 0:e.value)&&void 0!==n?n:"{}")}catch(t){console.error("Unable to parse JSON from `debug-event-data`.")}const[s,a]=Qn(i);this._alertReporter.report({level:Ct.debug,message:`event: ${i.source} | ${i.action} | ${i.noun} ${s?"âœ…":"âŒ"}`,meta:JSON.stringify(Object.assign(Object.assign({},fe(i,r)),{error:a}))})})),this.addEventListener("faceplate-request",this.onFaceplateRequest),window.addEventListener("pixelFired",this.onPixelFired),window.addEventListener("offline",this.handleOffline),window.addEventListener("online",this.handleOnline)}get csrfProviderToken(){var t;return null!==(t=qt.get("csrf_token"))&&void 0!==t?t:""}get showLargeHeader(){return this.deviceType!==le.MOBILE&&this.showDesktop}get showSmallHeader(){return this.deviceType===le.MOBILE&&this.showShredtopMobile}static get styles(){return[Dn,jt(":host {\n  display: block;\n}\nreddit-header {\n  --color-tone-6: #1d2535;\n  padding-left: calc(50vw - 50%);\n  padding-right: calc(50vw - 50%);\n  margin-left: calc(0px - (50vw - 50%));\n  margin-right: calc(0px - (50vw - 50%));\n  padding-top: var(--faceplate-body-padding);\n  padding-bottom: var(--faceplate-body-padding);\n  margin-top: calc(-1 * var(--faceplate-body-padding));\n  margin-bottom: var(--faceplate-body-padding);\n  background: var(--color-tone-6);\n  color: var(--color-global-white);\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  z-index: 3;\n  height: var(--shreddit-header-height);\n  box-sizing: border-box;\n}\nreddit-header:not(:defined) {\n  visibility: visible;\n}\nreddit-header:not(:defined) * {\n  visibility: hidden;\n}\nreddit-header reddit-wordmark {\n  margin-top: 0.4375rem;\n}\n")]}render(){return this.isBlank?G`<slot></slot> `:this.showLargeHeader||this.showSmallHeader?G`\n ${this.debug?G`\n <shreddit-async-loader class="hidden" bundleName="debug"></shreddit-async-loader>\n `:""}<slot></slot>\n `:G`<reddit-header ?debug="${this.debug}">\n <slot name="breadcrumbs" slot="breadcrumbs">\n <a class="no-underline text-inherit" href="/" @click="${this.trackClickWordmark}">\n <reddit-wordmark \n class="ml-2xs mt-[0.4375rem] text-18 text-global-white" \n aria-hidden="true" \n></reddit-wordmark>\n <faceplate-screen-reader-content>\n Reddit\n </faceplate-screen-reader-content>\n </a>\n </slot>\n <slot name="shreddit-header-hamburger-menu" slot="shreddit-header-hamburger-menu"></slot>\n </reddit-header>\n <slot></slot>`}connectedCallback(){super.connectedCallback(),setTimeout((()=>Mn(this.trackEvent))),window.addEventListener("pagehide",this.onPageHide)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("pagehide",this.onPageHide)}addCSRFToken(t){const e=t.detail.request.body;e&&("function"!=typeof e.append?Object.getPrototypeOf(e)===Object.getPrototypeOf({})&&(e.csrf_token=this.csrfProviderToken):e.append("csrf_token",this.csrfProviderToken))}trackClickWordmark(){this.trackEvent(nn())}_addEventDetails(t){return Object.assign(Object.assign({},t),{action_info:Object.assign(Object.assign({page_type:this.pageType.toLowerCase()},t.action_info),this.actionInfoHydration),user:t.user,request:Object.assign(Object.assign({},t.request),{canonical_url:this.canonicalUrl})})}};e([l({type:Boolean})],Zn.prototype,"prefetch",void 0),e([l({type:Boolean})],Zn.prototype,"debug",void 0),e([l({type:Boolean})],Zn.prototype,"isBlank",void 0),e([l({type:String})],Zn.prototype,"routeName",void 0),e([l({type:String})],Zn.prototype,"pageType",void 0),e([l({type:Object})],Zn.prototype,"actionInfoHydration",void 0),e([l({type:String})],Zn.prototype,"serverRenderId",void 0),e([l({type:String})],Zn.prototype,"loid",void 0),e([l({type:String})],Zn.prototype,"canonicalUrl",void 0),e([l({type:String})],Zn.prototype,"deviceType",void 0),e([l({type:Boolean})],Zn.prototype,"showDesktop",void 0),e([l({type:Boolean})],Zn.prototype,"showShredtopMobile",void 0),e([d()],Zn.prototype,"success",void 0),Zn=e([s("shreddit-app")],Zn);const ti=Symbol("mixins/with-scroll-blocking");function ei(t){if(ti in t)return t;class n extends t{blockPageScrolling({source:t=this.tagName,node:e}={}){const n=Nt("block-body-scrolling",{allowWheelEvents:this.allowWheelEvents,isBlocked:!0,node:e,source:t});this.dispatchEvent(n)}unblockPageScrolling(t=this.tagName){const e=Nt("block-body-scrolling",{isBlocked:!1,source:t});this.dispatchEvent(e)}}return n[ti]=!0,e([l({type:Boolean,attribute:"allow-wheel-events"})],n.prototype,"allowWheelEvents",void 0),n}const ni=()=>We({source:"community_nav",action:"click",noun:"community_recent"});Yn("icon-close",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.442 2.442l-.884-.884L10 9.116 2.442 1.558l-.884.884L9.116 10l-7.558 7.558.884.884L10 10.884l7.558 7.558.884-.884L10.884 10l7.558-7.558z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.707 2.707l-1.414-1.414L10 8.586 2.707 1.293 1.293 2.707 8.586 10l-7.293 7.293 1.414 1.414L10 11.414l7.293 7.293 1.414-1.414L11.414 10l7.293-7.293z"/></svg>`),Yn("icon-caret-down",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 13.125a.624.624 0 01-.442-.183l-5-5 .884-.884L10 11.616l4.558-4.558.884.884-5 5a.624.624 0 01-.442.183z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 13.5a1 1 0 01-.707-.293l-5-5 1.414-1.414L10 11.086l4.293-4.293 1.414 1.414-5 5A1 1 0 0110 13.5z"/></svg>`),Yn("icon-coins",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M11.762 0H7.7v.026C3.419.3 0 4.662 0 10s3.419 9.7 7.7 9.974V20h4.06C16.305 20 20 15.514 20 10S16.305 0 11.762 0zM1.25 10c0-4.825 3.084-8.75 6.875-8.75S15 5.175 15 10s-3.084 8.75-6.875 8.75S1.25 14.825 1.25 10zm10.826 8.73A10.55 10.55 0 0016.25 10a10.55 10.55 0 00-4.174-8.73c3.707.208 6.674 4.038 6.674 8.73s-2.967 8.522-6.674 8.73zm-5.813-4.447a4.47 4.47 0 01-1.511-1.764A5.558 5.558 0 014.188 10a5.582 5.582 0 01.564-2.531c.338-.71.86-1.317 1.511-1.758a3.615 3.615 0 013.229-.428c.406.137.787.34 1.128.6L9.977 7.77a1.664 1.664 0 00-.74-.568 2.415 2.415 0 00-.9-.181c-.436 0-.862.133-1.222.379a2.63 2.63 0 00-.9 1.049 3.4 3.4 0 00-.335 1.53A3.591 3.591 0 006.2 11.5c.192.433.497.807.883 1.082.367.26.807.397 1.257.393.323 0 .643-.064.942-.186a1.57 1.57 0 00.718-.544l.639 1.884c-.33.251-.698.447-1.09.581a3.725 3.725 0 01-1.219.207 3.635 3.635 0 01-2.067-.634z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.761 19.919A11.9 11.9 0 0017.625 10 11.901 11.901 0 0012.761.081C16.833.682 20 4.9 20 10c0 5.1-3.167 9.318-7.239 9.919zM16.25 10c0 5.514-3.645 10-8.125 10S0 15.514 0 10 3.645 0 8.125 0s8.125 4.486 8.125 10zm-5.613 4.129L10 12.245c-.18.249-.43.44-.717.548-.3.122-.619.185-.942.186-.45.004-.89-.133-1.257-.393A2.65 2.65 0 016.2 11.5a3.591 3.591 0 01-.319-1.53 3.4 3.4 0 01.335-1.53 2.63 2.63 0 01.9-1.049 2.166 2.166 0 011.224-.374c.309.002.614.064.9.181.296.115.553.312.74.568l.639-1.885a3.967 3.967 0 00-1.128-.6 3.615 3.615 0 00-3.225.428 4.423 4.423 0 00-1.514 1.76A5.582 5.582 0 004.188 10c-.012.872.18 1.735.564 2.519.34.71.86 1.32 1.511 1.764a3.635 3.635 0 002.065.634c.415 0 .827-.07 1.219-.207.392-.134.76-.33 1.09-.581z"/></svg>`),Yn("icon-help",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_474_80)"><path d="M10 20a10 10 0 1110-10 10.011 10.011 0 01-10 10zm0-18.75A8.75 8.75 0 1018.75 10 8.76 8.76 0 0010 1.25zm1.611 4.058a2.4 2.4 0 01.994.861c.241.375.366.812.359 1.258a2.04 2.04 0 01-.167.854c-.1.229-.238.439-.407.622-.2.208-.413.404-.636.588-.223.188-.4.348-.533.483a1.754 1.754 0 00-.328.464 1.326 1.326 0 00-.13.591v.78H9.328v-.759a2.216 2.216 0 01.601-1.572c.204-.21.421-.406.65-.588.209-.173.373-.316.492-.431a1.52 1.52 0 00.3-.4 1.154 1.154 0 00-.058-1.128 1.192 1.192 0 00-.485-.421 1.525 1.525 0 00-.677-.151 1.545 1.545 0 00-.721.168 1.3 1.3 0 00-.713 1.131H7.256a2.628 2.628 0 011.381-2.293A3.132 3.132 0 0110.175 5c.496-.008.987.097 1.436.308zm-2.164 9.843a1.088 1.088 0 01-.386-.385 1.034 1.034 0 01-.144-.537c-.002-.186.048-.37.144-.53.094-.16.227-.293.386-.387a1.03 1.03 0 01.53-.143 1.062 1.062 0 01.926 1.597c-.096.159-.23.291-.389.385a1.034 1.034 0 01-.537.144 1.021 1.021 0 01-.53-.144z"/></g><defs><clipPath id="clip0_474_80"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_474_99)"><path d="M10 0a10 10 0 1010 10A10.011 10.011 0 0010 0zm1.187 14.646c-.11.194-.27.356-.461.471a1.24 1.24 0 01-.657.178 1.287 1.287 0 01-.649-2.4c.195-.114.417-.173.642-.171a1.292 1.292 0 011.118.635 1.3 1.3 0 01.007 1.286v.001zm1.8-6.238c-.1.233-.235.45-.4.643a8.64 8.64 0 01-.629.625c-.223.2-.4.37-.53.512-.132.145-.243.31-.328.486a1.37 1.37 0 00-.133.608v.574H9.14v-.567c-.007-.33.056-.659.184-.964.108-.255.256-.491.438-.7A6.86 6.86 0 0110.425 9c.2-.173.348-.315.458-.427.108-.11.2-.234.273-.369a.91.91 0 00.11-.441.874.874 0 00-.151-.5 1 1 0 00-.407-.346 1.346 1.346 0 00-1.168.021c-.18.09-.333.226-.445.393a1.033 1.033 0 00-.174.57H7.027c.006-.51.144-1.009.4-1.449a2.815 2.815 0 011.1-1.055A3.373 3.373 0 0110.186 5a3.515 3.515 0 011.524.321c.43.196.796.508 1.06.9.257.39.39.848.382 1.315.006.3-.05.596-.167.872h.002z"/></g><defs><clipPath id="clip0_474_99"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`),Yn("icon-info",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_474_84)"><path d="M10 20a10 10 0 1110-10 10.011 10.011 0 01-10 10zm0-18.75A8.75 8.75 0 1018.75 10 8.76 8.76 0 0010 1.25zm-.543 5.705a1.058 1.058 0 01-.39-.393 1.11 1.11 0 010-1.09c.093-.161.228-.295.39-.386a1.1 1.1 0 011.484.39c.098.163.149.35.147.54a1.08 1.08 0 01-.54.936A1.05 1.05 0 0110 7.1a1.062 1.062 0 01-.543-.145zm1.354 8.463H9.2V8.124h1.614l-.003 7.294z"/></g><defs><clipPath id="clip0_474_84"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_474_83)"><path d="M10 0a10 10 0 1010 10A10.011 10.011 0 0010 0zm1.081 15.418H8.92V8.062h2.161v7.356zm.065-8.859a1.307 1.307 0 01-1.139.656 1.29 1.29 0 01-.67-.178 1.343 1.343 0 01-.475-1.811c.113-.197.277-.36.475-.472a1.344 1.344 0 011.326.008 1.321 1.321 0 01.483 1.797z"/></g><defs><clipPath id="clip0_474_83"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`),Yn("icon-load",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M4.444 10.625H0v-1.25h4.444v1.25zM20 9.375h-4.444v1.25H20v-1.25zM10.625 0h-1.25v4.444h1.25V0zm0 15.556h-1.25V20h1.25v-4.444zM5.5 13.319l-.625-1.083-3.848 2.223.625 1.082L5.5 13.319zm13.473-7.778l-.625-1.082L14.5 6.681l.625 1.083 3.848-2.223zm-11.21-.665L5.541 1.027l-1.082.625L6.681 5.5l1.082-.624zm7.778 13.472L13.318 14.5l-1.082.625 2.223 3.849 1.082-.626zm3.432-3.889l-3.849-2.223-.624 1.083 3.849 2.222.624-1.082zM5.5 6.681L1.652 4.459l-.625 1.082 3.849 2.223.624-1.083zm2.263 8.443L6.682 14.5l-2.223 3.848 1.082.625 2.222-3.849zm7.778-13.472l-1.082-.625-2.223 3.849 1.082.625 2.223-3.849z"/></svg>`),Yn("icon-powerup",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6.308 19.776a.843.843 0 01-.743-.448.823.823 0 01-.08-.522l1.161-6.882H3.831a.831.831 0 01-.806-1.035L5.338 1.63A.828.828 0 016.144 1h8.3a.832.832 0 01.741 1.21l-2.392 4.841h3.56a.832.832 0 01.622 1.384L6.921 19.5a.816.816 0 01-.613.276zM6 18.658l-.007.007.007-.007zm-1.63-7.984h3.756L6.955 17.6l8.453-9.3H10.78l2.993-6.05h-7.3L4.37 10.674zm9.7-9.026v.009-.009z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M17.112 7.542a.83.83 0 00-.759-.491h-3.56l2.394-4.841a.831.831 0 00-.74-1.21h-8.3a.828.828 0 00-.807.63l-2.315 9.259a.832.832 0 00.806 1.035h2.815l-1.162 6.882a.823.823 0 00.461.887.843.843 0 00.363.083.815.815 0 00.613-.276L16.975 8.435a.832.832 0 00.137-.893z"/></svg>`),Yn("icon-premium",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19.493 1.615a.629.629 0 00-.493-.24h-.877c-2.688 0-5.365-.33-7.972-.98a.594.594 0 00-.3 0c-2.608.65-5.285.98-7.972.98h-.88a.624.624 0 00-.605.776 32.91 32.91 0 01.98 7.972v3.851a4.089 4.089 0 004.085 4.084 6.764 6.764 0 014.155 1.434.627.627 0 00.772 0 6.764 6.764 0 014.155-1.434 4.09 4.09 0 004.084-4.084v-3.85c0-2.688.33-5.365.98-7.973a.625.625 0 00-.112-.536zM1.877 2.625a34.158 34.158 0 007.5-.848v7.1H2.59a34.172 34.172 0 00-.8-6.25l.087-.002zm.748 11.35v-3.85h6.75v7.735a7.999 7.999 0 00-3.916-1.052 2.837 2.837 0 01-2.834-2.834zm11.916 2.833a7.999 7.999 0 00-3.916 1.052v-7.735h6.75v3.85a2.837 2.837 0 01-2.834 2.833zm2.869-7.933h-6.785v-7.1c2.46.56 4.976.844 7.5.848h.086a34.174 34.174 0 00-.801 6.252z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19.493 1.615a.629.629 0 00-.493-.24h-.877c-2.688 0-5.365-.33-7.972-.98a.594.594 0 00-.3 0c-2.608.65-5.285.98-7.972.98h-.88a.624.624 0 00-.605.776 32.91 32.91 0 01.98 7.972v3.851a4.089 4.089 0 004.085 4.084 6.764 6.764 0 014.155 1.434.627.627 0 00.772 0 6.764 6.764 0 014.155-1.434 4.09 4.09 0 004.084-4.084v-3.85c0-2.688.33-5.365.98-7.973a.625.625 0 00-.112-.536zm-2.118 12.36a2.837 2.837 0 01-2.834 2.833A8.022 8.022 0 0010 18.225V9.5H2.608a34.2 34.2 0 00-.817-6.875h.086c2.737 0 5.464-.33 8.123-.98V9.5h7.392c0 .208-.017.415-.017.623v3.851z"/></svg>`),Yn("icon-rules",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_797_61)"><path d="M7.35 7.333H5.733V6.77h.48V5.23a1.232 1.232 0 01-.47.111v-.507c.178.01.353-.05.487-.167h.7v2.1h.419l.003.566zm-.767 1.92c.164 0 .258.082.258.23 0 .22-.115.276-.516.522-.7.422-.768.806-.768 1.185v.143h1.975v-.564H6.374c.039-.106.149-.236.483-.424.538-.29.659-.581.659-.878 0-.488-.3-.8-.916-.8a1.171 1.171 0 00-1.05.633l.479.345a.708.708 0 01.554-.392zm.536 4.66a.544.544 0 00.383-.545c0-.438-.313-.7-.9-.7a1.435 1.435 0 00-1.01.4l.369.427a.824.824 0 01.588-.26c.178 0 .275.081.275.211 0 .156-.1.253-.448.253h-.218v.482h.205c.356 0 .507.086.507.307 0 .162-.1.28-.383.28a.7.7 0 01-.566-.334L5.5 14.8a1.22 1.22 0 001.047.529c.626 0 1.036-.286 1.036-.826a.581.581 0 00-.464-.59zm1.88-3.288h6v-1.25H9v1.25zm0 4h6v-1.25H9v1.25zm0-8h6v-1.25H9v1.25zm9-5.014v17.271A1.123 1.123 0 0116.876 20h-12.7a1.123 1.123 0 01-1.125-1.118V4.25h-.875A1.127 1.127 0 011.05 3.125v-1.5A1.627 1.627 0 012.675 0h13.7A1.62 1.62 0 0118 1.611zM2.3 3h.75V1.625a.375.375 0 10-.75 0V3zm14.45-1.389a.369.369 0 00-.374-.361H4.252a1.6 1.6 0 01.048.375V18.75h12.45V1.611z"/></g><defs><clipPath id="clip0_797_61"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_797_62)"><path d="M16.375 0h-13.7A1.627 1.627 0 001.05 1.625v1.5A1.127 1.127 0 002.175 4.25h.875v14.632A1.123 1.123 0 004.175 20h12.7A1.123 1.123 0 0018 18.882V1.611A1.62 1.62 0 0016.375 0zM5.732 6.77h.48V5.23a1.232 1.232 0 01-.47.111v-.507c.178.01.353-.05.487-.167h.7v2.1h.419v.563H5.732v-.56zm.868 1.9c.619 0 .916.312.916.8 0 .3-.121.588-.66.878-.333.188-.443.318-.482.424h1.158v.564H5.557v-.146c0-.379.07-.763.768-1.185.4-.246.516-.3.516-.522 0-.148-.094-.23-.258-.23a.708.708 0 00-.554.395L5.55 9.3A1.171 1.171 0 016.6 8.667v.003zm-.053 6.666A1.22 1.22 0 015.5 14.8l.42-.367a.7.7 0 00.567.334c.287 0 .383-.118.383-.28 0-.221-.151-.307-.507-.307h-.205v-.48h.216c.345 0 .448-.1.448-.253 0-.13-.1-.211-.275-.211a.825.825 0 00-.588.26l-.368-.427c.27-.26.633-.404 1.009-.4.589 0 .9.263.9.7a.544.544 0 01-.383.545.58.58 0 01.464.594c.002.539-.408.825-1.034.825v.003zM15 15H9v-2h6v2zm0-4H9V9h6v2zm0-4H9V5h6v2z"/></g><defs><clipPath id="clip0_797_62"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`),Yn("icon-settings",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_473_79)"><path d="M10 20c-.401 0-.802-.027-1.2-.079a1.145 1.145 0 01-.992-1.137v-1.073a.97.97 0 00-.627-.878A.98.98 0 006.1 17l-.755.753a1.149 1.149 0 01-1.521.1 10.16 10.16 0 01-1.671-1.671 1.149 1.149 0 01.1-1.523L3 13.906a.97.97 0 00.176-1.069.98.98 0 00-.887-.649H1.216A1.145 1.145 0 01.079 11.2a9.1 9.1 0 010-2.393 1.145 1.145 0 011.137-.992h1.073a.97.97 0 00.878-.627A.979.979 0 003 6.1l-.754-.754a1.15 1.15 0 01-.1-1.522 10.16 10.16 0 011.673-1.676 1.155 1.155 0 011.522.1L6.1 3a.966.966 0 001.068.176.98.98 0 00.649-.887V1.216A1.145 1.145 0 018.8.079a9.129 9.129 0 012.393 0 1.144 1.144 0 01.991 1.137v1.073a.971.971 0 00.628.878A.977.977 0 0013.905 3l.754-.754a1.152 1.152 0 011.522-.1c.62.49 1.18 1.05 1.671 1.671a1.15 1.15 0 01-.1 1.522L17 6.1a.967.967 0 00-.176 1.068.98.98 0 00.887.649h1.073a1.145 1.145 0 011.137.991 9.096 9.096 0 010 2.392 1.145 1.145 0 01-1.137.992h-1.073A1.041 1.041 0 0017 13.905l.753.755a1.149 1.149 0 01.1 1.521c-.49.62-1.05 1.18-1.671 1.671a1.149 1.149 0 01-1.522-.1L13.906 17a.97.97 0 00-1.069-.176.981.981 0 00-.65.887v1.073a1.144 1.144 0 01-.99 1.137A9.431 9.431 0 0110 20zm-.938-1.307a7.638 7.638 0 001.875 0v-.982a2.292 2.292 0 013.853-1.6l.693.694a8.796 8.796 0 001.326-1.326l-.694-.694a2.29 2.29 0 011.6-3.851h.982a7.746 7.746 0 000-1.876h-.982a2.213 2.213 0 01-2.034-1.4 2.223 2.223 0 01.438-2.451l.694-.693a8.76 8.76 0 00-1.327-1.326l-.692.694a2.219 2.219 0 01-2.434.445 2.221 2.221 0 01-1.419-2.041v-.979a7.638 7.638 0 00-1.875 0v.982a2.213 2.213 0 01-1.4 2.034 2.23 2.23 0 01-2.456-.438l-.693-.694a8.757 8.757 0 00-1.326 1.327l.694.692a2.216 2.216 0 01.445 2.434 2.22 2.22 0 01-2.041 1.418h-.982a7.746 7.746 0 000 1.876h.982a2.213 2.213 0 012.034 1.4 2.223 2.223 0 01-.438 2.451l-.694.693c.394.488.838.933 1.326 1.326l.694-.694a2.218 2.218 0 012.433-.445 2.22 2.22 0 011.418 2.041v.983zM10 13.229a3.23 3.23 0 110-6.458 3.23 3.23 0 010 6.458zm0-5.208a1.979 1.979 0 100 3.958 1.979 1.979 0 000-3.958z"/></g><defs><clipPath id="clip0_473_79"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_473_76)"><path d="M19.921 8.8a1.145 1.145 0 00-1.137-.991h-1.073a.98.98 0 01-.887-.649A.969.969 0 0117 6.1l.754-.754a1.15 1.15 0 00.1-1.522 10.16 10.16 0 00-1.671-1.671 1.152 1.152 0 00-1.522.1L13.905 3a.975.975 0 01-1.09.167.97.97 0 01-.628-.878V1.216A1.144 1.144 0 0011.2.079a9.129 9.129 0 00-2.4 0 1.145 1.145 0 00-.991 1.137v1.073a.98.98 0 01-.649.887A.966.966 0 016.1 3l-.754-.754a1.152 1.152 0 00-1.522-.1 10.16 10.16 0 00-1.676 1.673 1.15 1.15 0 00.1 1.522L3 6.1a.979.979 0 01.167 1.09.97.97 0 01-.878.627H1.216A1.145 1.145 0 00.079 8.8a9.1 9.1 0 000 2.393 1.145 1.145 0 001.137.991h1.073a.98.98 0 01.887.649A.97.97 0 013 13.906l-.751.752a1.149 1.149 0 00-.1 1.523c.49.62 1.05 1.18 1.671 1.671a1.148 1.148 0 001.521-.1L6.1 17a.98.98 0 011.09-.167.97.97 0 01.627.878v1.073a1.145 1.145 0 00.983 1.137 9.103 9.103 0 002.393 0 1.144 1.144 0 00.99-1.137v-1.073a.981.981 0 01.65-.887.968.968 0 011.073.176l.753.753a1.149 1.149 0 001.522.1c.62-.49 1.18-1.05 1.671-1.671a1.149 1.149 0 00-.1-1.521L17 13.905a1.04 1.04 0 01.711-1.717h1.073a1.145 1.145 0 001.137-.992 9.096 9.096 0 000-2.392V8.8zM11.979 10a1.98 1.98 0 11-3.958 0 1.98 1.98 0 013.958 0z"/></g><defs><clipPath id="clip0_473_76"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`);let ii=class extends gt{render(){return G`\n <slot @click="${this.interactionHandler}" @keydown="${this.interactionHandler}"></slot>\n `}interactionHandler(t){t instanceof KeyboardEvent&&"Enter"!==t.key||this.dispatchEvent(new Event("interactionEvent"))}};var oi;ii=e([s("shreddit-interactable-element")],ii),Yn("reddit-wordmark",Q` <svg xmlns="http://www.w3.org/2000/svg" width="55px" height="18px" viewBox="0 0 55 18"> <g> <circle fill="#ff4500" cx="45.77" cy="3.33" r="2.05"/> <path d="M16.73,12.05a1.44,1.44,0,0,0,1.54-1.48,4.91,4.91,0,0,0-.1-0.83,5.66,5.66,0,0,0-5.34-4.61c-3,0-5.51,2.76-5.51,6.15s2.47,6.15,5.51,6.15a5.47,5.47,0,0,0,4.26-1.78,1.19,1.19,0,0,0-.19-1.77,1.25,1.25,0,0,0-1.53.16,3.78,3.78,0,0,1-2.54,1.09,3.42,3.42,0,0,1-3.14-3.08h7ZM12.82,7.44a3.3,3.3,0,0,1,3,2.56h-6A3.3,3.3,0,0,1,12.82,7.44Z"/> <path d="M7.44,6.32a1.15,1.15,0,0,0-1-1.14A4.46,4.46,0,0,0,2.31,6.69V6.54A1.15,1.15,0,1,0,0,6.54V16a1.18,1.18,0,0,0,1.08,1.2A1.15,1.15,0,0,0,2.31,16V11.15A3.51,3.51,0,0,1,6.15,7.47H6.38A1.15,1.15,0,0,0,7.44,6.32Z"/> <path d="M46.92,7.56a1.15,1.15,0,0,0-2.31,0V16a1.15,1.15,0,1,0,2.31,0V7.56Z"/> <path d="M29.87,1.15A1.15,1.15,0,0,0,28.72,0h0a1.15,1.15,0,0,0-1.15,1.15V6.31a4,4,0,0,0-2.95-1.18c-3,0-5.51,2.76-5.51,6.15s2.47,6.15,5.51,6.15a4.08,4.08,0,0,0,3-1.19A1.15,1.15,0,0,0,29.87,16V1.15Zm-5.26,14c-1.77,0-3.21-1.72-3.21-3.85s1.43-3.85,3.21-3.85,3.21,1.72,3.21,3.85S26.39,15.13,24.62,15.13Z"/> <path d="M41.92,1.15A1.15,1.15,0,0,0,40.77,0h0a1.15,1.15,0,0,0-1.15,1.15V6.31a4,4,0,0,0-2.95-1.18c-3,0-5.51,2.76-5.51,6.15s2.47,6.15,5.51,6.15a4.08,4.08,0,0,0,3-1.19A1.15,1.15,0,0,0,41.92,16V1.15Zm-5.26,14c-1.77,0-3.21-1.72-3.21-3.85s1.43-3.85,3.21-3.85,3.21,1.72,3.21,3.85S38.44,15.13,36.67,15.13Z"/> <path d="M52.91,16V7.44h1a1,1,0,0,0,1.06-1,1,1,0,0,0-1-1.09H52.91V3.76a1.18,1.18,0,0,0-1.08-1.19,1.15,1.15,0,0,0-1.23,1.15V5.38h-1a1,1,0,0,0-1.06,1,1,1,0,0,0,1,1.09h1V16a1.15,1.15,0,0,0,1.15,1.15h0A1.15,1.15,0,0,0,52.91,16Z"/> </g> </svg> `);const ri=$n(gt),si=t=>t?"opacity-100 visible":"opacity-0 invisible",ai=({isActive:t,onClick:e})=>G`<a \n class="text-global-white font-semibold no-underline absolute\n transition-[opacity, visibility] duration-300 ease-linear wordmark-container\n ${si(t)}" \n href="/" \n @click="${e}" \n>\n <reddit-wordmark \n aria-hidden="true" \n class="ml-2xs mt-[0.4375rem] text-18 leading-4" \n></reddit-wordmark>\n <faceplate-screen-reader-content>\n Reddit\n </faceplate-screen-reader-content>\n </a>`;let li=oi=class extends ri{constructor(){super(...arguments),this.shouldDisplayBreadcrumbs=!1,this.initTimeout=void 0,this.initialize=()=>{this.initTimeout=void 0,document.addEventListener("scroll",this.updateDisplayState,{passive:!0}),this.updateDisplayState()},this.updateDisplayState=()=>{this.shouldDisplayBreadcrumbs=window.scrollY>oi.SCROLL_THRESHOLD},this.onWordmarkClicked=()=>{this.trackEvent(nn())},this.onBreadcrumbsClicked=()=>{this.trackEvent(on())}}static get styles(){return[Dn,w`.navigation-title{--xpromo-top-button-padding:14rem;width:calc(100vw - var(--xpromo-top-button-padding))}`]}render(){if(!this.pageTitle)return G`<div class="relative">\n ${ai({isActive:!0,onClick:this.onWordmarkClicked})}\n </div>`;const t=ai({isActive:!this.shouldDisplayBreadcrumbs,onClick:this.onWordmarkClicked}),e=(({pageTitle:t,pageUrl:e,isActive:n,onClick:i})=>G`<a \n class="text-global-white font-semibold no-underline absolute text-12\n ml-xs mt-[0.375rem] navigation-container transition-[opacity, visibility]\n duration-300 ease-linear ${si(n)}" \n href="${e}" \n @click="${i}" \n>\n <div \n class="border-solid border-0 border-coolgray-350 border-l-sm\n py-[0.125rem] pl-xs" \n>\n <slot name="breadcrumbs-icon"></slot>\n <span \n class="inline-block overflow-hidden text-ellipsis whitespace-nowrap\n text-left align-middle ml-2xs navigation-title" \n>${t}</span>\n </div>\n </a>`)({pageTitle:this.pageTitle,pageUrl:this.pageUrl||"/",isActive:this.shouldDisplayBreadcrumbs,onClick:this.onBreadcrumbsClicked});return G`<div class="relative">${t}${e}</div>`}connectedCallback(){super.connectedCallback(),this.initTimeout=window.setTimeout(this.initialize,oi.INIT_DELAY)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("scroll",this.updateDisplayState),void 0!==this.initTimeout&&window.clearTimeout(this.initTimeout)}};li.INIT_DELAY=500,li.SCROLL_THRESHOLD=150,e([l({type:String,attribute:"page-title"})],li.prototype,"pageTitle",void 0),e([l({type:String,attribute:"page-url"})],li.prototype,"pageUrl",void 0),e([d()],li.prototype,"shouldDisplayBreadcrumbs",void 0),li=oi=e([s("reddit-breadcrumbs")],li),Yn("shreddit-logo",Q` <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 20 20"> <defs> <linearGradient id="orangeredGradient" gradientTransform="rotate(90)"> <stop offset="0%" stop-color="#FE7B0E"></stop> <stop offset="100%" stop-color="#EF0A22"></stop> </linearGradient> </defs> <g> <circle fill="#FF4500" cx="10" cy="10" r="10"></circle> <path fill="#FFF" d="M16.67,10A1.46,1.46,0,0,0,14.2,9a7.12,7.12,0,0,0-3.85-1.23L11,4.65,13.14,5.1a1,1,0,1,0,.13-0.61L10.82,4a0.31,0.31,0,0,0-.37.24L9.71,7.71a7.14,7.14,0,0,0-3.9,1.23A1.46,1.46,0,1,0,4.2,11.33a2.87,2.87,0,0,0,0,.44c0,2.24,2.61,4.06,5.83,4.06s5.83-1.82,5.83-4.06a2.87,2.87,0,0,0,0-.44A1.46,1.46,0,0,0,16.67,10Zm-10,1a1,1,0,1,1,1,1A1,1,0,0,1,6.67,11Zm5.81,2.75a3.84,3.84,0,0,1-2.47.77,3.84,3.84,0,0,1-2.47-.77,0.27,0.27,0,0,1,.38-0.38A3.27,3.27,0,0,0,10,14a3.28,3.28,0,0,0,2.09-.61A0.27,0.27,0,1,1,12.48,13.79Zm-0.18-1.71a1,1,0,1,1,1-1A1,1,0,0,1,12.29,12.08Z"></path> </g> </svg> `),Yn("icon-community",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_473_28)"><path d="M9.875 7.614a2.055 2.055 0 00-.974.222 1.62 1.62 0 00-.879 1.46v4.2H6.409V6.2h1.552v.93H8c.275-.32.616-.575 1-.748.453-.207.947-.31 1.445-.3.243-.003.487.02.725.071.158.03.31.084.451.161l-.649 1.559a1.731 1.731 0 00-.523-.2 2.755 2.755 0 00-.574-.059zM20 10A10 10 0 1110 0a10.011 10.011 0 0110 10zm-1.25 0a8.722 8.722 0 00-2.841-6.435l-4.974 11.986H9.581l5.3-12.809A8.748 8.748 0 1018.75 10z"/></g><defs><clipPath id="clip0_473_28"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_473_19)"><path d="M10 0a10 10 0 1010 10A10.011 10.011 0 0010 0zM8.016 8.633a1.616 1.616 0 00-.2.806V13.5H5.931V6.172h1.8v.9h.039a3.009 3.009 0 011.018-.732 3.45 3.45 0 011.449-.284c.246-.003.491.02.732.068.158.024.309.08.444.164l-.759 1.832a2.09 2.09 0 00-1.093-.26c-.33-.01-.658.062-.954.208a1.422 1.422 0 00-.591.565zm2.9 6.918H9.355L14.7 2.633c.426.272.828.58 1.2.922l-4.984 11.996z"/></g><defs><clipPath id="clip0_473_19"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`),Yn("icon-history",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_473_38)"><path d="M13.558 14.442l-4.183-4.183V4h1.25v5.741l3.817 3.817-.884.884zM20 10a10 10 0 10-10 10 10.011 10.011 0 0010-10zm-1.25 0A8.75 8.75 0 1110 1.25 8.76 8.76 0 0118.75 10z"/></g><defs><clipPath id="clip0_473_38"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_473_33)"><path d="M10 0a10 10 0 1010 10A10.011 10.011 0 0010 0zm3.47 14.53l-4.22-4.219V4h1.5v5.689l3.78 3.781-1.06 1.06z"/></g><defs><clipPath id="clip0_473_33"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`);const di=yt(class extends _t{constructor(t){var e;if(super(t),t.type!==ft||"class"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){var n,i;if(void 0===this.et){this.et=new Set,void 0!==t.strings&&(this.st=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in e)e[t]&&!(null===(n=this.st)||void 0===n?void 0:n.has(t))&&this.et.add(t);return this.render(e)}const o=t.element.classList;this.et.forEach((t=>{t in e||(o.remove(t),this.et.delete(t))}));for(const t in e){const n=!!e[t];n===this.et.has(t)||(null===(i=this.st)||void 0===i?void 0:i.has(t))||(n?(o.add(t),this.et.add(t)):(o.remove(t),this.et.delete(t)))}return K}}),{H:ci}=ut,hi=()=>document.createComment(""),ui=(t,e,n)=>{var i;const o=t._$AA.parentNode,r=void 0===e?t._$AB:e._$AA;if(void 0===n){const e=o.insertBefore(hi(),r),i=o.insertBefore(hi(),r);n=new ci(e,i,t,t.options)}else{const e=n._$AB.nextSibling,s=n._$AM,a=s!==t;if(a){let e;null===(i=n._$AQ)||void 0===i||i.call(n,t),n._$AM=t,void 0!==n._$AP&&(e=t._$AU)!==s._$AU&&n._$AP(e)}if(e!==r||a){let t=n._$AA;for(;t!==e;){const e=t.nextSibling;o.insertBefore(t,r),t=e}}}return n},pi=(t,e,n=t)=>(t._$AI(e,n),t),mi={},vi=t=>{var e;null===(e=t._$AP)||void 0===e||e.call(t,!1,!0);let n=t._$AA;const i=t._$AB.nextSibling;for(;n!==i;){const t=n.nextSibling;n.remove(),n=t}},gi=(t,e,n)=>{const i=new Map;for(let o=e;o<=n;o++)i.set(t[o],o);return i},bi=yt(class extends _t{constructor(t){if(super(t),t.type!==wt)throw Error("repeat() can only be used in text expressions")}dt(t,e,n){let i;void 0===n?n=e:void 0!==e&&(i=e);const o=[],r=[];let s=0;for(const e of t)o[s]=i?i(e,s):s,r[s]=n(e,s),s++;return{values:r,keys:o}}render(t,e,n){return this.dt(t,e,n).values}update(t,[e,n,i]){var o;const r=(t=>t._$AH)(t),{values:s,keys:a}=this.dt(e,n,i);if(!Array.isArray(r))return this.ut=a,s;const l=null!==(o=this.ut)&&void 0!==o?o:this.ut=[],d=[];let c,h,u=0,p=r.length-1,m=0,v=s.length-1;for(;u<=p&&m<=v;)if(null===r[u])u++;else if(null===r[p])p--;else if(l[u]===a[m])d[m]=pi(r[u],s[m]),u++,m++;else if(l[p]===a[v])d[v]=pi(r[p],s[v]),p--,v--;else if(l[u]===a[v])d[v]=pi(r[u],s[v]),ui(t,d[v+1],r[u]),u++,v--;else if(l[p]===a[m])d[m]=pi(r[p],s[m]),ui(t,r[u],r[p]),p--,m++;else if(void 0===c&&(c=gi(a,m,v),h=gi(l,u,p)),c.has(l[u]))if(c.has(l[p])){const e=h.get(a[m]),n=void 0!==e?r[e]:null;if(null===n){const e=ui(t,r[u]);pi(e,s[m]),d[m]=e}else d[m]=pi(n,s[m]),ui(t,r[u],n),r[e]=null;m++}else vi(r[p]),p--;else vi(r[u]),u++;for(;m<=v;){const e=ui(t,d[v+1]);pi(e,s[m]),d[m++]=e}for(;u<=p;){const t=r[u++];null!==t&&vi(t)}return this.ut=a,((t,e=mi)=>{t._$AH=e})(t,d),K}});var fi;!function(t){t.SubredditDataRequested="subreddit_data_requested",t.TriggerNsfwBlockingExperience="trigger_nsfw_blocking_experience",t.TriggerUntaggedContentBlockingExperience="trigger_untagged_content_blocking_experience",t.ScreenViewDataLoaded="screenview_data_loaded",t.PageDataLoaded="page_data_loaded"}(fi||(fi={}));const wi=_n(gt);let yi=class extends wi{constructor(){super(...arguments),this.onSubredditDataRequested=t=>{this.data&&t(this.data)}}connectedCallback(){super.connectedCallback(),window.setTimeout((()=>{this.subscribe(fi.SubredditDataRequested,this.onSubredditDataRequested)}),0)}disconnectedCallback(){this.unsubscribe(fi.SubredditDataRequested,this.onSubredditDataRequested),super.disconnectedCallback()}};e([l({type:Object})],yi.prototype,"data",void 0),yi=e([s("shreddit-recent-subreddit-data")],yi);const _i=$n(_n(gt));let xi=class extends _i{constructor(){super(...arguments),this.showAll=!1,this.onRecentSubredditReceived=t=>{const e=this.getRecentSubreddits(),n=new Map,i=[t,...e];for(;i.length&&n.size<10;){const t=i.shift();n.has(t.uuid)||n.set(t.uuid,t)}const o=Array.from(n.values());o.length===e.length&&o.every(((t,n)=>t.uuid===e[n].uuid))||(En.setItem(xn.RecentSubreddits,JSON.stringify(o)),this.requestUpdate())},this.onSubredditClick=()=>{this.trackEvent(ni())}}static get styles(){return jt(".nav-link,\n.nav-summary {\n  font-size: 16px;\n  font-weight: 600;\n  line-height: 19px;\n  text-decoration: none;\n  margin: 20px 0;\n}\n.nav-link,\n.nav-summary,\n.nav-link:visited,\n.nav-summary:visited,\n.nav-link:hover,\n.nav-summary:hover {\n  color: inherit;\n}\n.icon {\n  opacity: 0.5;\n  --size: 20px;\n  font-size: var(--size);\n  height: var(--size);\n  line-height: var(--size);\n  text-align: center;\n  vertical-align: text-bottom;\n}\nicon-caret-down.icon {\n  --size: 26px;\n  margin-right: -6px;\n}\ndetails:focus,\ndetails > summary:focus {\n  outline: none;\n}\ndetails > summary {\n  list-style: none;\n}\ndetails > summary::-webkit-details-marker {\n  display: none;\n}\ndetails icon-caret-down {\n  transition: transform 0.3s ease-out;\n  transform: rotate(0deg);\n}\ndetails[open] .nav-summary {\n  margin-bottom: 0;\n}\ndetails[open] > summary > .nav-summary > icon-caret-down {\n  transform: rotate(180deg);\n}\ndetails .nav-summary {\n  align-items: center;\n  column-gap: 8px;\n  grid-template-columns: 20px max-content auto;\n  display: grid;\n}\ndetails .nav-summary .right {\n  place-self: end;\n}\ndetails .nav-link {\n  align-items: center;\n  column-gap: 8px;\n  grid-template-columns: 24px max-content auto;\n  display: grid;\n  font-weight: unset;\n  margin: 16px 0;\n  height: 24px;\n  line-height: 24px;\n  opacity: 1;\n  margin-left: 28px;\n  transition: 200ms height ease-in-out, 200ms opacity ease-in-out, 200ms margin-top ease-in-out, 200ms margin-bottom ease-in-out;\n}\ndetails .nav-link .right {\n  place-self: end;\n}\ndetails .nav-link.hidden {\n  height: 0;\n  margin-top: 0;\n  margin-bottom: 0;\n  opacity: 0;\n  overflow: hidden;\n  pointer-events: none;\n}\ndetails .nav-link.hidden:nth-last-child(2) {\n  margin-bottom: -16px;\n}\ndetails .nav-link.toggle {\n  display: block;\n}\n.community {\n  border-radius: 50%;\n}\nicon-community {\n  font-size: 24px;\n}\n")}connectedCallback(){super.connectedCallback(),window.setTimeout((()=>{this.publish(fi.SubredditDataRequested,this.onRecentSubredditReceived)}),0)}disconnectedCallback(){super.disconnectedCallback()}getRecentSubreddits(){if(!En.isAvailable())return[];const t=En.getItem(xn.RecentSubreddits);if(!t)return[];try{return JSON.parse(t).slice(0,10)}catch(t){return[]}}toggleShowAll(t){t.preventDefault(),t.stopPropagation(),this.showAll=!this.showAll}renderSubreddit(t,e){const n=t.communityIcon||t.iconImage,i=n?G`<faceplate-img \n class="community" \n loading="lazy" \n src="${n}" \n width="24" \n height="24" \n></faceplate-img>`:G`<icon-community class="community"></icon-community>`;return G`<a \n class="${di({"nav-link":!0,hidden:e})}" \n href="${t.url}" \n @click="${this.onSubredditClick}" \n>\n ${i} ${t.displayNamePrefixed}\n </a>`}renderShowAllButton(t){if(t.length<=3)return J;const e=this.showAll?"See less":"See more";return G`<a \n class="nav-link toggle" \n href="#" \n @click="${this.toggleShowAll}" \n role="button" \n aria-expanded="${this.showAll}" \n>\n <span>${e}</span>\n </a>`}render(){const t=this.getRecentSubreddits();if(!t.length)return J;const e=this.renderShowAllButton(t),n=t.length>=3&&!this.showAll;return G`<details open>\n <summary>\n <div class="nav-summary">\n <icon-history class="icon"></icon-history>\n Recent Communities\n <icon-caret-down class="icon right"></icon-caret-down>\n </div>\n </summary>\n ${bi(t,(t=>t.name),((t,e)=>this.renderSubreddit(t,n&&e>=3)))}\n ${e}\n </details> `}};e([d()],xi.prototype,"showAll",void 0),xi=e([s("shreddit-recent-subreddits")],xi);const Ei="sidebar-grid";function ki(t=window.document){var e,n;return t.querySelector(".sidebar-grid")||(null===(n=null===(e=t.querySelector("shreddit-app"))||void 0===e?void 0:e.shadowRoot)||void 0===n?void 0:n.querySelector("slot"))||void 0}const Ti=ei($n(gt));let Ai=class extends Ti{constructor(){super(...arguments),this.debug=!1,this.menuDialog=void 0,this.shredditInteractableElement=void 0,this.popularPostsElement=void 0,this.loginLinkElement=void 0,this.exploreMenu=void 0,this.onLoginClicked=()=>{this.trackEvent(tn())},this.handleClickPopularPostsElement=()=>{this.trackEvent(We({source:"community_nav",action:"click",noun:"popular"}))},this.closeMenu=()=>{this.menuDialog&&this.menuDialog.open&&(this.menuDialog.close(),this.reset(),this.open=this.menuDialog.open)},this.open=!1}addEventListenersToSlottedElements(){this.shredditInteractableElement&&this.shredditInteractableElement.addEventListener("interactionEvent",this.closeMenu),this.popularPostsElement&&this.popularPostsElement.addEventListener("click",this.handleClickPopularPostsElement),this.loginLinkElement&&this.loginLinkElement.addEventListener("click",this.onLoginClicked)}initializeSlottedElements(){var t,e,n,i,o,r,s,a,l,d,c,h;this.menuDialog||(this.menuDialog=null!==(i=null===(n=null===(e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("slot[name=shreddit-header-hamburger-menu]"))||void 0===e?void 0:e.assignedNodes({flatten:!0}))||void 0===n?void 0:n.find((t=>null==t?void 0:t.matches("faceplate-dialog#menu"))))&&void 0!==i?i:null),this.exploreMenu||(this.exploreMenu=null!==(r=null===(o=this.menuDialog)||void 0===o?void 0:o.querySelector("shreddit-explore-menu"))&&void 0!==r?r:null),this.shredditInteractableElement||(this.shredditInteractableElement=null!==(a=null===(s=this.menuDialog)||void 0===s?void 0:s.querySelector("shreddit-interactable-element"))&&void 0!==a?a:null),this.popularPostsElement||(this.popularPostsElement=null!==(d=null===(l=this.menuDialog)||void 0===l?void 0:l.querySelector("a#popular-posts"))&&void 0!==d?d:null),this.loginLinkElement||(this.loginLinkElement=null!==(h=null===(c=this.menuDialog)||void 0===c?void 0:c.querySelector("a.account-btn"))&&void 0!==h?h:null)}getOpenSubmenus(){var t,e;return null!==(e=null===(t=this.menuDialog)||void 0===t?void 0:t.querySelectorAll("details[open]"))&&void 0!==e?e:null}static get styles(){return[Dn]}get menuIcon(){return this.open?G`<icon-close class="float-right opacity-50 pt-px scale-150"></icon-close>`:G`<icon-menu class="float-right pt-px scale-150"></icon-menu>`}firstUpdated(){this.initializeSlottedElements(),this.addEventListenersToSlottedElements()}onLogoClicked(){this.trackEvent(en())}reset(){var t,e,n;this.unblockPageScrolling(),null===(t=this.menuDialog)||void 0===t||t.scrollTo(0,0),null===(e=this.exploreMenu)||void 0===e||e.reset();const i=this.getOpenSubmenus();if(i)for(let t=0;t<i.length;t++)null===(n=i.item(t))||void 0===n||n.removeAttribute("open")}render(){return G`\n <header class="grid h-full items-center">\n ${this.debug?G`\n <shreddit-async-loader class="hidden" bundleName="debug"></shreddit-async-loader>\n `:""}\n <div class="grid grid-cols-8">\n <div class="self-center whitespace-nowrap text-center no-underline flex px-md col-span-7">\n <a class="text-inherit no-underline" href="/" @click="${this.onLogoClicked}">\n <shreddit-logo \n class="flex items-center text-[30px] mt-[2px]" \n aria-hidden="true" \n></shreddit-logo>\n <faceplate-screen-reader-content>\n Reddit\n </faceplate-screen-reader-content>\n </a>\n <slot name="breadcrumbs"></slot>\n <faceplate-perfmark name="first-contentful-paint"></faceplate-perfmark>\n </div>\n <button \n class="text-white border-none bg-transparent col-span-1 p-md" \n @click="${this.toggleMenu}" \n>\n ${this.menuIcon}\n </button>\n </div>\n </header>\n <slot name="shreddit-header-hamburger-menu"></slot>\n `}toggleMenu(){this.menuDialog&&(this.menuDialog.open?(this.menuDialog.close(),this.reset()):(this.menuDialog.show(),this.blockPageScrolling({node:ki()})),this.open=this.menuDialog.open,this.trackEvent(rn()))}};e([l({type:Boolean})],Ai.prototype,"debug",void 0),e([d()],Ai.prototype,"open",void 0),Ai=e([s("reddit-header")],Ai);let Ii=class extends gt{static get styles(){return jt(":host {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  height: 192px;\n}\n:host:before {\n  content: '';\n  position: absolute;\n  width: 64px;\n  height: 64px;\n  background-color: var(--color-global-orangered);\n  opacity: 0.75;\n  border-radius: 100%;\n  -webkit-animation: scaleout 1.5s infinite ease-in-out;\n  animation: scaleout 1.5s infinite ease-in-out;\n}\n:host shreddit-logo {\n  font-size: 64px;\n  height: 64px;\n  width: 64px;\n  z-index: 1;\n}\n@-webkit-keyframes scaleout {\n  0% {\n    -webkit-transform: scale(1);\n  }\n  100% {\n    -webkit-transform: scale(1.5);\n    opacity: 0;\n  }\n}\n@keyframes scaleout {\n  0% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n  100% {\n    -webkit-transform: scale(1.5);\n    transform: scale(1.5);\n    opacity: 0;\n  }\n}\n")}render(){return G` <shreddit-logo></shreddit-logo> `}};Ii=e([s("shreddit-loading")],Ii);class Ci extends gt{static get styles(){return w`:host{display:block}`}render(){return G` <slot></slot> `}}let Si=class extends Ci{constructor(){super(...arguments),this.pageTitle=""}update(t){super.update(t),this.setPageTitle(this.pageTitle)}setPageTitle(t){document.title=t}connectedCallback(){super.connectedCallback(),this.setPageTitle(this.pageTitle)}};var Li;e([l({type:String,attribute:"title"})],Si.prototype,"pageTitle",void 0),Si=e([s("shreddit-title")],Si),function(t){t.XpromoOptOut="xpromoInterstitialMenu",t.HeaderHamburgerMenu="HeaderHamburgerMenu"}(Li||(Li={}));const Oi={[Li.XpromoOptOut]:!1,[Li.HeaderHamburgerMenu]:!0};function Mi(t){var e;if(!En.isAvailable())return null;const n=En.getItem("optOuts");if(!n)return!0===Oi[t];const i=null!==(e=$i(n))&&void 0!==e?e:{};return Object.prototype.hasOwnProperty.call(i,t)?i[t]:!!Object.prototype.hasOwnProperty.call(Oi,t)&&Oi[t]}function Vi(t){const e=Mi(t);null!=e&&function(t,e){var n,i;if(!En.isAvailable())return;const o=null!==(i=$i(null!==(n=En.getItem("optOuts"))&&void 0!==n?n:"{}"))&&void 0!==i?i:{};o[t]=e,En.setItem("optOuts",JSON.stringify(o))}(t,!e)}function $i(t){try{return JSON.parse(t)}catch(t){return null}}const Di=1e3;var Pi;!function(t){t.Click="Click",t.View="View",t.SmartThrottlingCompletion="SmartThrottlingCompletion",t.SmartThrottlingImplicitDismiss="SmartThrottlingImplicitDismiss",t.SmartThrottlingExplicitDismiss="SmartThrottlingExplicitDismiss",t.ThrottleDay="ThrottleDay",t.ThrottleWeek="ThrottleWeek"}(Pi||(Pi={}));const Ni=t=>{if(!En.isAvailable())return null;const e=En.getItem("xpromo_data");try{const n=e&&JSON.parse(e);return n&&n[t]}catch(t){return En.removeItem("xpromo_data"),null}};function Bi(){return(new Date).setUTCHours(0,0,0,0)}function zi(t=6048e5){return Bi()-t}function Ri(t){const e=zi(),n=t.filter((t=>t>=e)),i=(new Date).getTime();return n.push(i),n}const Hi=(t,e)=>{if(!En.isAvailable())return;const n=En.getItem("xpromo_data"),i=n&&JSON.parse(n),o=((t,e)=>{var n,i,o,r;const s={clicks:(null==t?void 0:t.clicks)||0,views:(null==t?void 0:t.views)||0,smartThrottlingCompletion:null!==(n=null==t?void 0:t.smartThrottlingCompletion)&&void 0!==n?n:[],smartThrottlingImplicitDismiss:null!==(i=null==t?void 0:t.smartThrottlingImplicitDismiss)&&void 0!==i?i:[],smartThrottlingExplicitDismiss:null!==(o=null==t?void 0:t.smartThrottlingExplicitDismiss)&&void 0!==o?o:[],throttledUntil:null!==(r=null==t?void 0:t.throttledUntil)&&void 0!==r?r:null},a=Bi();switch(e){case Pi.Click:s.clicks++;break;case Pi.View:s.views++;break;case Pi.SmartThrottlingCompletion:s.smartThrottlingCompletion=Ri(s.smartThrottlingCompletion);break;case Pi.SmartThrottlingExplicitDismiss:s.smartThrottlingExplicitDismiss=Ri(s.smartThrottlingExplicitDismiss);break;case Pi.SmartThrottlingImplicitDismiss:s.smartThrottlingImplicitDismiss=Ri(s.smartThrottlingImplicitDismiss);break;case Pi.ThrottleDay:s.throttledUntil=a+864e5;break;case Pi.ThrottleWeek:s.throttledUntil=a+6048e5}return s})(i&&i[t],e),r=JSON.stringify(Object.assign(Object.assign({},i),{[t]:Object.assign({},o)}));En.setItem("xpromo_data",r)},Ui=t=>{Hi(t,Pi.SmartThrottlingCompletion)},Fi=t=>{Hi(t,Pi.SmartThrottlingExplicitDismiss)},Wi=t=>{Hi(t,Pi.SmartThrottlingImplicitDismiss)};function qi(t,e,n){let i=[];e===Pi.SmartThrottlingCompletion?i=(t=>{var e;return null===(e=Ni(t))||void 0===e?void 0:e.smartThrottlingCompletion})(t):e===Pi.SmartThrottlingImplicitDismiss?i=(t=>{var e;return null===(e=Ni(t))||void 0===e?void 0:e.smartThrottlingImplicitDismiss})(t):e===Pi.SmartThrottlingExplicitDismiss&&(i=(t=>{var e;return null===(e=Ni(t))||void 0===e?void 0:e.smartThrottlingExplicitDismiss})(t));const o=Bi(),r=zi(n);return((null==i?void 0:i.filter((t=>t>=r&&t<o)))||[]).length}function ji(t,e,n=3){if(!En.isAvailable())return!1;const i=function(t){var e;return null===(e=Ni(t))||void 0===e?void 0:e.throttledUntil}(t);if(i&&i>=(new Date).getTime())return!0;if((864e5===e||6048e5===e)&&Number.isFinite(n)){const i=function(t,e){return qi(t,Pi.SmartThrottlingExplicitDismiss,e)}(t)+function(t,e){return qi(t,Pi.SmartThrottlingImplicitDismiss,e)}(t)>=n;return i&&(864e5===e?(t=>{Hi(t,Pi.ThrottleDay)})(t):(t=>{Hi(t,Pi.ThrottleWeek)})(t)),i}return!1}var Yi,Gi;function Qi(t){var e,n;return n=t,!!Object.values(Li).includes(n)&&(null!==(e=Mi(t))&&void 0!==e&&e)}!function(t){t.XpromoOptOut="xpromoInterstitialMenu",t.AppSelectorDismissed="bannerLastClosed",t.CatInAppDismissed="catInAppLastClosed",t.CatInAppImplicitlyDismissed="catInAppLastImplicitlyClosed"}(Yi||(Yi={})),function(t){t.AppSelector="app_selector",t.CommunityPreview="community_preview",t.GeoBlocking="geo_blocking",t.NsfwBlocking="nsfw_blocking",t.SignUpDrawer="sign_up_drawer",t.UnreviewedCommunityBlocking="unreviewed_community_blocking"}(Gi||(Gi={}));let Ki=class extends gt{constructor(){super(...arguments),this._experiences=[],this.handleToggleXPromoOptout=()=>{this.processTree()}}render(){const t=G` <slot hidden></slot> `,e=this._experiences.map((t=>G` <faceplate-partial src="${t}"></faceplate-partial> `));return G`\n <div>${e}</div>\n ${t}\n `}firstUpdated(){this.processTree()}processTree(){this.children.length&&(this._experiences=[],this.processNode(this.children[0]),this.requestUpdate())}getInterval(t){const e=t.getAttribute("data-interval");if(!e)return null;const n=Number.parseInt(e);return Number.isFinite(n)?n:null}processNode(t){if("branch"===t.getAttribute("data-node-type")){const e=t.getAttribute("data-key")||"",n=this.getInterval(t),i=t.getAttribute("data-threshold"),o=t.getAttribute("data-xpromo-ls-tracking-key");let r;if(r=e&&n?function(t,e){if(!En.isAvailable())return!1;const n=(new Date).getTime(),i=En.getItem(t);return!i||n-new Date(i).getTime()>=e}(e,n):o&&Object.values(Gi).includes(o)&&n&&i?ji(o,n,parseInt(i,10)):Qi(e),!t.children)return;r&&t.children[0]?this.processNode(t.children[0]):t.children[1]&&this.processNode(t.children[1])}else for(let e=0;e<t.children.length;e++){const n=t.children[e].value;n&&this._experiences.push(n)}}connectedCallback(){super.connectedCallback(),document.addEventListener("toggle-xpromo-optout",this.handleToggleXPromoOptout)}disconnectedCallback(){document.removeEventListener("toggle-xpromo-optout",this.handleToggleXPromoOptout),super.disconnectedCallback()}};Ki=e([s("shreddit-experience-tree")],Ki);const Ji=({id:t,nsfw:e,subreddit:n,score:i,spoiler:o})=>({post:{id:t,nsfw:e,subreddit_name:null==n?void 0:n.toLowerCase(),score:i,spoiler:o},subreddit:{name:null==n?void 0:n.toLowerCase()}}),Xi=(t,e={})=>We({source:"post",action:"click",noun:t},e),Zi=t=>Xi("author",Ji(t)),to=t=>Xi("deleted_author",Ji(t)),eo=t=>Xi("comments",Ji(t)),no=t=>Xi("subscribe",Ji(t));const io=$n(gt);let oo=class extends io{constructor(){super(...arguments),this.totalComments=0,this.isLoggedIn=!1,this.isArchived=!1}static get styles(){return[Dn,jt(".container {\n  background-color: var(--color-tone-7);\n  color: var(--color-tone-1);\n  padding-left: 16px;\n}\n.container a {\n  color: inherit;\n  text-decoration: none;\n}\n.comments-button {\n  background: transparent;\n  border: none;\n  color: inherit;\n  cursor: pointer;\n  padding: 0;\n  font-size: 14px;\n}\n.login-button {\n  border: 1px solid var(--color-action-secondary);\n  color: var(--color-action-secondary);\n  margin: 0 16px;\n  width: calc(100% - 32px);\n  max-width: 100%;\n}\n")]}loginOrSignUp(){this.trackEvent(We({source:"post_detail",action:"click",noun:"login"})),this.dispatchEvent(Nt("signup"))}commentsPluralization(t){return 1===t?G`\n <faceplate-number number="${t}" pretty></faceplate-number>\n Comment\n `:G`\n <faceplate-number number="${t}" pretty></faceplate-number>\n Comments\n `}render(){return G`\n <span class="container">\n \n <button class="comments-button" @click="${this.loginOrSignUp}">\n <strong>${this.commentsPluralization(this.totalComments)}</strong>\n </button>\n sorted by <slot name="sort-dropdown"></slot>\n \n </span>\n ${this.isLoggedIn||this.isArchived?"":G`\n <button \n class="button button-small button-plain login-button" \n @click="${this.loginOrSignUp}" \n>\n Add a Comment\n </button>\n `}\n `}};e([l({type:Number})],oo.prototype,"totalComments",void 0),e([l({type:Boolean})],oo.prototype,"isLoggedIn",void 0),e([l({type:Boolean})],oo.prototype,"isArchived",void 0),oo=e([s("comment-body-header")],oo);const ro={expires:365,httpOnly:!1},so={opted:!0,nonessential:!1},ao={expires:730,httpOnly:!1};let lo=class extends gt{static get styles(){return w`:host{display:block;position:relative;background:var(--color-ui-modalbackground);border-radius:4px;display:block;margin:1rem 0;opacity:1;padding:1rem;transition:opacity .3s;box-shadow:var(--boxshadow-modal);border:1px solid var(--color-tone-4)}a{color:var(--color-action-secondary);text-decoration:none}.close-button{background:0 0;border:0;color:var(--color-tone-1);font-size:.8em;padding:4px;position:absolute;right:4px;top:4px}`}hideBanner(){const t=JSON.stringify(so);qt.set("eu_cookie",t,ao),this.remove()}render(){return G`\n <button class="close-button" @click="${this.hideBanner}">\n <icon-close></icon-close>\n </button>\n \n Cookies help us deliver our Services. We only use essential cookies.\n <a target="_blank" href="https://redditinc.com/policies/cookies">Learn more</a>.\n \n `}};lo=e([s("shreddit-cookie-banner")],lo);const co=/(ampcid=[^&\\]*)/i;let ho=class extends Ci{constructor(){super(...arguments),this.cid=""}connectedCallback(){super.connectedCallback();const t=window.location.href.replace(co,"");history.replaceState({},"",t);const e=window.parseLinker(this.cid);var n;e&&(n=e.cid,De=n)}};e([l({type:String,attribute:"cid"})],ho.prototype,"cid",void 0),ho=e([s("shreddit-amp-handoff")],ho);let uo=class extends Ci{constructor(){super(...arguments),this.href=""}connectedCallback(){super.connectedCallback(),window.location.href!==this.href&&window.location.replace(this.href)}};e([l({type:String,attribute:"href"})],uo.prototype,"href",void 0),uo=e([s("shreddit-redirect")],uo);const po=t=>null!=t?t:J;class mo extends(Pt(It(gt))){constructor(){super(...arguments),this.src="",this.loading=St.Lazy,this._isLoading=!1}get isLoading(){return this._isLoading}set isLoading(t){this._isLoading=!!t}connectedCallback(){super.connectedCallback(),this.loading===St.Action?this.enableUserActions():this.loading===St.Lazy?this.enableObserver():this.load()}disconnectedCallback(){super.disconnectedCallback(),this.isActionable&&this.disableUserActions(),this.isObserved&&this.disableObserver()}observerIsIntersectingCallback(){this.isLoading||(this.disableObserver(),this.load())}userActionCallback(){this.isLoading||(this.disableUserActions(),this.load())}async load(){try{this.isLoading=!0;const t=await this.constructor.loader;await t(this,this.src)}catch(t){this.dispatchEvent(Nt("faceplate-error",t))}finally{this.isLoading=!1}}}function vo(t){const e=t.headers.get("content-type");return null==e?void 0:e.split(";")[0]}function go(t,e){if(e.startsWith("/"))return!0;let n;try{n=new URL(e)}catch(t){return!0}const[i,o]=t.hostname.split(".").reverse(),[r,s]=n.hostname.split(".").reverse();return i===r&&o===s}var bo,fo;mo.loader=Promise.resolve((()=>{throw new Error("Class extending LoaderElement not configured!")})),function(t){t.Omit="omit",t.SameOrigin="same-origin",t.Include="include",t.SameDomain="same-domain"}(bo||(bo={})),function(t){t.UrlEncoded="application/x-www-form-urlencoded",t.FormData="multipart/form-data",t.JSON="application/json"}(fo||(fo={}));let wo=()=>new URL(window.location.href);function yo(t,e,n={}){return o(this,arguments,(function*(){const o=Nt("faceplate-request",{resource:t,request:e});if(yield yield i(o),o.defaultPrevented)return yield i(void 0);const r=e,{enctype:s}=n;if(s===fo.FormData?delete r.headers["Content-Type"]:s&&(r.headers["Content-Type"]=s),s){const t=n.encoders?n.encoders[s]:void 0;if(!t){const t=new Error(`No encoder supplied for enctype ${s}`);return yield yield i(Nt("faceplate-error",t)),yield i(void 0)}r.body=t(e.body)}r.method===Lt.Get&&delete r.body,n.credentials===bo.SameDomain?go(wo(),t)&&(r.credentials=bo.Include):n.credentials&&n.credentials!==bo.Include?r.credentials=n.credentials:delete r.credentials;try{const e=yield i(fetch(t,r));yield yield i(Nt("faceplate-response",{response:e}))}catch(t){const e=t instanceof Error?t:new Error(t.toString());yield yield i(Nt("faceplate-error",e))}}))}function _o(t){return new Error(`Unsupported type File given for field ${t}. Use encoding type ${fo.FormData} for file upload.`)}function xo(t){const e=new URLSearchParams;for(const n of t){if(n[1]instanceof File)throw _o(n[0]);e.append(n[0],n[1])}return e}let Eo=t=>t;const ko={enctype:fo.UrlEncoded,encoders:{[fo.UrlEncoded]:xo}},To={};class Ao{constructor(t){this.isRequestInProgress=!1,this.host=t}buildRequest(t){const e={method:t.method||Lt.Get,body:t.body||new FormData,headers:{}},n=t.method||Lt.Get;if(t.loading!==St.Preload&&(e.headers.Accept="text/vnd.reddit.partial+html, text/html;q=0.9"),e.method===Lt.Get)return e;if(e.method!==Lt.Post)throw new Error(`Unsupported method ${n}`);return e.headers["Content-Type"]=fo.UrlEncoded,e}_handleError(t){const e=Nt("faceplate-alert",{level:Ct.error,message:"Request failed",meta:t.toString()});this.host.dispatchEvent(e)}async request(t,e){var n,i;this.isRequestInProgress=!0;const o=`${location.origin}${"/"===t[0]?"":"/"}${t}`,s=yo(o,this.buildRequest(e||{}),e&&e.loading===St.Preload?To:ko);try{try{for(var a,l=r(s);!(a=await l.next()).done;){const t=a.value;if("faceplate-error"===t.type)return void this._handleError(t.detail);if(this.host.dispatchEvent(t),t.defaultPrevented)return;if("faceplate-response"===t.type){const e=t.detail.response,n=vo(e);if("text/vnd.reddit.partial+html"!==n && false)throw new Error(`Unsupported content type "${n}" returned from ${o}`);return e}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=l.return)&&await i.call(l)}finally{if(n)throw n.error}}}catch(t){this._handleError(t)}finally{this.isRequestInProgress=!1}}}const Io="function"==typeof document.createRange;var Co;function So(t){const e=t.cloneNode();return document.createRange().createContextualFragment(e.outerHTML).children[0]}function Lo(t,e,n){const i=Oo(t),o=document.createDocumentFragment();for(let t=0;t<i.length;t++)o.appendChild(i[t]);!function(t,e,n){switch(n){case Co.Append:return void e.appendChild(t);case Co.Replace:if(!e.parentNode)throw new Error("Attemping to use partial replace mode on target without a parent node!");return e.parentNode.insertBefore(t,e),void e.remove();case Co.Contents:return e.textContent="",void e.appendChild(t);default:throw new Error(`Attempting to use unsupported partial mode '${n}'!`)}}(o,e,n)}function Oo(t){const e=document.createElement("template");e.innerHTML=t;const n=Array.from(e.content.children);if(!Io)return n;for(let t=0;t<n.length;t++){const e=n[t];if("FACEPLATE-BATCH"===e.nodeName){const i=So(e),o=customElements.get(e.nodeName.toLowerCase());if(!(o&&i instanceof o))continue;const r=i.getCurrentTarget(e),s=Array.from(r.children);if(r.innerHTML="",r!==e)for(const t of Array.from(e.children))i.appendChild(t);if(r!==e&&r.nodeName.includes("-")){const t=So(r);r.replaceWith(t)}i.batchInsert(s),n[t]=i}}return n}!function(t){t.Append="append",t.Replace="replace",t.Contents="contents"}(Co||(Co={}));const Mo=t=>{var e;return null!==(e=null==t?void 0:t.toLowerCase())&&void 0!==e?e:""};var Vo;let $o=Vo=class extends mo{constructor(){super(...arguments),this.src="",this.loading=St.Eager,this.method=Lt.Get,this.partialRequest=new Ao(this)}get isLoading(){return!!this.partialRequest&&this.partialRequest.isRequestInProgress}set isLoading(t){}static get styles(){return w`:host{display:block}:host([loading=action]){cursor:pointer}`}render(){var t,e;const n=this.loading===St.Action&&!(null===(t=this.partialRequest)||void 0===t?void 0:t.isRequestInProgress),i=(null===(e=this.partialRequest)||void 0===e?void 0:e.isRequestInProgress)&&this.loading===St.Action;return G` <div tabindex="${po(n?0:void 0)}"> <slot name="${po(i?"loading":void 0)}"></slot> </div> `}async loadContent(){var t,e;if(!this.src)throw new Error("No src attribute specified on faceplate-partial element.");if(null===(t=this.partialRequest)||void 0===t?void 0:t.isRequestInProgress)throw new Error("Request already in progress on faceplate-partial element.");let n;if(this.method===Lt.Post&&(n=new FormData,this.method===Lt.Post)){const t=this.querySelectorAll("input[type=hidden]");for(let e=0;e<t.length;e++){const i=t[e];!i.disabled&&i.name&&n.append(i.name,i.value)}}const i=null===(e=this.partialRequest)||void 0===e?void 0:e.request(this.src,{body:n,method:this.method,loading:this.loading});this.loading===St.Action&&this.requestUpdate();const o=await i;o||this.loading!==St.Action||this.requestUpdate();const r=await(null==o?void 0:o.text());r&&this.parentElement&&Lo(r,this,Co.Replace)}};$o.loader=Promise.resolve((async t=>{t instanceof Vo&&await t.loadContent()})),e([l({type:String})],$o.prototype,"src",void 0),e([l({type:String})],$o.prototype,"loading",void 0),e([l({converter:Mo})],$o.prototype,"method",void 0),$o=Vo=e([s("faceplate-partial")],$o),Yn("icon-search",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_480_0)"><path d="M19.442 18.558l-4.513-4.513a8.525 8.525 0 10-.884.884l4.513 4.513.884-.884zM1.252 8.5A7.25 7.25 0 118.5 15.75 7.258 7.258 0 011.251 8.5z"/></g><defs><clipPath id="clip0_480_0"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_784_291)"><path d="M19.707 18.293l-4.539-4.539a8.527 8.527 0 10-1.414 1.414l4.539 4.539 1.414-1.414zM8.5 15A6.5 6.5 0 1115 8.5 6.508 6.508 0 018.5 15z"/></g><defs><clipPath id="clip0_784_291"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`),Yn("icon-clear",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_473_114)"><path d="M10 0a10 10 0 1010 10A10.011 10.011 0 0010 0zm0 18.75A8.75 8.75 0 1118.75 10 8.76 8.76 0 0110 18.75zm3.567-11.433L10.884 10l2.683 2.683-.884.884L10 10.884l-2.683 2.683-.884-.884L9.116 10 6.433 7.317l.884-.884L10 9.116l2.683-2.683.884.884z"/></g><defs><clipPath id="clip0_473_114"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_473_116)"><path d="M10 0a10 10 0 1010 10A10.011 10.011 0 0010 0zm3.832 12.418l-1.414 1.414L10 11.414l-2.418 2.418-1.414-1.414L8.586 10 6.168 7.582l1.414-1.414L10 8.586l2.418-2.418 1.414 1.414L11.414 10l2.418 2.418z"/></g><defs><clipPath id="clip0_473_116"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`);function Do(){return document&&document.documentElement.lang?document.documentElement.lang:navigator&&navigator.language?navigator.language:"en-US"}function Po(t){const e={};return(n,i)=>{const o=((t,e)=>e?t+JSON.stringify(e):t)(n,i);return Object.prototype.hasOwnProperty.call(e,o)?e[o]:e[o]=new t(n,i)}}const No=Po(Intl.NumberFormat),Bo=Po(Intl.RelativeTimeFormat),zo=Po(Intl.DateTimeFormat);let Ro=function(){try{return"1E4 bits"===new Intl.NumberFormat("en",{style:"unit",unit:"bit",unitDisplay:"long",notation:"scientific"}).format(1e4)}catch(t){return!1}}();function Ho(t,e,n){if(Ro){const i=(null==n?void 0:n.options)||{notation:(null==n?void 0:n.short)?"compact":"standard"};return No(e,i).format(t)}return(i=t)>=99999999949?`${Math.floor(i/1e9)}b`:i>=999999949&&i<99999999949?`${(i/1e9).toFixed(1)}b`:i>=99999949&&i<999999949?`${Math.floor(i/1e6)}m`:i>=999949&&i<99999949?`${(i/1e6).toFixed(1)}m`:i>=99949&&i<999949?`${Math.floor(i/1e3)}k`:i>=1e3&&i<99949?`${(i/1e3).toFixed(1)}k`:String(i);var i}let Uo=class extends gt{constructor(){super(...arguments),this.number=0,this.locale="",this.pretty=!1}getLocale(){return this.locale||Do()}createRenderRoot(){return this}render(){const t=this.formatOptions?{options:this.formatOptions}:{short:this.pretty};return Ho(this.number,this.getLocale(),t)}};function Fo(t,e=0){let n;return function(...i){clearTimeout(n),n=setTimeout((()=>t.apply(this,i)),e)}}e([l({type:Number})],Uo.prototype,"number",void 0),e([l({type:String})],Uo.prototype,"locale",void 0),e([l({type:Object})],Uo.prototype,"formatOptions",void 0),e([l({type:Boolean})],Uo.prototype,"pretty",void 0),Uo=e([s("faceplate-number")],Uo);const Wo=yt(class extends _t{constructor(t){var e;if(super(t),t.type!==ft||"style"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,n)=>{const i=t[n];return null==i?e:e+`${n=n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`}),"")}update(t,[e]){const{style:n}=t.element;if(void 0===this.ct){this.ct=new Set;for(const t in e)this.ct.add(t);return this.render(e)}this.ct.forEach((t=>{null==e[t]&&(this.ct.delete(t),t.includes("-")?n.removeProperty(t):n[t]="")}));for(const t in e){const i=e[t];null!=i&&(this.ct.add(t),t.includes("-")?n.setProperty(t,i):n[t]=i)}return K}});let qo=class extends(Pt(It(gt))){constructor(){super(...arguments),this.src="",this.loading=St.Lazy,this.width=0,this.height=0,this.perfmark="",this.objectfit=void 0,this.isRequestInProgress=!1}static get styles(){return w`:host{display:inline-block}:host([loading=action]) div.placeholder{cursor:pointer}div{display:flex;align-items:center;justify-content:center;text-align:center;height:inherit;width:inherit;margin:auto;max-height:inherit;max-width:inherit;min-height:inherit;min-width:inherit;position:relative;overflow:hidden;border-radius:inherit}img{width:100%;height:100%}`}connectedCallback(){super.connectedCallback(),this.img||this.executeLoadingStrategy()}update(t){t.has("src")&&(this.img=void 0,this.isRequestInProgress=!1,this.executeLoadingStrategy()),super.update(t)}executeLoadingStrategy(){this.loading===St.Lazy?this.enableObserver():this.loading===St.Action?this.enableUserActions():this.loading===St.Eager&&this.loadContent()}observerIsIntersectingCallback(){this.isObserved&&this.disableObserver(),this.isRequestInProgress||this.loadContent()}userActionCallback(){this.isActionable&&this.disableUserActions(),this.isRequestInProgress||this.loadContent()}disconnectedCallback(){super.disconnectedCallback(),this.isObserved&&this.disableObserver(),this.isActionable&&this.disableUserActions()}async loadContent(){const{src:t}=this,e=new Image;e.onload=()=>{if(e.src!==new URL(this.src,location.origin).href)return;this.isRequestInProgress=!1,this.img=e,this.requestUpdate(),this.perfmark&&this.updateComplete.then((()=>{performance.mark(this.perfmark)}));const t=Nt("faceplate-load",{resource:e.src,src:this.src});this.dispatchEvent(t)},e.onerror=()=>{const t=new Error("Image failed to load"),e=Nt("faceplate-error",t);this.dispatchEvent(e)},this.isRequestInProgress=!0,e.src=t}render(){const t=this.isRequestInProgress&&this.loading===St.Action;let e=G` <slot name="${po(t?"loading":void 0)}"></slot> `;return this.img&&(e=this.objectfit?G` <img src="${this.img.src}" alt="${po(this.alt)}" style="${Wo({objectFit:encodeURIComponent(this.objectfit)})}"> `:G` <img src="${this.img.src}" alt="${po(this.alt)}"> `),G` <div class="${this.img?"loaded":"placeholder"}" style="${Wo({width:this.width?this.width+"px":"inherit",height:this.height?this.height+"px":"inherit"})}" tabindex="${po(this.isActionable?0:void 0)}"> ${e} </div> `}};e([l({type:String})],qo.prototype,"src",void 0),e([l({type:String})],qo.prototype,"loading",void 0),e([l({type:Number})],qo.prototype,"width",void 0),e([l({type:Number})],qo.prototype,"height",void 0),e([l({type:String})],qo.prototype,"perfmark",void 0),e([l({type:String})],qo.prototype,"objectfit",void 0),e([l({type:String})],qo.prototype,"alt",void 0),qo=e([s("faceplate-img")],qo);let jo=class extends gt{static get styles(){return jt(".shreddit-search-result__link {\n  display: flex;\n  color: inherit;\n  text-decoration: none;\n  padding: 0 12px;\n  height: 47px;\n}\n.shreddit-search-result__avatar {\n  margin-right: 8px;\n  border-radius: 100%;\n  height: 24px;\n  width: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.shreddit-search-result__avatar.default {\n  background-color: var(--color-action-primary);\n}\n.shreddit-search-result__header,\n.shreddit-search-result__subheader {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.shreddit-search-result__subheader {\n  font-size: 12px;\n  line-height: 14px;\n  margin-top: 4px;\n}\n")}render(){return G`\n <div class="shreddit-search-result">\n <a class="shreddit-search-result__link" href="${po(this.url)}">\n ${this.icon?G`<faceplate-img \n class="shreddit-search-result__avatar" \n loading="lazy" \n src="${this.icon}" \n width="24" \n height="24" \n></faceplate-img>`:G`<div class="shreddit-search-result__avatar default">\n <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20">\n <path \n fill="#FFF" \n d="M15.829 15.9c-.482.479-3.196-.34-7.277-4.42-4.081-4.083-4.903-6.794-4.42-7.276.225-.225.797-.283 1.78.148a7.044 7.044 0 00-.845.714c-.013.014-.025.029-.04.044.549 1.317 1.868 3.299 4.233 5.663 2.36 2.36 4.345 3.68 5.665 4.23.013-.013.028-.025.042-.04.265-.264.498-.55.712-.845.43.985.374 1.557.15 1.782m.924-4a7.004 7.004 0 00-1.786-6.834 6.957 6.957 0 00-4.95-2.051c-.648 0-1.281.093-1.888.262C5.73 1.76 3.918 1.59 2.718 2.79c-1.314 1.313-.644 3.402.569 5.379-.642 2.344-.06 4.957 1.78 6.795a6.95 6.95 0 004.95 2.05c.637 0 1.258-.096 1.857-.262 1.212.742 2.467 1.28 3.558 1.28.684 0 1.305-.212 1.81-.718 1.2-1.2 1.029-3.015-.49-5.414" \n/>\n </svg>\n </div>`}\n <div>\n <div class="shreddit-search-result__header">\n <strong><slot name="header"></slot></strong>\n </div>\n <div class="shreddit-search-result__subheader"><slot name="subheader"></slot></div>\n </div>\n </a>\n </div>\n `}};e([l({type:String})],jo.prototype,"url",void 0),e([l({type:String})],jo.prototype,"icon",void 0),jo=e([s("shreddit-search-result")],jo);const Yo=["all","friends","mod","popular","random","randnsfw","myrandom"];const Go=/^\/r\/([\w+-]+)\/?/,Qo=(t="")=>{const e=t.match(Go);if(e&&!function(t){const e=t&&t.toLowerCase();return!e||e.includes("+")||e.includes("-")||Yo.includes(e)}(e[1]))return e[0]},Ko=/^\//,Jo=/\/$/,Xo=(t="")=>t.replace(Jo,"").replace(Ko,""),Zo=t=>t?"Search Community":"Search Reddit",tr=(t,e)=>`${(t=>{var e;return`https://reddit.com${null!==(e=Qo(t))&&void 0!==e?e:"/"}search/`})(e)}?q=${t}`;let er=class extends gt{constructor(){super(...arguments),this.query="",this.debouncedSearch=Fo(this.newSearch,300),this.partialRequest=new Ao(this)}static get styles(){return jt(".shreddit-search-bar {\n  display: flex;\n  align-items: center;\n  background-color: rgba(246, 247, 248, 0.1);\n  border-radius: 32px;\n  height: 32px;\n  padding: 0 12px;\n  font-size: 16px;\n}\n.shreddit-search-bar input {\n  background: none;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  outline: none;\n  border: none;\n  color: inherit;\n  width: 100%;\n  margin-left: 8px;\n}\n.shreddit-search-bar input::-webkit-search-cancel-button {\n  display: none;\n}\n.shreddit-search-bar .shreddit-search-bar-clear {\n  padding: 0;\n  background: none;\n  border: none;\n  color: inherit;\n}\n.shreddit-search-bar .shreddit-search-bar-clear icon-clear {\n  opacity: 0.5;\n}\n.shreddit-search-results-container {\n  background-color: rgba(246, 247, 248, 0.1);\n  border-radius: 4px;\n  margin-top: 4px;\n}\n.shreddit-search-results ul {\n  list-style: none;\n  margin-top: 0px;\n  margin-bottom: 0px;\n}\n.shreddit-search-results ul li:first-child {\n  padding-top: 8px;\n}\nhr {\n  background-color: var(--color-global-darkblue);\n  border: none;\n  border-radius: 4px;\n  height: 1px;\n  left: 0;\n  margin: 0;\n  width: 100%;\n}\n.shreddit-search-link {\n  border-radius: 4px;\n  color: inherit;\n  text-decoration: none;\n  font-weight: 600;\n  padding: 12px;\n  display: block;\n}\n")}normalizeStr(t){if(!t)return"";return t.toLowerCase().trim().replace(/^([r|u]\/)/,"")}async newSearch(){var t;if(!this.query)return;const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("#shreddit-search-results-partial-container"),n=await this.partialRequest.request(`/svc/shreddit/partial/subreddit-results?query=${this.normalizeStr(this.query)}`),i=await(null==n?void 0:n.text());i&&e&&Lo(i,e,Co.Contents)}searchHandler(t){const e=t.target;this.query=e.value,this.debouncedSearch()}clearSearchQuery(){const t=this.shadowRoot.querySelector(".shreddit-search-bar-input");this.query="",t.value=""}render(){return G`\n <label class="shreddit-search-bar">\n <icon-search></icon-search>\n <input \n class="shreddit-search-bar-input" \n type="search" \n placeholder="${Zo(!1)}" \n \n @keyup="${this.searchHandler}" \n maxlength="25" \n>\n ${this.query?G`<button class="shreddit-search-bar-clear" @click="${this.clearSearchQuery}">\n <icon-clear fill></icon-clear>\n </button>`:""}\n </label>\n ${this.query?G`<div class="shreddit-search-results-container">\n <div class="shreddit-search-results">\n <div id="shreddit-search-results-partial-container">\n <faceplate-partial \n src="/svc/shreddit/partial/subreddit-results?query=${this.query}" \n></faceplate-partial>\n </div>\n <hr>\n </div>\n <a href="https://reddit.com/search?q=${this.query}" class="shreddit-search-link">\n Results for "${this.query}"\n </a>\n </div>`:""}\n `}};e([d()],er.prototype,"query",void 0),er=e([s("shreddit-search")],er);const nr=$n(_n(gt)),ir=(new Date).getFullYear()-1,or="block text-tone-1 no-underline py-[6px] px-md",rr="border-0 border-b-sm border-b-tone-5 my-xs mx-auto";let sr=class extends nr{constructor(){super(...arguments),this.handleClickAdvertise=()=>{this.trackEvent(ln())},this.handleClickBlog=()=>{this.trackEvent(dn())},this.handleClickPress=()=>{this.trackEvent(cn())},this.handleClickCommunities=()=>{this.trackEvent(hn())},this.handleClickRereddit=()=>{this.trackEvent(un())},this.handleClickTopics=()=>{this.trackEvent(pn())},this.handleClickCareers=()=>{this.trackEvent(mn())},this.handleClickPolicies=()=>{this.trackEvent(vn())},this.handleClickUserAgreement=()=>{this.trackEvent(gn())}}static get styles(){return[Dn,w`summary::-webkit-details-marker{display:none}`]}render(){return G`<details open>\n <summary class="list-none">\n <div class="flex items-center justify-between py-sm px-xs">\n <strong class="text-tone-1" \n>Ads, policies and more</strong>\n <icon-caret-down \n class="text-[20px] w-xl h-xl flex items-center justify-center" \n></icon-caret-down>\n </div>\n </summary>\n <a \n class="${or}" \n href="https://www.redditinc.com/advertising" \n @click="${this.handleClickAdvertise}" \n>\n Advertise</a>\n <a class="${or}" href="https://redditblog.com/" @click="${this.handleClickBlog}">\n Blog</a>\n <a \n class="${or}" \n href="https://www.redditinc.com/press" \n @click="${this.handleClickPress}" \n>\n Press\n </a>\n <hr class="${rr}">\n <a \n class="${or}" \n href="https://www.reddit.com/subreddits/a-1/" \n @click="${this.handleClickCommunities}" \n>\n Communities</a>\n <a \n class="${or}" \n href="https://www.reddit.com/posts/${ir}" \n @click="${this.handleClickRereddit}" \n>\n Rereddit</a>\n <a \n class="${or}" \n href="https://www.reddit.com/topics/a-1/" \n @click="${this.handleClickTopics}" \n>Topics</a>\n <hr class="${rr}">\n <a \n class="${or}" \n href="https://www.redditinc.com/careers" \n @click="${this.handleClickCareers}" \n>\n Careers</a>\n <a \n class="${or}" \n href="https://www.redditinc.com/policies" \n @click="${this.handleClickPolicies}" \n>\n Policies</a>\n <a \n class="${or}" \n href="https://www.redditinc.com/policies/user-agreement" \n @click="${this.handleClickUserAgreement}" \n>\n User Agreement</a>\n </details>`}};sr=e([s("reddit-terms-and-policies")],sr),Yn("icon-safari",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_3052_712)"><path d="M10 20a10 10 0 1110-10 10.011 10.011 0 01-10 10zm0-18.75A8.75 8.75 0 1018.75 10 8.76 8.76 0 0010 1.25zM6.5 14.132a.625.625 0 01-.556-.911L8.324 8.6a.629.629 0 01.27-.27l4.62-2.379a.625.625 0 01.842.842l-2.379 4.621a.64.64 0 01-.27.27l-4.621 2.378a.62.62 0 01-.286.07zM9.344 9.35l-1.395 2.708 2.708-1.394 1.394-2.708L9.344 9.35z"/></g><defs><clipPath id="clip0_3052_712"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_3052_717)"><path d="M10 0a10 10 0 1010 10A10.011 10.011 0 0010 0zm4.056 6.786l-2.379 4.621a.64.64 0 01-.27.27l-4.621 2.379a.617.617 0 01-.592-.01.625.625 0 01-.25-.832l2.38-4.621a.634.634 0 01.27-.27l4.62-2.379a.625.625 0 01.842.842z"/></g><defs><clipPath id="clip0_3052_717"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`);let ar=class extends gt{static get styles(){return jt(".icon {\n  opacity: 0.5;\n  --size: 20px;\n  font-size: var(--size);\n  height: var(--size);\n  line-height: var(--size);\n  text-align: center;\n  vertical-align: text-bottom;\n}\nicon-caret-down.icon {\n  --size: 26px;\n  margin-right: -6px;\n}\na.nav-link,\n.nav-summary {\n  font-size: 16px;\n  font-weight: 600;\n  line-height: 19px;\n  text-decoration: none;\n  margin: 20px 0;\n  align-items: center;\n  column-gap: 8px;\n  grid-template-columns: 20px max-content auto;\n  display: grid;\n}\na.nav-link,\n.nav-summary,\na.nav-link:visited,\n.nav-summary:visited,\na.nav-link:hover,\n.nav-summary:hover {\n  color: inherit;\n}\na.nav-link .right,\n.nav-summary .right {\n  place-self: end;\n}\ndetails:focus,\ndetails > summary:focus {\n  outline: none;\n}\ndetails > summary {\n  list-style: none;\n}\ndetails > summary::-webkit-details-marker {\n  display: none;\n}\ndetails icon-caret-down {\n  transition: transform 0.3s ease-out;\n  transform: rotate(0deg);\n}\ndetails[open] .nav-summary {\n  margin-bottom: 0;\n}\ndetails[open] > summary > .nav-summary > icon-caret-down {\n  transform: rotate(180deg);\n}\ndetails .nav-link {\n  font-weight: unset;\n  margin: 16px 0;\n  display: block;\n  margin-left: 28px;\n}\ndetails details a.nav-link,\ndetails details .nav-summary {\n  font-size: 14px;\n  margin-bottom: 16px;\n  margin-top: 16px;\n}\ndetails details .nav-summary :first-child {\n  grid-column-start: 2;\n}\ndetails details .nav-summary icon-caret-down.icon {\n  --size: 22px;\n  padding: 0 2px;\n}\n.nav-link.hidden {\n  display: none;\n}\n.nav-link.hidden.unhidden {\n  display: block;\n}\na.nav-link.toggle,\na.nav-link.toggle:visited,\na.nav-link.toggle:hover {\n  color: #0079d3;\n}\n")}reset(){var t;const e=this.openMenus;for(let n=0;n<e.length;n++)null===(t=e.item(n))||void 0===t||t.removeAttribute("open");const n=this.hiddenToggles;for(let t=0;t<n.length;t++){const e=n.item(t);e.classList.remove("hidden"),e.setAttribute("aria-expanded","false")}const i=this.unhiddenLinks;for(let t=0;t<i.length;t++)i.item(t).classList.remove("unhidden")}onExploreElementSelected(t){var e,n;const{target:i}=t,o=i;if(i&&"A"===o.tagName&&o.classList.contains("toggle")){const i=Array.from(null!==(n=null===(e=o.parentElement)||void 0===e?void 0:e.getElementsByClassName("hidden"))&&void 0!==n?n:[]).filter((t=>!t.classList.contains("unhidden"))),r=Math.min(i.length,7);for(let t=0;t<r;t++)i[t].classList.add("unhidden");r===i.length&&o.classList.add("hidden"),o.setAttribute("aria-expanded","true"),t.preventDefault()}}onExploreClicked(t){this.onExploreElementSelected(t)}onExploreKeyboardEvent(t){"Enter"===t.key&&this.onExploreElementSelected(t)}render(){return G`<details @click="${this.onExploreClicked}" @keyup="${this.onExploreKeyboardEvent}">\n <faceplate-partial loading="${St.Eager}" src="/assets/explore-menu">\n <summary>\n <div class="nav-summary">\n <icon-safari class="icon"></icon-safari>\n Explore\n <icon-caret-down class="icon right"></icon-caret-down>\n </div>\n </summary>\n </faceplate-partial>\n </details>`}};e([u("details[open]")],ar.prototype,"openMenus",void 0),e([u(".toggle.hidden")],ar.prototype,"hiddenToggles",void 0),e([u(".unhidden")],ar.prototype,"unhiddenLinks",void 0),ar=e([s("shreddit-explore-menu")],ar);class lr{constructor(t,e){this._batchTimer=0,this._batchDisplay=()=>{if(this._batchTimer=0,!this._batchQueue||!this._batchQueue.length)return;const t=function(t,e=se){const n=[];if(!t.length)return n;t.sort(((t,e)=>(void 0===t.level?Ct.none:t.level)-(void 0===e.level?Ct.none:e.level)));let i={},o=t[0].level,r=0;function s(){for(const t in i){const r=i[t];if(1===r.length)n.push(r[0]);else{const i=[];let s=0;for(const t of r)t.meta&&i.push(t.meta),s+=void 0===t.count?1:t.count;n.push(e(o,t,i,s))}}}for(const e of t){e.level!==o&&(s(),i={},o=e.level,r=0);const t=e.message||"";Object.prototype.hasOwnProperty.call(i,t)?i[t].push(e):i[t]=[e],r+=e.count||1}return r>0&&s(),n}(this._batchQueue);for(const e of t)this.options.onAlert(e);this._batchQueue.length=0},t.addController(this),this.host=t,this.options=e,e.batchWindow&&e.batchWindow>0&&(this._batchQueue=[])}hostConnected(){oe(this.host).then((t=>{t&&(this._reporter=t,ee.register(t,this))}))}hostDisconnected(){this._reporter&&(ee.unregister(this._reporter,this),this._reporter=void 0),this._batchTimer&&window.clearTimeout(this._batchTimer),this._batchQueue&&(this._batchQueue.length=0)}shouldDisplayAlert(t){const e=this.options;if("number"==typeof t.level){if(e.max&&t.level>e.max)return!1;if(e.min&&t.level<e.min)return!1}else if(void 0!==e.min||void 0!==e.max)return!1;return!e.name||e.name===t.name}displayAlert(t){if(this._batchQueue){if(this._batchQueue.push(t),this._batchTimer)return;this._batchTimer=window.setTimeout(this._batchDisplay,this.options.batchWindow)}else this.options.onAlert(t)}}function dr(t,e,n){n||(n=e);const i=function(t){const e=t.getRootNode();return e instanceof ShadowRoot?e.host.localName:""}(n);i?Z(t,e,{scope:i}):Z(t,e)}let cr=class extends gt{constructor(){super(...arguments),this.ariaLive="polite",this.min=Ct.error,this.max=Ct.info,this._alertsCtrl=new lr(this,{batchWindow:100,onAlert:t=>{const{level:e}=t,n=function(t,e){const{level:n,name:i,message:o,count:r}=e,s=document.createElement("faceplate-toast"),a=r&&r>1?`(${r}) `:"",l=i?G` <strong>${i}</strong><br> `:"";void 0!==n&&s.setAttribute("level",Ct[n].toLowerCase());const d=o||(l?"":n?Ct[n]:"Unknown");return dr(G` ${a}${l}${d} `,s,t),s}(this,t);n.dismissable=!0,e&&e>=Ct.warning&&e<=Ct.info&&window.setTimeout((()=>{n.dismiss()}),3e3),this.appendChild(n)}})}connectedCallback(){super.connectedCallback(),this._alertsCtrl.options.min=this.min,this._alertsCtrl.options.max=this.max}static get styles(){return w`:host{position:fixed;bottom:0;left:0;right:0;text-align:center;padding:0 1rem}`}render(){return G` <slot></slot> `}};e([l({type:String,reflect:!0,attribute:"aria-live"})],cr.prototype,"ariaLive",void 0),e([l({attribute:"min",converter:re})],cr.prototype,"min",void 0),e([l({attribute:"max",converter:re})],cr.prototype,"max",void 0),cr=e([s("faceplate-toaster")],cr);class hr{constructor(){let t,e;this.promise=new Promise(((n,i)=>{t=n,e=i})),this.resolve=t,this.reject=e}}const ur=(()=>{const t="test";try{return sessionStorage.setItem(t,t),sessionStorage.removeItem(t),!0}catch(t){return!1}})(),pr=()=>{if(window.serverTimestamp&&ur){const{serverTimestamp:t}=window;try{const e=sessionStorage.getItem("serverTimestamps");if(e){return JSON.parse(e)[`${t}`]}}catch(t){}}const t=window.performance.getEntriesByType("navigation")[0];return t&&t.responseEnd-t.responseStart<8};let mr=class extends gt{connectedCallback(){super.connectedCallback(),window.serverTimestamp=this.timestamp;const t=`${this.timestamp}`;if(ur){const e=sessionStorage.getItem("serverTimestamps")||"{}";let n={};try{n=JSON.parse(e)}catch(t){sessionStorage.setItem("serverTimestamps","{}")}sessionStorage.setItem("serverTimestamps",JSON.stringify(Object.assign(Object.assign({},n),{[t]:void 0!==n[t]})))}}};e([l({type:Number})],mr.prototype,"timestamp",void 0),mr=e([s("faceplate-server-session")],mr);const vr=Symbol("mixins/connect-event");let gr=class extends(function(t){if(vr in t)return t;class e extends t{connectedCallback(){super.connectedCallback&&super.connectedCallback(),window.queueMicrotask((()=>this.dispatchConnectEvent()))}dispatchConnectEvent(){if(!this.isConnected)return;const t=this.makeConnectEvent();return this.dispatchEvent(t),t}makeConnectEvent(){throw new Error("FaceplateEvent makeConnectEvent() method not implemented!")}}return e[vr]=!0,e}(HTMLElement)){makeConnectEvent(){const t=this.getAttribute("level");let e;if(t){const n=t.toLowerCase();if(!Object.hasOwnProperty.call(Ct,n))return Nt("faceplate-error",new Error(`Unknown level value "${t}" specified on <faceplate-alert> element`));const i=parseInt(n,10);e=isNaN(i)?Ct[n]:i}const n=this.getAttribute("message"),i=this.getAttribute("name"),o=this.getAttribute("meta"),r=this.getAttribute("count"),s={level:e,name:i||void 0,message:n||void 0,meta:o||void 0,count:null===r?1:parseInt(r),originalAlert:this};return Nt("faceplate-alert",s)}};gr=e([s("faceplate-alert")],gr);const br={fromAttribute:t=>t.trim().split(","),toAttribute:t=>t.join(",")};function fr(t){return Array.from(function*(t){for(let e=1;e<=t;e++)yield e}(t))}const wr=new WeakMap;function yr(t,e=document){let n=wr.get(e);n||(n=new Map,wr.set(e,n));let i=n.get(t);return i||(i={key:t},n.set(t,i)),i}const _r=Symbol("mixins/pagination"),xr=function(t){const e=new WeakMap,n=Zt();return{getContextKey:(t,e)=>yr(t,e),appointLeader(i,o){if(e.has(o)){if(e.get(o).isConnected)throw new Error(`Cannot appoint leader for key "${o.key}" in the same context twice.`)}e.set(o,i);const r=n.getRegisteredElements(o);if(r)for(const e of r)t(i,e)},dismissLeader(t,n){const i=e.get(n);i&&i===t&&e.delete(n)},getLeader:t=>e.get(t),registerFollower(i,o){n.register(o,i);const r=e.get(o);r&&t(r,i)},unregisterFollower(t,e){n.unregister(e,t)},getFollowers:t=>n.getRegisteredElements(t)}}(((t,e)=>{e.syncPagination(t)}));function Er(t){if(_r in t)return t;class e extends t{constructor(){super(...arguments),this.pages=1,this._pageIndex=1,this._pageNames=void 0}get pageIndex(){return this._pageIndex}set pageIndex(t){if(t===this._pageIndex)return;const e=this._pageIndex;this._pageIndex=t,this.pageIndexChangedCallback(e)}get pageNames(){return this._pageNames}set pageNames(t){t&&(this.pages=t.length),this._pageNames=t}syncLinkedPageables(){if(this._paginationLeaderContext){const t=xr.getFollowers(this._paginationLeaderContext);if(!t||!t.size)return;for(const e of t)e.syncPagination(this)}if(this._paginationFollowerContext){const t=xr.getLeader(this._paginationFollowerContext);t&&(t.pageIndex=this._pageIndex)}}syncPagination(t){this.pageIndex=t.pageIndex,this.pages=t.pages,this.pageNames=t.pageNames}getPaginationContext(){const t=this.getRootNode();if(t!==this&&(t instanceof Document||t instanceof ShadowRoot))return t}connectedCallback(){super.connectedCallback&&super.connectedCallback();const t=this.getPaginationContext();if(!t)return;const e=this.getAttribute("for");e&&(this._paginationFollowerContext=xr.getContextKey(e,t),xr.registerFollower(this,this._paginationFollowerContext)),this.id&&!e&&(this._paginationLeaderContext=xr.getContextKey(this.id,t),xr.appointLeader(this,this._paginationLeaderContext))}disconnectedCallback(){super.connectedCallback&&super.connectedCallback(),this._paginationLeaderContext&&(xr.dismissLeader(this,this._paginationLeaderContext),this._paginationLeaderContext=void 0),this._paginationFollowerContext&&(xr.unregisterFollower(this,this._paginationFollowerContext),this._paginationFollowerContext=void 0)}nextPage(){this.pageIndex=Math.min(this.pages,this.pageIndex+1)}previousPage(){this.pageIndex=Math.max(1,this.pageIndex-1)}pageIndexChangedCallback(t){this.syncLinkedPageables()}}return e[_r]=!0,e}let kr=class extends(Er(gt)){constructor(){super(...arguments),this.pages=0,this.for=void 0}get pageIndex(){return super.pageIndex}set pageIndex(t){super.pageIndex=t}get pageNames(){return super.pageNames}set pageNames(t){super.pageNames=t}static get styles(){return w`:host{display:block}.page{display:none}.active{display:block}`}render(){if(this.pages<1)return;const{pageNames:t}=this;return G` <div aria-roledescription="carousel"> ${fr(this.pages).map((e=>G` <div role="tabpanel" class="${di({page:!0,active:e===this.pageIndex})}"> <slot name="${t?t[e-1]:`page-${e}`}"></slot> </div> `))} </div> `}pageIndexChangedCallback(t){super.pageIndexChangedCallback(t),this.requestUpdate("pageIndex",t)}};e([l({type:Number})],kr.prototype,"pages",void 0),e([l({type:Number,attribute:"pageindex"})],kr.prototype,"pageIndex",null),e([l({converter:br,attribute:"pagenames"})],kr.prototype,"pageNames",null),e([l({type:String})],kr.prototype,"for",void 0),kr=e([s("faceplate-tabpanel")],kr);let Tr=class extends(Er(gt)){constructor(){super(...arguments),this.pages=0,this.for=void 0,this._events=new Rt(this),this._windowEvents=new Rt(this,(()=>window)),this.locationHashMap=new Map,this._handleHashChange=this._windowEvents.define("hashchange",(()=>{const t=this.locationHashMap.get(window.location.hash);t&&(this.pageIndex=t)})),this._handleClick=this._events.define("click",(t=>{let e=null;t.target instanceof HTMLAnchorElement&&(e=t.target.getAttribute("href"),e&&"#"!==e[0]&&(e=null)),null!==e&&(t.preventDefault(),t.stopPropagation());const n=t.composedPath();for(let t=0;t<n.length;t++){const i=n[t];if(i instanceof HTMLSpanElement&&(this.pageIndex=this.getPageIndexFromSpanWrapper(i),e)){const t=new URL(window.location.href);t.hash=e,window.history.pushState(null,"",t.href)}}})),this._handleKeydown=this._events.define("keydown",(t=>{var e;if("ArrowLeft"===t.key)this.previousPage();else{if("ArrowRight"!==t.key)return;this.nextPage()}null===(e=this.tabList)||void 0===e||e.focus(),t.preventDefault(),t.stopPropagation()}))}get pageIndex(){return super.pageIndex}set pageIndex(t){super.pageIndex=t}get pageNames(){return super.pageNames}set pageNames(t){super.pageNames=t}static get styles(){return w`:host{display:block}span[aria-selected=true] ::slotted(*){--button-color-primary:var(--color-primary-background);--button-color-text:var(--color-global-white);--button-border-width:0px}`}render(){if(this.pages<1)return G``;const{pageNames:t}=this;return G` <div class="tablist" role="tablist" tabindex="-1"> ${fr(this.pages).map((e=>G` <span data-i="${e}" role="tab" aria-selected="${e===this.pageIndex?"true":"false"}"> <slot @slotchange="${this.handleSlotChange}" name="${t?t[e-1]:`page-${e}`}"></slot> </span> `))} </div> `}handleSlotChange(t){const{hash:e}=window.location,n=t.target;if(!(n.parentElement instanceof HTMLSpanElement))return;const i=n.assignedElements();if(i.length)for(const t of i){if(!(t instanceof HTMLAnchorElement))continue;const i=t.getAttribute("href");if(!i)return;const o=this.getPageIndexFromSpanWrapper(n.parentElement);return this.locationHashMap.set(i,o),void(i===e&&(this.pageIndex=o))}}getPageIndexFromSpanWrapper(t){return t.dataset.i?parseInt(t.dataset.i,10):0}pageIndexChangedCallback(t){super.pageIndexChangedCallback(t),this.requestUpdate("pageIndex",t)}};e([l({type:Number})],Tr.prototype,"pages",void 0),e([l({type:Number,attribute:"pageindex"})],Tr.prototype,"pageIndex",null),e([l({type:String})],Tr.prototype,"for",void 0),e([l({converter:br,attribute:"pagenames"})],Tr.prototype,"pageNames",null),e([h(".tablist")],Tr.prototype,"tabList",void 0),Tr=e([s("faceplate-tablist")],Tr);const Ar=()=>En.setItem("seen-nsfw-seo-block",Date.now().toString());const Ir=_n($n(gt)),Cr=Math.max(25e3,35e3,3e4);let Sr=class extends Ir{constructor(){super(),this.referrerType="reddit",this.isInNsfwSeoTimingTreatment=!1,this.nsfwSeoDelayFirstVisit=25e3,this.nsfwSeoDelaySubsequentVisit=25e3,this.localStorageAvailable=!1,this.timeoutId=null,this.count=null,this.hasSeoSession=null,this.updatedAt=null,this.initialized=!1,this.screenViewData={},this.timerCompletedSet=new Set,this.pageHideListener=()=>{this.clearTimeout(),this.saveState()},this.pageShowListener=()=>{this.boot()},this.screenViewDataLoadedListener=t=>{this.screenViewData=t},this.isFirstVisitOrNSFWBlockEnded=()=>{const t=Number(En.getItem("seen-nsfw-seo-block")||0);return 0===t||t>0&&void 0!==this.nsfwSeoUnblockAfter&&Date.now()>t+this.nsfwSeoUnblockAfter},this.shouldMarkNsfwSeoBlockAsSeen=()=>this.isSeoSession&&this.isInNsfwSeoTimingTreatment&&this.isFirstVisitOrNSFWBlockEnded(),this.tick=()=>{null!==this.count&&(this.count+=1e3,this.updatedAt=(new Date).getTime(),this.count>=this.nsfwBlockingDelay&&this.publishNSFWBlockingSignal(),this.count>=35e3&&this.publishUntaggedBlockingSignal(),this.count>=3e4&&this.trackGoodVisit(),this.count>=Cr?this.clearState():this.timeoutId=window.setTimeout(this.tick,1e3))},this.clearTimeout=()=>{null!==this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=null},this.trackGoodVisit=()=>{if(this.timerCompletedSet.has("good-visit-timer"))return;const t=(({delay:t,screenViewData:e})=>We({source:"global",action:"view",noun:"heartbeat"},Object.assign(Object.assign({},e),{timer:{type:qe.GoodVisit,millis:t}})))({delay:3e4,screenViewData:this.screenViewData});this.trackEvent(t),this.timerCompletedSet.add("good-visit-timer")},this.localStorageAvailable=En.isAvailable()}getState(){return{count:this.count,updatedAt:this.updatedAt}}get isSeoSession(){return"seo"===this.referrerType||!!this.hasSeoSession}get nsfwBlockingDelay(){return this.isSeoSession?this.isInNsfwSeoTimingTreatment?this.isFirstVisitOrNSFWBlockEnded()?this.nsfwSeoDelayFirstVisit:this.nsfwSeoDelaySubsequentVisit:25e3:0}connectedCallback(){if(super.connectedCallback(),this.initialized)return;this.initialized=!0,this.boot(),window.addEventListener("pagehide",this.pageHideListener),window.addEventListener("pageshow",this.pageShowListener),this.subscribe(fi.ScreenViewDataLoaded,this.screenViewDataLoadedListener);const t=new URL(window.location.href);t.searchParams.delete("force_seo"),history.replaceState({},"",t.toString()),this.subscribe(fi.ScreenViewDataLoaded,(t=>this.screenViewData=t))}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("pagehide",this.pageHideListener),window.removeEventListener("pageshow",this.pageShowListener),this.unsubscribe(fi.ScreenViewDataLoaded,this.screenViewDataLoadedListener),this.clearTimeout()}boot(){this.timeoutId||("seo"===this.referrerType?this.initState():"other"===this.referrerType?(this.publishAllBlockingSignals(),this.clearState()):this.loadState(),this.tick())}publishNSFWBlockingSignal(){this.timerCompletedSet.has(fi.TriggerNsfwBlockingExperience)||(this.publish(fi.TriggerNsfwBlockingExperience,{shouldMarkNsfwSeoBlockAsSeen:this.shouldMarkNsfwSeoBlockAsSeen()}),this.timerCompletedSet.add(fi.TriggerNsfwBlockingExperience))}publishUntaggedBlockingSignal(){this.timerCompletedSet.has(fi.TriggerUntaggedContentBlockingExperience)||(this.publish(fi.TriggerUntaggedContentBlockingExperience),this.timerCompletedSet.add(fi.TriggerUntaggedContentBlockingExperience))}publishAllBlockingSignals(){this.publishNSFWBlockingSignal(),this.publishUntaggedBlockingSignal()}initState(){this.count=0,this.updatedAt=(new Date).getTime()}clearState(){this.hasSeoSession=!1,this.count=null,this.updatedAt=null,this.localStorageAvailable&&En.removeItem(xn.GoodVisit)}loadState(){if(!this.localStorageAvailable)return void this.publishAllBlockingSignals();const t=En.getItem(xn.GoodVisit);var e;if(t)try{const n=JSON.parse(t);if(!(null!==(e=n)&&"number"==typeof e.count&&"number"==typeof e.updatedAt))throw new Error("Invalid SEO session object");this.hasSeoSession=!0,this.count=n.count,this.updatedAt=n.updatedAt;const i=(new Date).getTime();i-this.updatedAt>5e3&&(this.clearState(),this.publishAllBlockingSignals())}catch(t){this.clearState(),this.publishAllBlockingSignals()}else this.publishAllBlockingSignals()}saveState(){if(!this.localStorageAvailable)return;if(null===this.count)return;const t=JSON.stringify({count:this.count,updatedAt:this.updatedAt});En.setItem(xn.GoodVisit,t)}};e([l({type:String})],Sr.prototype,"referrerType",void 0),e([l({type:Boolean})],Sr.prototype,"isInNsfwSeoTimingTreatment",void 0),e([l({type:Number})],Sr.prototype,"nsfwSeoUnblockAfter",void 0),e([l({type:Number})],Sr.prototype,"nsfwSeoDelayFirstVisit",void 0),e([l({type:Number})],Sr.prototype,"nsfwSeoDelaySubsequentVisit",void 0),Sr=e([s("shreddit-good-visit-tracker")],Sr);let Lr=class extends gt{constructor(){super(...arguments),this.value=""}connectedCallback(){super.connectedCallback(),this.dispatchEvent(Nt("canonical-url-updated",this.value))}};e([l({type:String})],Lr.prototype,"value",void 0),Lr=e([s("shreddit-canonical-url-updater")],Lr);const Or=_n(gt);let Mr=class extends Or{constructor(){super(...arguments),this.isNsfwBlocked=!1,this.nsfw=!1,this.setNsfwIsBlocked=()=>{this.nsfw=!0}}static get styles(){return w`:host{--default-aspect-ratio:calc(150 / 300);--configured-aspect-ratio:var(--aspect-ratio, var(--default-aspect-ratio));--computed-aspect-ratio:calc(100% * var(--configured-aspect-ratio));--default-min-height:150px;--configured-min-height:var(--min-height, var(--default-min-height));--default-max-height:100vh;--configured-max-height:var(--max-height, var(--default-max-height));--aspect-ratio-padding:min(
          max(var(--configured-min-height), var(--computed-aspect-ratio)),
          var(--configured-max-height)
        );display:block;height:0;padding-bottom:var(--aspect-ratio-padding);position:relative}:host([nsfw]){--configured-min-height:300px}slot{display:block;height:100%;position:absolute;width:100%}`}connectedCallback(){super.connectedCallback(),this.isNsfwBlocked&&this.subscribe(fi.TriggerNsfwBlockingExperience,this.setNsfwIsBlocked)}disconnectedCallback(){super.disconnectedCallback(),this.isNsfwBlocked&&this.unsubscribe(fi.TriggerNsfwBlockingExperience,this.setNsfwIsBlocked)}render(){return G`<slot></slot>`}};e([l({type:Boolean,attribute:"is-nsfw-blocked"})],Mr.prototype,"isNsfwBlocked",void 0),e([l({type:Boolean,reflect:!0})],Mr.prototype,"nsfw",void 0),Mr=e([s("shreddit-aspect-ratio")],Mr),Yn("icon-r-slash",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.306 8.021a2 2 0 00-.6-.229 3.2 3.2 0 00-.658-.07c-.39-.008-.775.08-1.122.256-.31.158-.57.4-.748.7a1.884 1.884 0 00-.263.98V14.5h-1.86V6.092h1.787v1.071h.04c.316-.368.71-.663 1.153-.863A3.839 3.839 0 019.7 5.958c.28-.004.56.024.834.083.182.033.358.096.52.185l-.748 1.795zm-1.7 8.841L15 1.416h1.583l-6.417 15.446h-1.56z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.488 8.58a2.483 2.483 0 00-1.275-.3c-.5-.03-.994.126-1.385.441a1.607 1.607 0 00-.5 1.268V14.5H3.844V6.021h2.362v1.008h.047a3.57 3.57 0 011.165-.819 4.065 4.065 0 011.693-.323c.286-.002.57.024.85.079.187.028.366.092.527.189l-1 2.425zM8.1 16.862l6.38-15.446h2.063l-6.425 15.446H8.1z"/></svg>`);const Vr=$n(gt);let $r=class extends Vr{constructor(){super(...arguments),this.name="",this.postId="",this.bannerUrl=""}static get styles(){return jt(":host {\n  text-align: center;\n}\nh2 {\n  font: var(--font-title-h2);\n  font-weight: bold;\n  margin: 0.4rem 0 0;\n}\na {\n  color: inherit;\n  text-decoration: none;\n}\n.header {\n  background-color: var(--color-global-darkblue);\n  background-position: top center;\n  background-repeat: no-repeat;\n  background-size: auto 6.8em;\n  overflow: hidden;\n  padding-top: 3.5em;\n  position: relative;\n}\n.banner {\n  background-position: 50%;\n  background-size: cover;\n  left: 0;\n  padding-top: 30%;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.overlay {\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.layout {\n  background-color: var(--color-tone-7);\n  border-radius: 1.43em 1.43em 0 0;\n  position: relative;\n}\n.close {\n  align-items: center;\n  background: var(--color-tone-5);\n  border-radius: 50%;\n  display: flex;\n  height: 1.43em;\n  justify-content: space-around;\n  position: absolute;\n  right: 1.15em;\n  top: 1.15em;\n  width: 1.43em;\n}\n.close,\n.close:hover,\n.close:focus {\n  text-decoration: none;\n}\n.close .close-icon {\n  font-size: 0.8em;\n}\n.subreddit-icon {\n  display: flex;\n  font-size: 72px;\n  height: 72px;\n  margin-top: -36px;\n  width: 72px;\n}\n.subreddit-link {\n  align-items: center;\n  display: flex;\n  flex-flow: column nowrap;\n}\n.screenreader-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n")}onClose(){var t;this.trackEvent((t={id:this.postId,subreddit:this.name},We({source:"post_detail",action:"click",noun:"close"},Ji(t))))}onSubredditClick(){var t;this.trackEvent((t={id:this.postId,subreddit:this.name},We({source:"post_detail",action:"click",noun:"subreddit"},Ji(t))))}render(){const{bannerUrl:t}=this,e=`r/${this.name}`,n=`/r/${this.name}`;return G`\n <div class="header">\n <div \n class="banner" \n style="${Wo({backgroundImage:t?`url('${t}')`:""})}" \n></div>\n <a class="overlay" href="${n}" \n><span class="screenreader-only" \n>Comments page header overlay</span></a>\n <div class="layout">\n <a class="close" href="${n}" @click="${this.onClose}">\n <icon-close class="close-icon"></icon-close>\n </a>\n <a class="subreddit-link" href="${n}" @click="${this.onSubredditClick}">\n <div class="subreddit-icon">\n <slot name="subredditIcon"></slot>\n </div>\n <h2>${e}</h2>\n </a>\n </div>\n </div>\n `}};e([l({type:String})],$r.prototype,"name",void 0),e([l({type:String,attribute:"post-id"})],$r.prototype,"postId",void 0),e([l({type:String,attribute:"banner-url"})],$r.prototype,"bannerUrl",void 0),$r=e([s("shreddit-comments-page-header")],$r);class Dr extends HTMLElement{connectedCallback(){this.videoId=this.getAttribute("videoid");let t=this.querySelector(".lty-playbtn");if(this.playLabel=t&&t.textContent.trim()||this.getAttribute("playlabel")||"Play",this.style.backgroundImage||(this.posterUrl=`https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg`,Dr.addPrefetch("preload",this.posterUrl,"image"),this.style.backgroundImage=`url("${this.posterUrl}")`),t||(t=document.createElement("button"),t.type="button",t.classList.add("lty-playbtn"),this.append(t)),!t.textContent){const e=document.createElement("span");e.className="lyt-visually-hidden",e.textContent=this.playLabel,t.append(e)}this.addEventListener("pointerover",Dr.warmConnections,{once:!0}),this.addEventListener("click",(t=>this.addIframe()))}static addPrefetch(t,e,n){const i=document.createElement("link");i.rel=t,i.href=e,n&&(i.as=n),document.head.append(i)}static warmConnections(){Dr.preconnected||(Dr.addPrefetch("preconnect","https://www.youtube-nocookie.com"),Dr.addPrefetch("preconnect","https://www.google.com"),Dr.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),Dr.addPrefetch("preconnect","https://static.doubleclick.net"),Dr.preconnected=!0)}addIframe(){const t=new URLSearchParams(this.getAttribute("params")||[]);t.append("autoplay","1");const e=document.createElement("iframe");e.width=560,e.height=315,e.title=this.playLabel,e.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",e.allowFullscreen=!0,e.src=`https://www.youtube-nocookie.com/embed/${encodeURIComponent(this.videoId)}?${t.toString()}`,this.append(e),this.classList.add("lyt-activated"),this.querySelector("iframe").focus()}}customElements.define("lite-youtube",Dr);var Pr=Object.freeze({__proto__:null});function Nr(t){return(new DOMParser).parseFromString(t,"text/html")}function Br(t){const e=Nr(t).querySelector("iframe");return e?function(t){try{const e=new URL(t),{pathname:n}=e,i=n.split("/"),o=i.indexOf("embed");if(-1===o)return null;return i[o+1]||null}catch(t){return null}}(e.src):null}function zr(t){const e=Nr(t).querySelector("iframe");return e?function(t){var e;try{const n=null!==(e=new URL(t).searchParams.get("src"))&&void 0!==e?e:"",{pathname:i}=new URL(n),o=i.split("/"),r=o.indexOf("video");if(-1===r)return null;return o[r+1]||null}catch(t){return null}}(e.src):null}let Rr=class extends(It(gt)){constructor(){super(...arguments),this.html="",this.providerName="",this.mounted=!1}static get styles(){return[Dn,jt('lite-youtube {\n  background-color: #000;\n  position: relative;\n  display: block;\n  contain: content;\n  background-position: center center;\n  background-size: cover;\n  cursor: pointer;\n  max-width: 720px;\n}\n/* gradient */\nlite-youtube::before {\n  content: \'\';\n  display: block;\n  position: absolute;\n  top: 0;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==);\n  background-position: top;\n  background-repeat: repeat-x;\n  height: 60px;\n  padding-bottom: 50px;\n  width: 100%;\n  transition: all 0.2s cubic-bezier(0, 0, 0.2, 1);\n}\n/* responsive iframe with a 16:9 aspect ratio\n    thanks https://css-tricks.com/responsive-iframes/\n*/\nlite-youtube::after {\n  content: "";\n  display: block;\n  padding-bottom: calc(100% / (16 / 9));\n}\nlite-youtube > iframe {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  border: 0;\n}\n/* play button */\nlite-youtube > .lty-playbtn {\n  width: 68px;\n  height: 48px;\n  position: absolute;\n  cursor: pointer;\n  transform: translate3d(-50%, -50%, 0);\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n  background-color: transparent;\n  /* YT\'s actual play button svg */\n  background-image: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 68 48"><path fill="%23f00" fill-opacity="0.8" d="M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z"></path><path d="M 45,24 27,14 27,34" fill="%23fff"></path></svg>\');\n  filter: grayscale(100%);\n  transition: filter 0.1s cubic-bezier(0, 0, 0.2, 1);\n  border: none;\n}\nlite-youtube:hover > .lty-playbtn,\nlite-youtube .lty-playbtn:focus {\n  filter: none;\n}\n/* Post-click styles */\nlite-youtube.lyt-activated {\n  cursor: unset;\n}\nlite-youtube.lyt-activated::before,\nlite-youtube.lyt-activated > .lty-playbtn {\n  opacity: 0;\n  pointer-events: none;\n}\n.lyt-visually-hidden {\n  clip: rect(0 0 0 0);\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n}\niframe {\n  position: static !important;\n  width: 100%;\n  height: 100%;\n}\nlite-youtube > iframe {\n  position: absolute !important;\n}\n')]}render(){return G` ${this.content} `}connectedCallback(){super.connectedCallback(),this.isObserved||this.enableObserver()}disconnectedCallback(){super.disconnectedCallback(),this.isObserved&&this.disableObserver()}observerIsIntersectingCallback(){if(this.disableObserver(),!this.mounted){if(this.mounted=!0,"YouTube"===this.providerName){const t=Br(this.html);if(t)return void(this.content=this.renderedLiteYoutubeElement(t))}if("Vimeo"===this.providerName){const t=zr(this.html);if(t)return void(this.content=this.renderedLiteVimeoElement(t))}this.content=this.renderedEmbedHtml()}}renderedEmbedHtml(){const t=Oo(this.html)[0];if(t&&t instanceof HTMLElement)return t}renderedLiteYoutubeElement(t){return Promise.resolve().then((function(){return Pr})),G` <lite-youtube class="h-full" videoid="${t}"> </lite-youtube> `}renderedLiteVimeoElement(t){return import("./lite-vimeo-9c24a9a3.js"),G` <lite-vimeo class="h-full p-0" videoid="${t}"> </lite-vimeo> `}};var Hr;e([l({type:String,noAccessor:!0})],Rr.prototype,"html",void 0),e([l({type:String})],Rr.prototype,"providerName",void 0),e([d()],Rr.prototype,"content",void 0),Rr=e([s("shreddit-embed")],Rr),Yn("icon-privacy",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M13.083 0a6.862 6.862 0 00-6.854 6.854c0 .825.149 1.643.442 2.414L0 15.939v4h5V17h3v-3h5.083a7.1 7.1 0 006.854-7.146A6.862 6.862 0 0013.083 0zm0 12.75H6.75v3h-3v2.938h-2.5v-2.231l6.906-6.906-.178-.395a5.554 5.554 0 01-.5-2.3 5.604 5.604 0 0111.208 0 5.833 5.833 0 01-5.603 5.894zm2.7-6.934a1.664 1.664 0 11-3.332 0 1.664 1.664 0 013.334 0h-.002z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M13.083 0a6.862 6.862 0 00-6.854 6.854c0 .825.149 1.643.442 2.414L0 15.939v4h5V17h3v-3h5.083a7.1 7.1 0 006.854-7.146A6.862 6.862 0 0013.083 0zm1.039 7.654a1.838 1.838 0 110-3.676 1.838 1.838 0 010 3.676z"/></svg>`),Yn("icon-ban",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19.59 9.705l-1.062-1.061a2.606 2.606 0 00-1.856-.769h-.913l-3.634-3.634v-.912a2.597 2.597 0 00-.769-1.856L10.3.411a1.128 1.128 0 00-1.6.001L3.411 5.705a1.125 1.125 0 000 1.59l1.061 1.061a2.607 2.607 0 001.856.769h.913l.375.375-6.557 6.558a2.04 2.04 0 002.883 2.884l6.558-6.558.375.375v.913a2.608 2.608 0 00.77 1.856l1.06 1.06a1.127 1.127 0 001.591 0l5.292-5.288a1.124 1.124 0 000-1.591l.001-.004zM3.06 18.058a.79.79 0 11-1.118-1.116L8.5 10.384 9.616 11.5 3.06 18.058zm10.44-2.442l-.972-.972a1.38 1.38 0 01-.4-.972v-1.431L7.76 7.875H6.33a1.367 1.367 0 01-.973-.4L4.384 6.5 9.5 1.384l.972.972c.257.259.4.609.4.973v1.43l4.366 4.366h1.431c.364 0 .713.144.972.4l.972.972-5.113 5.119z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19.918 10.5a1.114 1.114 0 01-.33.8L14.3 16.588a1.127 1.127 0 01-1.592 0l-1.06-1.06a2.608 2.608 0 01-.769-1.856v-.913L7.241 9.125h-.913a2.607 2.607 0 01-1.856-.769L3.412 7.3a1.125 1.125 0 010-1.59L8.7.412a1.128 1.128 0 011.591 0l1.061 1.062a2.601 2.601 0 01.77 1.856v.912l3.633 3.634h.913a2.607 2.607 0 011.856.769l1.061 1.061a1.12 1.12 0 01.333.794zM8.834 12.834l-1.392-1.392-.884-.884-5.5 5.5a2.04 2.04 0 002.883 2.884l5.5-5.5-.607-.608z"/></svg>`),Yn("icon-quarantined",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M11.375 10a1.375 1.375 0 11-2.75 0 1.375 1.375 0 012.75 0zm-3.188 1.89l-1.539 2.666.541.312a5.6 5.6 0 005.622 0l.541-.312-1.539-2.666a2.6 2.6 0 01-3.626 0zm1.086-4.4L7.73 4.818l-.542.314A5.646 5.646 0 004.375 10v.625h3.083A2.577 2.577 0 019.273 7.49zM12.625 10c-.002.211-.03.42-.083.625h3.083V10a5.646 5.646 0 00-2.813-4.868l-.542-.314-1.543 2.672A2.622 2.622 0 0112.625 10zM10 19.99a4.6 4.6 0 01-3.27-1.354l-5.366-5.365a4.627 4.627 0 010-6.542L6.73 1.364a4.627 4.627 0 016.542 0l5.365 5.364a4.627 4.627 0 010 6.542l-5.364 5.365A4.601 4.601 0 0110 19.99zm0-18.73a3.353 3.353 0 00-2.386.988L2.25 7.614a3.374 3.374 0 000 4.772l5.366 5.366a3.46 3.46 0 004.772 0l5.365-5.366a3.374 3.374 0 000-4.772L12.386 2.25A3.35 3.35 0 0010 1.26z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.635 6.73L13.27 1.364a4.627 4.627 0 00-6.542 0L1.364 6.73a4.627 4.627 0 000 6.542l5.365 5.365a4.628 4.628 0 006.542 0l5.364-5.365a4.627 4.627 0 000-6.542zM11.375 10a1.375 1.375 0 11-2.75 0 1.375 1.375 0 012.75 0zm-7 0a5.646 5.646 0 012.812-4.868l.542-.314L9.272 7.49a2.577 2.577 0 00-1.815 3.135H4.374V10zm8.435 4.868a5.6 5.6 0 01-5.622 0l-.54-.312 1.538-2.666a2.6 2.6 0 003.626 0l1.54 2.666-.542.312zm2.814-4.243h-3.083a2.577 2.577 0 00-1.815-3.135l1.543-2.672.542.314A5.645 5.645 0 0115.624 10v.625z"/></svg>`),Yn("icon-nsfw",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M4.47 7.123l2.653-1.26h.47V14.5H6.15V7.668l-1.68.8V7.123zm9.9 3.69a2.288 2.288 0 01-.02 2.54 2.7 2.7 0 01-1.085.91 3.699 3.699 0 01-3.068 0A2.774 2.774 0 019.1 13.35a2.253 2.253 0 01-.019-2.532c.257-.383.61-.69 1.025-.893A2.372 2.372 0 019.4 9.11a2.21 2.21 0 01-.257-1.048 2.1 2.1 0 01.342-1.175c.233-.353.557-.637.938-.82.409-.202.86-.305 1.315-.3.451-.005.897.098 1.3.3.377.185.697.468.926.82.227.352.345.762.34 1.18a2.2 2.2 0 01-.255 1.05 2.3 2.3 0 01-.706.8c.415.202.77.512 1.026.896zM12.54 13.2c.235-.11.437-.28.583-.495.142-.207.216-.454.214-.705a1.267 1.267 0 00-.205-.7 1.468 1.468 0 00-.57-.51 1.776 1.776 0 00-.83-.19c-.29-.004-.577.061-.836.19a1.5 1.5 0 00-.583.513 1.262 1.262 0 00.003 1.4c.147.216.348.388.583.5.256.124.537.186.821.182a1.86 1.86 0 00.82-.185zm-1.474-6.083a1.194 1.194 0 00-.468.422 1.11 1.11 0 00-.173.615c-.002.224.058.444.173.636.113.192.275.35.468.46.201.114.429.173.66.17.23.002.456-.055.656-.167a1.233 1.233 0 00.638-1.099 1.132 1.132 0 00-.635-1.037 1.507 1.507 0 00-1.319 0zM10 19.988a4.616 4.616 0 01-3.27-1.352l-5.366-5.365a4.627 4.627 0 010-6.542L6.73 1.364a4.634 4.634 0 016.542 0l5.366 5.365a4.634 4.634 0 010 6.542l-5.366 5.365a4.615 4.615 0 01-3.27 1.352zm0-18.726a3.362 3.362 0 00-2.386.987L2.25 7.614a3.374 3.374 0 000 4.772l5.366 5.365a3.38 3.38 0 004.773 0l5.365-5.365a3.375 3.375 0 000-4.772L12.387 2.25A3.364 3.364 0 0010 1.262z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M13 10.967a1.593 1.593 0 00-1.363 0 1.2 1.2 0 00-.475.414 1.02 1.02 0 00-.173.576.967.967 0 00.18.574c.122.172.29.307.482.393.21.095.438.143.668.14a1.51 1.51 0 00.671-.146 1.2 1.2 0 00.475-.4.985.985 0 00.173-.569 1.024 1.024 0 00-.17-.57 1.2 1.2 0 00-.469-.412zM11.747 9.227c.177.095.374.143.574.14.2.003.396-.045.572-.14a1.057 1.057 0 00.402-1.462.984.984 0 00-.406-.37 1.317 1.317 0 00-1.137 0 1 1 0 00-.557.902 1.047 1.047 0 00.551.932l.001-.002z"/><path d="M18.636 6.73L13.27 1.363a4.634 4.634 0 00-6.542 0L1.364 6.73a4.627 4.627 0 000 6.542l5.365 5.365a4.633 4.633 0 006.542 0l5.366-5.365a4.634 4.634 0 000-6.542zM8.204 14.5H6.288V8.277L4.648 9V7.23l2.988-1.367h.568V14.5zm6.862-1.148c-.29.4-.683.714-1.136.912a4.11 4.11 0 01-3.24-.006 2.8 2.8 0 01-1.134-.918 2.172 2.172 0 01-.41-1.283c0-.42.12-.83.345-1.184a2.6 2.6 0 01.944-.879 2.488 2.488 0 01-.636-.832c-.152-.32-.23-.67-.229-1.025a2.117 2.117 0 01.378-1.248c.256-.362.604-.65 1.008-.832.43-.198.9-.298 1.374-.293.474-.004.942.099 1.371.3.403.182.749.47 1 .834.249.368.378.804.37 1.248a2.371 2.371 0 01-.868 1.851c.383.21.708.51.944.877a2.24 2.24 0 01-.074 2.481l-.007-.003z"/></svg>`),Yn("icon-meme",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_609_349)"><path d="M20 7h-1.016V1.271A1.127 1.127 0 0017.833.147c-.198.006-.391.064-.559.17l-3.9 2.458a11.016 11.016 0 00-6.7 0L2.771.317a1.107 1.107 0 00-1.55.381 1.128 1.128 0 00-.156.573v7.013a7.09 7.09 0 00-.489 2.591 7.545 7.545 0 002.804 5.779A10.231 10.231 0 0010.025 19c2.423.03 4.778-.802 6.645-2.346A7.7 7.7 0 0019.375 12H20V7zM6.518 4.154l.286-.1a9.711 9.711 0 016.442 0l.286.1 4.2-2.648V7H13v1h-2V7H4v1H2.272l.043-6.493 4.203 2.647zM15.861 15.7a8.99 8.99 0 01-5.836 2.048A8.987 8.987 0 014.19 15.7a6.32 6.32 0 01-2.364-4.827 5.82 5.82 0 01.26-1.623H4V12h7V9.25h2V12h5.107a6.516 6.516 0 01-2.246 3.7zm-4.522-1.125l.322 1.208a6.46 6.46 0 01-1.66.217 6.127 6.127 0 01-4.27-1.678l.873-.893a5.1 5.1 0 004.735 1.148v-.002z"/></g><defs><clipPath id="clip0_609_349"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M13 9.25h-2V12H4V9.25H.771a7.09 7.09 0 00-.2 1.625 7.545 7.545 0 002.81 5.779A10.231 10.231 0 0010.024 19c2.423.03 4.778-.802 6.645-2.346A7.7 7.7 0 0019.375 12H13V9.25zm-3 7a6.26 6.26 0 01-4.357-1.713l1.048-1.073a4.977 4.977 0 004.616 1.117l.386 1.449a6.569 6.569 0 01-1.693.22zM4 8H1.064V1.271a1.128 1.128 0 01.582-.987 1.107 1.107 0 011.125.033l3.9 2.458c2.18-.696 4.521-.696 6.7 0l3.9-2.458a1.11 1.11 0 011.554.381c.102.174.156.372.155.573V7H13v1h-2V7H4v1z"/></svg>`),Yn("icon-spoiler",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.463 15.384A1.092 1.092 0 019.076 15a1.033 1.033 0 01-.143-.537c-.002-.186.047-.369.143-.529.093-.16.227-.293.387-.387.16-.097.345-.148.533-.147a1.05 1.05 0 01.537.141 1.076 1.076 0 01.537.921c0 .188-.051.373-.148.535-.096.159-.23.292-.39.386a1.042 1.042 0 01-.536.143 1.026 1.026 0 01-.533-.142zm-.141-3.329L9.13 5.342h1.73l-.192 6.713H9.322zm.667 7.935a4.6 4.6 0 01-3.27-1.354l-5.367-5.365a4.634 4.634 0 010-6.542l5.367-5.365a4.626 4.626 0 016.54 0l5.366 5.364a4.627 4.627 0 010 6.542l-5.364 5.365a4.6 4.6 0 01-3.272 1.355zm0-18.73a3.353 3.353 0 00-2.386.988L2.237 7.614a3.375 3.375 0 000 4.772l5.366 5.366a3.46 3.46 0 004.771 0l5.365-5.366a3.374 3.374 0 000-4.772L12.374 2.25A3.349 3.349 0 009.99 1.26z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.628 6.73l-5.364-5.365a4.626 4.626 0 00-6.542 0L1.355 6.73a4.634 4.634 0 000 6.542l5.367 5.365a4.627 4.627 0 006.542 0l5.364-5.365a4.627 4.627 0 000-6.542zM11.162 5l-.28 6.747H9.117L8.837 5h2.325zm-.038 9.536a1.29 1.29 0 01-.462.472 1.24 1.24 0 01-.655.178 1.286 1.286 0 111.117-.65z"/></svg>`),function(t){t.Unknown="UNKNOWN",t.Private="PRIVATE",t.GoldOnly="GOLD_ONLY",t.Banned="BANNED",t.Quarantined="QUARANTINED"}(Hr||(Hr={}));let Ur=class extends gt{constructor(){super(...arguments),this.name="",this.nsfw=!1,this.logged=!1,this.reason=Hr.Unknown,this.hasCustomButtons=!1,this.not_found=!1,this.server_error=!1}static get styles(){return[Dn,jt(":host {\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  text-align: center;\n  height: calc(100% - var(--shreddit-header-height) - var(--shreddit-bottom-padding));\n  padding: 1.5rem;\n  overflow: hidden;\n}\n.text {\n  box-sizing: border-box;\n  width: 100%;\n  padding: 0 0.5rem;\n}\n.text.server-error-text {\n  width: 80%;\n}\n.text.server-error-text > h1 {\n  font-size: 1rem;\n  font-weight: 500;\n  line-height: 1rem;\n}\nh1 {\n  margin-top: 1rem;\n  font-weight: 600;\n  line-height: 2rem;\n}\np {\n  margin: 1rem 0 1.5rem;\n}\n.icon {\n  box-sizing: border-box;\n  background: var(--color-tone-6);\n  font-size: 2rem;\n  line-height: 0;\n  padding: 1rem;\n  overflow: hidden;\n  border-radius: 50%;\n}\nicon-quarantined.icon {\n  color: var(--color-global-white);\n  background: #f8d758;\n}\n.icon.server-error-icon {\n  background: none;\n}\n.buttons {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n.buttons-vertical {\n  flex-direction: column;\n}\n")]}connectedCallback(){super.connectedCallback();const t=Nt("unsuccessful-pageview");this.dispatchEvent(t)}handleAcceptNsfwClick(){qt.set("over18","true",ro);const t=new URL(window.location.href);t.searchParams.set("force_seo","1"),window.location.href=t.toString()}handleAcceptQuarantinedClick(){const t=qt.get("_options");if(t){const e=JSON.parse(decodeURIComponent(t));e.pref_quarantine_optin=!0,qt.set("_options",JSON.stringify(e),ro)}else{const t=JSON.stringify({pref_quarantine_optin:!0});qt.set("_options",t,ro)}window.location.reload()}render(){const t=this.nsfw?G` <icon-nsfw class="icon" fill></icon-nsfw> `:this.reason==Hr.Private||this.reason==Hr.GoldOnly?G` <icon-privacy class="icon" fill></icon-privacy> `:this.reason==Hr.Banned?G` <icon-ban class="icon" fill></icon-ban> `:this.reason==Hr.Quarantined?G` <icon-quarantined class="icon" fill></icon-quarantined> `:this.not_found?G` <icon-meme class="icon" fill></icon-meme> `:this.server_error?G` <icon-spoiler class="icon server-error-icon"></icon-spoiler> `:null,e=!(this.logged||this.not_found||this.server_error||this.nsfw||this.reason==Hr.Quarantined||this.reason==Hr.Banned),n=this.reason==Hr.Private||this.reason==Hr.GoldOnly||this.reason==Hr.Banned||this.not_found?G`\n <a \n class="button button-small button-primary flex-auto max-w-full mb-lg btn primary-btn" \n href="/" \n>View Other Communities</a>\n `:e?G`\n <a \n class="button button-small button-primary flex-auto max-w-full mb-lg btn primary-btn" \n href="/login" \n>Log In</a>\n <span \n>New to reddit?\n <a href="https://www.reddit.com/register">\n Sign up\n </a></span>\n `:this.nsfw?G`\n <a \n class="button button-small button-primary flex-auto max-w-full mb-lg btn primary-btn" \n href="/" \n>\n No, go home\n </a>\n <button \n class="button button-small button-primary flex-auto max-w-full mb-lg ml-xs btn primary-btn" \n @click="${this.handleAcceptNsfwClick}" \n>\n Yes, show post\n </button>\n `:this.reason==Hr.Quarantined?G`\n <a \n class="button button-small button-primary flex-auto max-w-full mb-lg btn primary-btn" \n href="/" \n>No, thank you</a>\n <button \n class="button button-small button-primary flex-auto max-w-full mb-lg ml-xs btn primary-btn" \n @click="${this.handleAcceptQuarantinedClick}" \n>\n Continue\n </button>\n `:null;return G`\n ${t}\n <div class="text${this.server_error?" server-error-text":""}">\n <h1><slot name="title"></slot></h1>\n <p><slot name="message"></slot></p>\n </div>\n\n <nav class="${e?"buttons buttons-vertical":"buttons"}">\n ${this.hasCustomButtons?G`<slot name="custom-buttons"></slot>`:n}\n </nav>\n `}};e([l({type:String})],Ur.prototype,"name",void 0),e([l({type:Boolean})],Ur.prototype,"nsfw",void 0),e([l({type:Boolean})],Ur.prototype,"logged",void 0),e([l({type:String})],Ur.prototype,"reason",void 0),e([l({type:Boolean,attribute:"has-custom-buttons"})],Ur.prototype,"hasCustomButtons",void 0),e([l({type:Boolean})],Ur.prototype,"not_found",void 0),e([l({type:Boolean})],Ur.prototype,"server_error",void 0),Ur=e([s("shreddit-forbidden")],Ur);let Fr=class extends qo{constructor(){super(...arguments),this.shouldRenderImageLink=!1}render(){const{img:t}=this,e={width:this.width?this.width+"px":"inherit",height:this.height?this.height+"px":"inherit"};return G`\n <div \n class="${t?"loaded":"placeholder"}" \n style="${Wo(e)}" \n tabindex="${po(this.isActionable?0:void 0)}" \n>\n ${this.content}\n </div>\n `}static get styles(){return[super.styles,jt(".shreddit-img__image {\n  height: 100%;\n  max-height: inherit;\n}\n")]}get content(){const{img:t}=this;return t?this.image:this.placeholder}get imageStyle(){const t={};return this.objectfit&&(t.objectFit=encodeURIComponent(this.objectfit)),t}get image(){let t=G`\n <img \n class="shreddit-img__image" \n alt="${po(this.alt)}" \n src="${this.src}" \n style="${Wo(this.imageStyle)}" \n>\n `;return this.shouldRenderImageLink&&(t=G`\n <a \n href="${this.linkHref||this.src}" \n title="${po(this.linkTitle)}" \n rel="${po(this.linkRel)}" \n target="_blank" \n>\n ${t}\n </a>\n `),t}get placeholder(){const{isRequestInProgress:t}=this;return t&&this.loading===St.Action?this.loadingSlot:this.defaultSlot}get loadingSlot(){return G`<slot name="loading"></slot>`}get defaultSlot(){return G`<slot></slot>`}};e([l({type:String})],Fr.prototype,"alt",void 0),e([l({type:Boolean,attribute:"should-render-image-link"})],Fr.prototype,"shouldRenderImageLink",void 0),e([l({type:String,attribute:"link-title"})],Fr.prototype,"linkTitle",void 0),e([l({type:String,attribute:"link-href"})],Fr.prototype,"linkHref",void 0),e([l({type:String,attribute:"link-rel"})],Fr.prototype,"linkRel",void 0),Fr=e([s("shreddit-img")],Fr);let Wr=class extends gt{constructor(){super(...arguments),this.totalVoteCount=0,this.optionVoteCount=0,this.optionText="",this.isWinningOption=!1}static get styles(){return jt(".option {\n  align-items: center;\n  display: flex;\n  height: 2.28em;\n  margin-top: 0.6em;\n  position: relative;\n}\n.text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.vote-count,\n.text {\n  margin-left: 1.15em;\n  white-space: nowrap;\n}\n.ratio-bar {\n  background-color: var(--color-global-alienblue);\n  border-radius: 0.28em;\n  height: 100%;\n  left: 0;\n  min-width: 0.28em;\n  opacity: 0.15;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n}\n.ratio-bar.is-winning {\n  opacity: 0.3;\n}\n")}render(){return G`\n <div class="option">\n <div \n class="${di({"ratio-bar":!0,"is-winning":this.isWinningOption})}" \n style="${Wo({width:this.totalVoteCount?`${100*this.optionVoteCount/this.totalVoteCount||0}%`:""})}" \n></div>\n <div class="vote-count">\n <faceplate-number number="${this.optionVoteCount}" pretty></faceplate-number>\n </div>\n <div class="text">${this.optionText}</div>\n </div>\n `}};e([l({type:Number,attribute:"total-vote-count"})],Wr.prototype,"totalVoteCount",void 0),e([l({type:Number,attribute:"option-vote-count"})],Wr.prototype,"optionVoteCount",void 0),e([l({type:String,attribute:"option-text"})],Wr.prototype,"optionText",void 0),e([l({type:Boolean,attribute:"is-winning-option"})],Wr.prototype,"isWinningOption",void 0),Wr=e([s("shreddit-poll-option")],Wr);let qr=class extends gt{constructor(){super(...arguments),this.totalVoteCount=0,this.isClosed=!1}static get styles(){return jt(".wrapper {\n  border-radius: 0.28em;\n  border: 1px solid var(--color-tone-4);\n  margin: 0.6em 1.15em;\n}\n.header {\n  border-bottom: 1px solid;\n  border-color: var(--color-tone-4);\n  color: var(--color-tone-3);\n}\n.total-votes {\n  line-height: 2.85em;\n  margin-left: 1.15em;\n}\n.options {\n  padding: 1.15em;\n}\n.voting-end {\n  color: var(--color-tone-3);\n  margin: 1.43em 0 0.28em 0.57em;\n}\n")}render(){return G`\n <div class="wrapper">\n ${this.totalVoteCount>0?G`\n <div class="header">\n <div class="total-votes">\n <faceplate-number number="${this.totalVoteCount}"></faceplate-number> votes\n </div>\n </div>\n `:""}\n <div class="options">\n <slot name="options"></slot>\n ${this.isClosed?G`<div class="voting-end">\n Voting closed\n </div>`:""}\n </div>\n </div>\n `}};e([l({type:Number,attribute:"total-vote-count"})],qr.prototype,"totalVoteCount",void 0),e([l({type:Boolean,attribute:"is-closed"})],qr.prototype,"isClosed",void 0),qr=e([s("shreddit-poll")],qr);const jr=(t,e)=>{var n,i;const o=t._$AN;if(void 0===o)return!1;for(const t of o)null===(i=(n=t)._$AO)||void 0===i||i.call(n,e,!1),jr(t,e);return!0},Yr=t=>{let e,n;do{if(void 0===(e=t._$AM))break;n=e._$AN,n.delete(t),t=e}while(0===(null==n?void 0:n.size))},Gr=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(void 0===n)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),Jr(e)}};function Qr(t){void 0!==this._$AN?(Yr(this),this._$AM=t,Gr(this)):this._$AM=t}function Kr(t,e=!1,n=0){const i=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(e)if(Array.isArray(i))for(let t=n;t<i.length;t++)jr(i[t],!1),Yr(i[t]);else null!=i&&(jr(i,!1),Yr(i));else jr(this,t)}const Jr=t=>{var e,n,i,o;t.type==wt&&(null!==(e=(i=t)._$AP)&&void 0!==e||(i._$AP=Kr),null!==(n=(o=t)._$AQ)&&void 0!==n||(o._$AQ=Qr))};class Xr extends _t{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,n){super._$AT(t,e,n),Gr(this),this.isConnected=t._$AU}_$AO(t,e=!0){var n,i;t!==this.isConnected&&(this.isConnected=t,t?null===(n=this.reconnected)||void 0===n||n.call(this):null===(i=this.disconnected)||void 0===i||i.call(this)),e&&(jr(this,t),Yr(this))}setValue(t){if((t=>void 0===t.strings)(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}const Zr=()=>new ts;class ts{}const es=new WeakMap,ns=yt(class extends Xr{render(t){return J}update(t,[e]){var n;const i=e!==this.U;return i&&void 0!==this.U&&this.ot(void 0),(i||this.rt!==this.lt)&&(this.U=e,this.ht=null===(n=t.options)||void 0===n?void 0:n.host,this.ot(this.lt=t.element)),J}ot(t){var e;if("function"==typeof this.U){const n=null!==(e=this.ht)&&void 0!==e?e:globalThis;let i=es.get(n);void 0===i&&(i=new WeakMap,es.set(n,i)),void 0!==i.get(this.U)&&this.U.call(this.ht,void 0),i.set(this.U,t),void 0!==t&&this.U.call(this.ht,t)}else this.U.value=t}get rt(){var t,e,n;return"function"==typeof this.U?null===(e=es.get(null!==(t=this.ht)&&void 0!==t?t:globalThis))||void 0===e?void 0:e.get(this.U):null===(n=this.U)||void 0===n?void 0:n.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}});Yn("icon-crosspost",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M15.944 11.926l-.888.879 1.925 1.945H12A4.873 4.873 0 017.138 10 4.873 4.873 0 0112 5.25h4.971l-1.915 1.936.888.878L18.875 5.1a.727.727 0 00-.007-1.025l-2.929-2.9-.878.888L17.011 4H12a6.128 6.128 0 00-6.056 5.25H1v1.625h4.981A6.117 6.117 0 0012 16h5l-1.94 1.92.878.89 2.929-2.9a.726.726 0 00.006-1.025l-2.929-2.96z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.884 14.538l-2.784-2.96a.575.575 0 00-.919.097.63.63 0 00-.098.344v1.98H12a4.288 4.288 0 01-4.5-4.024v-.062C7.5 7.756 9.519 6 12 6h3.082v2.025a.63.63 0 00.368.579.577.577 0 00.649-.14L18.89 5.5a.756.756 0 00-.011-1.02l-2.785-2.9a.574.574 0 00-.646-.133.627.627 0 00-.366.577V4H12a6.351 6.351 0 00-6.427 5.025H1V11h4.6a6.385 6.385 0 006.4 5h3.083v2.019a.627.627 0 00.366.577.573.573 0 00.647-.133l2.777-2.894a.841.841 0 00.21-.517.854.854 0 00-.199-.514z"/></svg>`),Yn("icon-upvote",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_472_1110)"><path d="M12.877 19H7.123A1.125 1.125 0 016 17.877V11H2.126a1.114 1.114 0 01-1.007-.7 1.249 1.249 0 01.171-1.343L9.166.368a1.128 1.128 0 011.668.004l7.872 8.581a1.252 1.252 0 01.176 1.348 1.114 1.114 0 01-1.005.7H14v6.877A1.125 1.125 0 0112.877 19zM7.25 17.75h5.5v-8h4.934L10 1.31 2.258 9.75H7.25v8zM2.227 9.784l-.012.016c.01-.006.014-.01.012-.016z"/></g><defs><clipPath id="clip0_472_1110"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_472_1141)"><path d="M18.706 8.953L10.834.372A1.123 1.123 0 0010 0a1.128 1.128 0 00-.833.368L1.29 8.957a1.249 1.249 0 00-.17 1.343 1.114 1.114 0 001.006.7H6v6.877A1.125 1.125 0 007.123 19h5.754A1.125 1.125 0 0014 17.877V11h3.877a1.114 1.114 0 001.005-.7 1.25 1.25 0 00-.176-1.347z"/></g><defs><clipPath id="clip0_472_1141"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`),Yn("icon-downvote",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_472_1137)"><path d="M10 20a1.122 1.122 0 01-.834-.372l-7.872-8.581A1.251 1.251 0 011.118 9.7 1.114 1.114 0 012.123 9H6V2.123A1.125 1.125 0 017.123 1h5.754A1.125 1.125 0 0114 2.123V9h3.874a1.114 1.114 0 011.007.7 1.25 1.25 0 01-.171 1.345l-7.876 8.589A1.128 1.128 0 0110 20zm-7.684-9.75L10 18.69l7.74-8.44h-4.99v-8h-5.5v8H2.316zm15.469-.05c-.01 0-.014.007-.012.013l.012-.013z"/></g><defs><clipPath id="clip0_472_1137"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.88 9.7a1.114 1.114 0 00-1.006-.7H14V2.123A1.125 1.125 0 0012.877 1H7.123A1.125 1.125 0 006 2.123V9H2.123a1.114 1.114 0 00-1.005.7 1.25 1.25 0 00.176 1.348l7.872 8.581a1.124 1.124 0 001.667.003l7.876-8.589A1.248 1.248 0 0018.88 9.7z"/></svg>`),Yn("icon-delete",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_472_1132)"><path d="M15.751 6.059L17 6.142l-.761 11.441a2.579 2.579 0 01-2.439 2.542H6.2a2.578 2.578 0 01-2.437-2.536L3 6.142l1.248-.083.761 11.441A1.366 1.366 0 006.2 18.875h7.6a1.369 1.369 0 001.191-1.381l.76-11.435zM18 3v1.25H2V3h4v-.375A2.762 2.762 0 018.875 0h2.25A2.762 2.762 0 0114 2.625V3h4zM7.25 3h5.5v-.375a1.518 1.518 0 00-1.625-1.375h-2.25A1.518 1.518 0 007.25 2.625V3z"/></g><defs><clipPath id="clip0_472_1132"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_472_1133)"><path d="M14.375 3a3.136 3.136 0 00-3.25-3h-2.25a3.136 3.136 0 00-3.25 3H2v2h16V3h-3.625zm-5.5-1h2.25a1.148 1.148 0 011.25 1h-4.75a1.148 1.148 0 011.25-1zm-5.85 4.5h13.95l-.737 11.083a2.58 2.58 0 01-2.438 2.542H6.2a2.578 2.578 0 01-2.437-2.536L3.025 6.5z"/></g><defs><clipPath id="clip0_472_1133"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`),Yn("icon-mod",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 20c-.101 0-.202-.014-.3-.04C8.249 19.554 1 17.277 1 12V3.187A1.122 1.122 0 011.846 2.1L9.73.108c.177-.044.363-.044.54 0L18.154 2.1A1.122 1.122 0 0119 3.187V12c0 5.277-7.249 7.554-8.7 7.957A1.162 1.162 0 0110 20zM2.25 3.283V12c0 4.465 6.989 6.531 7.786 6.751.725-.22 7.714-2.286 7.714-6.751V3.283L10 1.33 2.25 3.283z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.154 2.1L10.27.108a1.121 1.121 0 00-.54 0L1.846 2.1A1.122 1.122 0 001 3.187V12c0 5.277 7.249 7.554 8.7 7.957.098.027.199.042.3.043.101 0 .202-.014.3-.04 1.453-.4 8.7-2.68 8.7-7.957V3.187a1.122 1.122 0 00-.846-1.087z"/></svg>`),Yn("icon-comment",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M7.725 19.872a.718.718 0 01-.607-.328.725.725 0 01-.118-.397V16H3.625A2.63 2.63 0 011 13.375v-9.75A2.629 2.629 0 013.625 1h12.75A2.63 2.63 0 0119 3.625v9.75A2.63 2.63 0 0116.375 16h-4.161l-4 3.681a.725.725 0 01-.489.191zM3.625 2.25A1.377 1.377 0 002.25 3.625v9.75a1.377 1.377 0 001.375 1.375h4a.625.625 0 01.625.625v2.575l3.3-3.035a.628.628 0 01.424-.165h4.4a1.377 1.377 0 001.375-1.375v-9.75a1.377 1.377 0 00-1.374-1.375H3.625z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M16.375 1H3.625A2.629 2.629 0 001 3.625v9.75A2.63 2.63 0 003.625 16H7v3.147a.725.725 0 001.216.534l4-3.681h4.161A2.629 2.629 0 0019 13.375v-9.75A2.63 2.63 0 0016.375 1z"/></svg>`),Yn("icon-archived",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M17.875 1H2.125A1.127 1.127 0 001 2.125v3.75a1.115 1.115 0 001 1.1v10.84A1.19 1.19 0 003.192 19h13.616A1.19 1.19 0 0018 17.815V6.975a1.115 1.115 0 001-1.1v-3.75A1.127 1.127 0 0017.875 1zM2.25 2.25h15.5v3.5H2.25v-3.5zm1 15.565V7h13.5l.056 10.75-13.556.065zM13.35 10v1.25h-6.7V10h6.7z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19 2.125v3.75A1.127 1.127 0 0117.875 7H2.125A1.127 1.127 0 011 5.875v-3.75A1.127 1.127 0 012.125 1h15.75A1.127 1.127 0 0119 2.125zm-1 6.287v9.453a1.19 1.19 0 01-1.192 1.185H3.192A1.19 1.19 0 012 17.865V8.412c.042 0 .082.013.125.013h15.75c.043 0 .083-.011.125-.013zM13.35 11h-6.7v1.5h6.7V11z"/></svg>`),Yn("icon-share",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.942 7.058L12.8.912l-.883.883 5.079 5.08h-2.871A13.189 13.189 0 001.067 18h1.267a11.94 11.94 0 0111.79-9.875h2.867l-5.08 5.08.884.883 6.147-6.146a.626.626 0 000-.884z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19.207 6.793L13.061.646l-1.415 1.415 4.44 4.439H14A13.507 13.507 0 00.658 18h2.028A11.5 11.5 0 0114 8.5h2.086l-4.44 4.439 1.415 1.415 6.146-6.147a1 1 0 000-1.414z"/></svg>`),Yn("icon-overflow-horizontal",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5 10a1 1 0 11-2 0 1 1 0 012 0zm4.444-.831a1 1 0 111.112 1.663 1 1 0 01-1.112-1.663zm6 0a1 1 0 111.112 1.663 1 1 0 01-1.112-1.663z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5.5 10a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm3.667-1.247a1.5 1.5 0 111.666 2.494 1.5 1.5 0 01-1.666-2.494zm6 0a1.5 1.5 0 111.666 2.494 1.5 1.5 0 01-1.666-2.494z"/></svg>`),Yn("icon-admin",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_474_17)"><path d="M19.94 9.211a3.25 3.25 0 00-3.177-2.642c-.45 0-.895.102-1.3.3a10.814 10.814 0 00-4.839-1.379l.811-3.741 2.444.519a1.492 1.492 0 10.2-1.235L11.573.5a1.13 1.13 0 00-1.333.862L9.344 5.5a10.773 10.773 0 00-4.792 1.357 3.215 3.215 0 00-1.315-.289A3.249 3.249 0 00.064 9.2c-.079.4-.085.812-.018 1.214a3.23 3.23 0 00.912 1.754l.066.071v.127c.076 3.69 4.014 6.582 8.976 6.582 4.962 0 8.892-2.889 8.966-6.567l.006-.138.044-.046a3.252 3.252 0 00.94-1.778c.067-.4.062-.81-.016-1.208zm-1.22 1c-.076.42-.282.805-.59 1.1l-.393.407-.024.625c-.06 3-3.45 5.354-7.717 5.354-4.267 0-7.66-2.353-7.718-5.371l-.024-.6-.4-.433c-.3-.293-.5-.674-.57-1.087a2.138 2.138 0 01.011-.765 2 2 0 011.942-1.623c.353.003.699.102 1 .286l.337.216.335-.22a9.437 9.437 0 014.758-1.381h.72a9.43 9.43 0 014.726 1.4l.347.225.343-.232a1.7 1.7 0 01.96-.3 2 2 0 011.95 1.629c.048.253.05.512.006.766v.004z"/></g><defs><clipPath id="clip0_474_17"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_474_39)"><path d="M19.94 9.212a3.25 3.25 0 00-3.177-2.643 2.936 2.936 0 00-1.3.3 10.808 10.808 0 00-4.839-1.38l.811-3.741 2.444.519a1.493 1.493 0 10.2-1.235L11.573.5a1.128 1.128 0 00-1.333.862L9.344 5.5a10.781 10.781 0 00-4.793 1.357 3.207 3.207 0 00-1.314-.289A3.25 3.25 0 00.064 9.2c-.079.4-.085.812-.018 1.214a3.23 3.23 0 00.912 1.754l.066.071v.127c.076 3.69 4.014 6.582 8.976 6.582 4.962 0 8.892-2.889 8.966-6.566l.006-.139.044-.046a3.252 3.252 0 00.94-1.778c.067-.4.062-.809-.016-1.207z"/></g><defs><clipPath id="clip0_474_39"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`),Yn("icon-link-post",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M14.052 12.5a3.726 3.726 0 01-1.075 2.409c-.471.471-.914.922-1.357 1.373-.443.451-.881.9-1.348 1.366a3.767 3.767 0 01-5.318 0 3.765 3.765 0 010-5.317c.472-.472.915-.923 1.358-1.374.443-.451.88-.9 1.348-1.365a3.858 3.858 0 014.192-.745l.8-.806.129-.131a4.95 4.95 0 00-6 .8c-.472.471-.915.922-1.357 1.373-.442.451-.881.9-1.35 1.365a5.02 5.02 0 000 7.086 5.017 5.017 0 007.086 0c.47-.471.913-.923 1.357-1.374.444-.451.88-.9 1.348-1.366a5.006 5.006 0 001.374-4.483L14.052 12.5z"/><path d="M15.93 1.467a5.01 5.01 0 00-7.085 0c-.471.471-.913.923-1.357 1.374-.444.451-.881.9-1.347 1.366a4.969 4.969 0 00-1.377 4.484L5.946 7.5a3.723 3.723 0 011.077-2.41c.47-.471.914-.922 1.357-1.373.443-.451.88-.9 1.348-1.366a3.76 3.76 0 115.317 5.318c-.471.471-.913.922-1.357 1.373-.444.451-.88.9-1.348 1.366a3.854 3.854 0 01-4.192.744c-.27.273-.543.548-.806.817l-.121.121a4.952 4.952 0 006-.8c.47-.471.913-.922 1.356-1.374.443-.452.88-.9 1.348-1.365a5.013 5.013 0 000-7.086l.005.002z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_473_44)"><path d="M17.547 5.239a5.2 5.2 0 01-1.535 3.705c-.442.441-.858.866-1.274 1.289-.438.447-.876.893-1.342 1.359a5.175 5.175 0 01-5.981.993l1.57-1.57a3.292 3.292 0 003-.838c.461-.461.9-.9 1.329-1.344.429-.444.84-.857 1.287-1.3a3.238 3.238 0 10-4.58-4.58c-.456.454-.883.89-1.311 1.326-.428.436-.856.865-1.31 1.321-.028.029-.047.063-.075.092l.038-.136-2.856 2.876a5.208 5.208 0 011.48-4.249c.45-.449.871-.879 1.293-1.309.422-.43.865-.881 1.324-1.34a5.24 5.24 0 017.408 0 5.2 5.2 0 011.535 3.705zm-4.764 8.942c-.062.074-.115.155-.184.224-.447.447-.868.876-1.287 1.3-.419.424-.868.883-1.329 1.344a3.317 3.317 0 01-4.581 0 3.244 3.244 0 010-4.58c.453-.453.88-.888 1.306-1.322.426-.434.855-.872 1.311-1.326a3.181 3.181 0 013.018-.859l1.536-1.555a5.173 5.173 0 00-5.968 1c-.459.459-.892.9-1.324 1.34-.432.44-.843.86-1.293 1.309a5.24 5.24 0 007.412 7.41c.466-.466.9-.912 1.342-1.359.416-.423.832-.848 1.274-1.289a5.2 5.2 0 001.535-3.7 5.287 5.287 0 00-.064-.655l-2.704 2.718z"/></g><defs><clipPath id="clip0_473_44"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`),Yn("icon-user",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_473_52)"><path d="M12.465 11H7.538A6.482 6.482 0 001 17.411v.482A1.113 1.113 0 002.119 19h15.765A1.114 1.114 0 0019 17.893v-.482A6.484 6.484 0 0012.465 11zm5.287 6.75h-15.5v-.339a5.23 5.23 0 015.286-5.161h4.927a5.231 5.231 0 015.287 5.161v.339zM10 10a5 5 0 10-5-5 5.006 5.006 0 005 5zm0-8.75a3.75 3.75 0 110 7.5 3.75 3.75 0 010-7.5z"/></g><defs><clipPath id="clip0_473_52"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_473_77)"><path d="M19 17.411v.482A1.114 1.114 0 0117.884 19H2.119A1.113 1.113 0 011 17.893v-.482A6.482 6.482 0 017.538 11h4.927A6.483 6.483 0 0119 17.411zM10 10a5 5 0 10-5-5 5.006 5.006 0 005 5z"/></g><defs><clipPath id="clip0_473_77"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`),Yn("icon-text-post",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6 13h8v1.25H6V13zm0-2.75h8V9H6v1.25zm13-7.625v14.75A1.627 1.627 0 0117.375 19H2.625A1.627 1.627 0 011 17.375V2.625A1.627 1.627 0 012.625 1h14.75A1.627 1.627 0 0119 2.625zm-1.25 0a.375.375 0 00-.375-.375H2.625a.375.375 0 00-.375.375v14.75a.375.375 0 00.375.375h14.75a.375.375 0 00.375-.375V2.625zM6 6.25h8V5H6v1.25z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M17.375 1H2.625A1.627 1.627 0 001 2.625v14.75A1.627 1.627 0 002.625 19h14.75A1.627 1.627 0 0019 17.375V2.625A1.627 1.627 0 0017.375 1zM14 15H6v-2h8v2zm0-4H6V9h8v2zm0-4H6V5h8v2z"/></svg>`);let is="RelativeTimeFormat"in Intl;function os(t){const e=Math.abs(t.diff);switch(t.unit){case"minutes":return`${e} min. ago`;case"hours":return`${e} hr. ago`;case"days":return e>1?`${e} days ago`:`${e} day ago`;case"months":return`${e} mo. ago`;case"years":return`${e} yr. ago`;default:!function(t){throw new Error("Unexpected object: "+t)}(t.unit)}}function rs(t,e,n){const i=function(t,e){const n=e.getTime()-t.getTime(),i=Math.round(n/31104e6),o=Math.round(n/2592e6),r=Math.round(n/864e5),s=Math.round(n/36e5),a=n/6e4;let l="minutes",d=0;return Math.abs(Math.round(a))<60?d=a>-1&&a<1?Math.sign(a)*Math.ceil(Math.abs(a)):Math.round(a):Math.abs(s)<24?(l="hours",d=s):Math.abs(r)<29?(l="days",d=r):Math.abs(o)<11?(l="months",d=o):(l="years",d=i),{unit:l,diff:d}}(new Date,t);try{if(is)return function(t,e,n){return Bo(e,{localeMatcher:"best fit",numeric:"always",style:n?"short":"long"}).format(t.diff,t.unit)}(i,e,null==n?void 0:n.short)}catch(t){}return(null==n?void 0:n.short)&&i.diff<0&&e.match(/en.*/)?os(i):zo(e,{dateStyle:"short",timeStyle:"short"}).format(t)}let ss=class extends gt{constructor(){super(),this.ts="",this.short=!1,this.locale="",this.date=new Date(this.ts)}getLocale(){return this.locale.length?this.locale:Do()}createRenderRoot(){return this}render(){const t=zo(this.getLocale(),{dateStyle:"full",timeStyle:"long"}).format(this.date),e={short:this.short},n=rs(this.date,this.getLocale(),e);return G` <time datetime="${this.date.toISOString()}" title="${t}">${n}</time> `}};var as;e([l({type:String})],ss.prototype,"ts",void 0),e([l({attribute:"ts",converter:t=>new Date((null==t?void 0:t.replace("+0000","+00:00"))||"")})],ss.prototype,"date",void 0),e([l({type:Boolean})],ss.prototype,"short",void 0),e([l({type:String})],ss.prototype,"locale",void 0),ss=e([s("faceplate-timeago")],ss),function(t){t.Forward="forward",t.Backward="backward"}(as||(as={}));var ls;!function(t){t.ClassicView="classicView",t.CardView="cardView"}(ls||(ls={}));var ds;!function(t){t[t.NativeShare=0]="NativeShare",t[t.Clipboard=1]="Clipboard"}(ds||(ds={}));var cs=async t=>{if("function"==typeof window.navigator.share){try{await window.navigator.share(t)}catch(t){}return ds.NativeShare}try{await navigator.clipboard.writeText((t=>{var e;let n=null!==(e=t.title)&&void 0!==e?e:"";return t.text&&(n.length&&(n+="\n\n"),n+=t.text),t.url&&(n.length&&(n+="\n\n"),n+=t.url),n})(t))}catch(t){}return ds.Clipboard};const hs=t=>We({source:t,action:"click",noun:"report"});var us;!function(t){t.COMMENT="comment",t.POST="post"}(us||(us={}));let ps=class extends(_n($n(gt))){constructor(){super(...arguments),this.thingId="",this._events=new Rt(this),this.handleClick=this._events.define("click",(()=>{const t=this.type===us.POST?hs("post"):hs("comment");var e;this.trackEvent(t),this.dispatchEvent((e=this.thingId,Nt("report",{thingId:e})))}))}createRenderRoot(){return this}render(){return this.type&&Object.values(us).includes(this.type)?G`<button type="button" class="button bg-transparent border-none">\n <icon-report aria-hidden="true" class="overflow-actions-icon"></icon-report>Report\n </button>`:""}};var ms,vs;e([l({type:String,attribute:"type"})],ps.prototype,"type",void 0),e([l({type:String})],ps.prototype,"thingId",void 0),ps=e([s("shreddit-overflow-report")],ps),function(t){t.NSFW="NSFW",t.SPOILER="SPOILER"}(ms||(ms={})),function(t){t.NSFW="text-category-nsfw",t.SPOILER="text-category-spoiler"}(vs||(vs={}));const gs={NSFW:G`<icon-nsfw fill></icon-nsfw>`,SPOILER:G`<icon-spoiler fill></icon-spoiler>`};var bs;!function(t){t[t.NSFW="NSFW"]="NSFW",t[t.SPOILER="SPOILER"]="SPOILER"}(bs||(bs={}));const fs=({type:t})=>{const e=vs[t],n=gs[t],i=bs[t];return G` <span class="${e} text-12"> ${n}<span class="font-bold leading-[0.875rem] pl-[0.125rem]">${i}</span> </span> `};var ws="/**\n * The menu style module\n *\n * This LESS module provides the default Faceplate styles for `<menu>` elements, and `<li>` elements\n * nested in them.\n *\n * ```less\n * @import '@reddit/faceplate/styles/elements/menu.less';\n *\n * // To apply styles to <menu> elements within a scope (e.g. a shadow DOM)\n * menu {\n *   .menu();\n * }\n *\n * // To apply styles to a custom element directly\n * :host {\n *   display: block;\n *   .menu();\n * }\n * ```\n *\n * ---\n *\n * Faceplate applies these styles to `<menu>` elements and their descendant `<li>` elements by default.\n * \n * ```demo:html\n * <menu>\n *   <li>Option A</li>\n *   <li>Option B</li>\n *   <li>Option C</li>\n * </menu>\n * ```\n *\n * @packageDocumentation\n */\n.overflow-actions-dialog {\n  padding: 0 0 10px;\n  width: 95%;\n}\n.overflow-actions-dialog[open] {\n  z-index: 100;\n}\n.overflow-actions-menu {\n  list-style-type: none;\n  padding-left: 0;\n  border-radius: 4px;\n  width: fit-content;\n  border: 1px solid var(--color-tone-5);\n  width: 100%;\n  margin: 0;\n  font-size: 16px;\n  box-sizing: border-box;\n  border-bottom: 0;\n}\n.overflow-actions-menu li {\n  padding: 0.5rem 0.75rem;\n  border-block-end: 1px solid var(--color-tone-5);\n}\n.overflow-actions-menu li:last-child {\n  border-block-end: none;\n}\n.overflow-actions-menu > li {\n  padding: 0;\n}\n.overflow-actions-menu > li a,\n.overflow-actions-menu > li button {\n  cursor: pointer;\n  padding: 1rem;\n  align-items: center;\n  color: var(--color-tone-2);\n  display: flex;\n  text-decoration: none;\n  white-space: break-spaces;\n}\n.overflow-actions-icon {\n  font-size: 24px;\n  margin-inline-end: 0.5rem;\n}\n";let ys=class extends gt{constructor(){super(...arguments),this.color="",this.backgroundColor=""}static get styles(){return w`.flair{visibility:visible;display:inline-block;font-size:var(--font-small);line-height:var(--font-small);padding:4px 8px;background:var(--color-tone-4);border-radius:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:calc(100% - 16px)}.m-dark{color:var(--color-global-black)}.m-light{color:var(--color-global-white)}.default-color{color:var(--color-global-black)}@media (prefers-color-scheme:dark){.default-color{color:var(--color-global-white)}}`}render(){const t={flair:!0},e=(({color:t="",backgroundColor:e=""})=>!t||t&&!e||"transparent"===e?"default-color":"DARK"===t?"m-dark":"m-light")(this);e&&(t[e]=!0);const n={backgroundColor:this.backgroundColor||"var(--color-tone-4)"};return G`\n <span class="${di(t)}" style="${Wo(n)}">\n <slot></slot>\n </span>\n `}};e([l({type:String})],ys.prototype,"color",void 0),e([l({type:String,attribute:"background-color"})],ys.prototype,"backgroundColor",void 0),ys=e([s("shreddit-flair")],ys);let _s=class extends gt{static get styles(){return w`:host{display:block;position:relative}`}render(){return G`\n <slot></slot>\n <slot name="link"></slot>\n `}};_s=e([s("post-media-container")],_s);const xs=ei(It($n(gt)));var Es;!function(t){t.SubredditListing="SubredditListing",t.AggregateListing="AggregateListing",t.CommentsPage="CommentsPage",t.ListingBelowSubredditPosts="ListingBelowSubredditPosts",t.ListingBelowLinkedPosts="ListingBelowLinkedPosts"}(Es||(Es={}));const ks=[Es.AggregateListing,Es.SubredditListing,Es.ListingBelowSubredditPosts,Es.ListingBelowLinkedPosts],Ts=[Es.ListingBelowSubredditPosts,Es.ListingBelowLinkedPosts];let As=class extends xs{constructor(){super(),this.id="",this.permalink="",this.subreddit="",this.icon="",this.author="",this.created="",this.commentCount=0,this.viewContext=Es.AggregateListing,this.viewType=ls.CardView,this.listingBelowEventsData=null,this.isCrosspost=!1,this.isProfilePost=!1,this.isAuthorDeleted=!1,this.withThumbnail=!1,this.withTranscript=!1,this.isLinkPost=!1,this.isReportingEnabled=!1,this.disabled=!1,this.showMainRow=!1,this.showTranscript=!1,this._events=new Rt(this),this.authorName=void 0,this.closeTranscriptButton=void 0,this.postOverflowActionsMenuRef=Zr(),this.hasBeenViewed=!1,this.handlePostOverflowActionsMenuClose=()=>{var t;null===(t=this.postOverflowActionsMenuRef.value)||void 0===t||t.close(),document.documentElement.removeEventListener("click",this.handlePostOverflowActionsMenuClose),this.unblockPageScrolling()},this.handleTranscriptClick=t=>{this.handleClick(t,Xi("transcript",Ji(this))),this.isToggleEvent(t)&&(this.showTranscript=!this.showTranscript)},this.handleCloseTranscriptClick=t=>{this.isToggleEvent(t)&&(this.showTranscript=!1)},this.handleClickJoinCommunity=this._events.define("join",(()=>{this.handlePostClickEvent(no(this))})),this.handleClickAuthor=t=>{const e=this.isAuthorDeleted?to:Zi;this.handleClick(t,e(this))},this.isListing()&&this.addEventListener("click",this.handleClickPost)}static get styles(){return[Dn,jt(ws),jt(":host {\n  font-size: var(--font-body);\n}\n.meta-row {\n  color: var(--color-tone-3);\n}\n.meta-row a {\n  align-items: center;\n  color: inherit;\n  display: flex;\n  text-decoration: none;\n}\n.post-descriptor {\n  white-space: nowrap;\n  overflow: hidden;\n  position: relative;\n  flex: 1 0;\n  font-size: var(--font-body);\n}\n.group {\n  align-items: center;\n  display: flex;\n}\n.admin {\n  color: var(--color-identity-admin);\n}\n.moderator {\n  color: var(--color-identity-moderator);\n}\n.meta-right {\n  grid-column: 3 / 4;\n}\n.title-row,\n.post-flair-row {\n  margin-bottom: 0.5rem;\n}\n.title-row {\n  padding-left: 1rem;\n  padding-right: 1rem;\n  grid-column: 1 / 4;\n}\n.title-row.with-thumbnail {\n  grid-column: 1 / 2;\n}\n.title-row ::slotted(*) {\n  display: inline;\n}\n.title-row a {\n  color: inherit;\n  text-decoration: none;\n}\n.action-row {\n  grid-column: 1 / 4;\n  display: grid;\n  grid-gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  grid-template-columns: repeat(2, auto) 1fr [last-line] auto;\n}\n.action-row.with-transcript {\n  grid-column: 1 / -1;\n  grid-template-columns: repeat(2, max-content) 1fr [penultimate-line] max-content [last-line] auto;\n}\n@media (max-width: 320px) {\n  .action-row {\n    display: inline-flex;\n  }\n}\n:host([awarded]) .action-row {\n  grid-template-columns: repeat(3, auto) 1fr [last-line] auto;\n}\n:host([awarded]) .action-row.with-transcript {\n  grid-template-columns: repeat(3, max-content) 1fr [penultimate-line] max-content [last-line] max-content;\n}\n@media (max-width: 360px) {\n  :host([awarded]) .action-row.with-transcript {\n    grid-template-columns: repeat(3, max-content) [penultimate-line] max-content [last-line] max-content;\n  }\n}\n@media (max-width: 455px) {\n  :host([awarded]) .action-row.with-transcript .transcript-text {\n    display: none;\n  }\n}\n:host([awarded]) .action-row.with-transcript .transcript-icon {\n  display: block;\n}\n@media (min-width: 455px) {\n  :host([awarded]) .action-row.with-transcript .transcript-icon {\n    display: none;\n  }\n}\n:host([awarded]) .action-row.with-transcript .transcript-icon .icon {\n  padding-top: 1px;\n}\n.action.last {\n  grid-column: last-line / span 1;\n}\n@media (max-width: 350px) {\n  .action.last {\n    display: none;\n  }\n}\n.with-transcript .action.transcript {\n  cursor: pointer;\n  grid-column: penultimate-line / span 1;\n}\n.with-transcript .action.transcript.active {\n  background-color: var(--color-tone-5);\n}\n.with-transcript .action.transcript .transcript-icon {\n  display: none;\n}\n.action {\n  border: 1px solid var(--color-tone-5);\n  line-height: 1.25rem;\n  border-radius: 200px;\n  padding: 0.3125rem 0.5rem;\n  text-align: center;\n  margin: 0;\n  color: inherit;\n  text-decoration: none;\n  background: transparent;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.action.disabled {\n  border: unset;\n}\n.icon {\n  transform: scale(1.4);\n  padding: 0 2px;\n}\n.pad-left {\n  margin-left: 0.5rem;\n}\n.pad-right {\n  margin-right: 0.5rem;\n}\n.title-row,\n.post-flair-row {\n  display: block;\n}\n.meta-row,\n.action-row {\n  color: var(--color-tone-2);\n}\n.meta-row {\n  align-items: center;\n  display: flex;\n}\n.awards ::slotted(img) {\n  cursor: pointer;\n  height: auto;\n  width: auto;\n}\n.save-button {\n  padding: 1rem;\n  align-items: center;\n  color: var(--color-tone-2);\n  display: flex;\n  text-decoration: none;\n  font-size: 1 rem;\n  width: 100%;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n}\n.badges > *:nth-child(n + 2) {\n  margin-left: var(--size-xs);\n}\n")]}isToggleEvent(t){return t instanceof PointerEvent||t instanceof MouseEvent||"Enter"===t.key}isListing(){return ks.includes(this.viewContext)}isListingBelow(){return Ts.includes(this.viewContext)}shouldTrackListingBelowEvent(t){return!!t&&this.isListingBelow()}renderCommentButton(){const t=G`\n <faceplate-number number="${this.commentCount}" pretty></faceplate-number>\n <faceplate-screen-reader-content>comments</faceplate-screen-reader-content>\n `;return this.isListing()?G`\n <a \n class="action ${this.disabled?"disabled":""}" \n rel="noopener nofollow ugc" \n href="${this.permalink}" \n @click="${this.handleClickCommentsLink}" \n>\n <icon-comment class="icon pad-right"></icon-comment>\n ${t}\n </a>\n `:G`\n <button class="action" @click="${this.handleClickCommentsButton}">\n <icon-comment class="icon pad-right"></icon-comment>\n ${t}\n </button>\n `}renderCommentsPageMetaRow(){return G`\n <div class="meta-row block">\n <span class="group post-descriptor">\n <slot name="commentsPagePostDescriptor"></slot>\n ${this.renderOverflowActionsMenu()}\n </span>\n </div>\n `}renderMoreFrom(){return G` <a href="/r/${this.subreddit}/">\n <icon-admin aria-hidden="true" class="overflow-actions-icon"></icon-admin> More from r/${this.subreddit}\n </a>`}renderOverflowActionsMenu(){return G`\n ${this.isCrosspost?G`<icon-crosspost class="text-primary-background-hover"></icon-crosspost>`:""}\n <button \n class="button button-plain button-small button-icon mr-xs ml-2xs overflow-actions-button" \n @click="${this.handlePostOverflowActionsMenuClick}" \n>\n <icon-overflow-horizontal aria-hidden="true"></icon-overflow-horizontal>\n <faceplate-screen-reader-content \n>Additional post actions</faceplate-screen-reader-content>\n </button>\n <faceplate-dialog \n ${ns(this.postOverflowActionsMenuRef)}\n class="overflow-actions-dialog" \n @click="${this.handlePostOverflowActionsMenuClose}" \n>\n <faceplate-screen-reader-content id="overflow-actions-menu-label">\n Additional post actions\n </faceplate-screen-reader-content>\n <ul class="overflow-actions-menu" aria-labelledby="overflow-actions-menu-label">\n <li>\n <a href="${this.permalink}">\n <icon-link-post aria-hidden="true" class="overflow-actions-icon"></icon-link-post>\n Share\n </a>\n </li>\n ${this.subreddit?G`<li>${this.renderMoreFrom()}</li>`:""}\n ${this.isProfilePost||this.isAuthorDeleted?"":G`<li>\n <a href="/user/${this.author}/">\n <icon-user aria-hidden="true" class="overflow-actions-icon"></icon-user> ${this.author}'s profile\n </a>\n </li>`}\n ${this.isReportingEnabled?G`<li>\n <shreddit-overflow-report \n thingId="${this.id}" \n type="${us.POST}" \n></shreddit-overflow-report>\n </li>`:""}\n </ul>\n <button \n class="button button-small button-plain block bg-tone-6 text-tone-3 mt-[10px] mx-auto mb-0 w-[calc(100%-20px)] max-w-full overflow-actions-close-btn" \n>\n Close\n </button>\n </faceplate-dialog>\n `}handlePostOverflowActionsMenuClick(){var t;null===(t=this.postOverflowActionsMenuRef.value)||void 0===t||t.showModal(),document.documentElement.addEventListener("click",this.handlePostOverflowActionsMenuClose),this.blockPageScrolling()}renderListingMetaRow(){return G`\n <slot name="subredditListingPagePostDescriptor"></slot>\n <slot name="aggregateListingPostDescriptor"></slot>\n <div class="flex items-center justify-end meta-right">\n <slot name="subredditListingIcon"></slot>\n ${this.renderOverflowActionsMenu()}\n </div>\n `}renderAggregateListingMetaRow(){return G` ${this.renderOverflowActionsMenu()} `}renderMetaRow(){switch(this.viewContext){case Es.CommentsPage:return this.renderCommentsPageMetaRow();default:return this.renderListingMetaRow()}}toggleMainRow(t){!this.isLinkPost&&this.isToggleEvent(t)&&(this.showMainRow=!this.showMainRow)}renderBadges(){return this.nsfw||this.spoiler?G`<div class="badges mb-xs mx-md h-[0.875rem] text-12">\n ${this.nsfw?G` ${fs({type:ms.NSFW})} `:""}\n ${this.spoiler?G` ${fs({type:ms.SPOILER})}`:""}\n </div>`:""}renderFlair(){return G`<div class="post-flair-row block mt-s">\n <slot name="post-flair"></slot>\n </div> `}renderThumbnail(){return G` <slot \n name="thumbnail" \n @click="${this.toggleMainRow}" \n @keypress="${this.toggleMainRow}" \n></slot>`}renderActionRow(){return G`<div class="action-row ${this.withTranscript?"with-transcript":""}">\n <div class="action ${this.disabled?"disabled":""}">\n <icon-upvote class="icon pad-right" @click="${this.handleUpvote}"></icon-upvote>\n ${void 0!==this.score?G` <faceplate-number number="${this.score}" pretty></faceplate-number> `:"Vote"}\n ${this.disabled?"":G`<icon-downvote \n class="icon pad-left" \n @click="${this.handleDownvote}" \n></icon-downvote>`}\n </div>\n\n ${this.awarded?G`\n <button \n class="action ${this.disabled?"disabled":""} awards" \n @click="${this.handleAwardsClick}" \n>\n <slot name="award"></slot>\n <slot name="awards"></slot>\n </button>\n `:""}\n ${this.renderCommentButton()}\n ${this.withTranscript?G`\n <button \n class="action transcript ${this.showTranscript?"active":""}" \n @click="${this.handleTranscriptClick}" \n>\n <span class="transcript-icon">\n <icon-text-post class="icon"></icon-text-post>\n <faceplate-screen-reader-content>\n Toggle video transcript\n </faceplate-screen-reader-content>\n </span>\n <strong class="transcript-text text-12 text-tone-1">\n Transcript\n </strong>\n </button>\n `:""}\n <button class="action last" href="${this.permalink}" @click="${this.handleShareClick}">\n <icon-share class="icon"></icon-share>\n <faceplate-screen-reader-content>\n Copy this post's permalink to the clipboard\n </faceplate-screen-reader-content>\n </button>\n </div>`}renderTranscript(){return G`<slot name="transcript"></slot>`}render(){return G`\n ${this.renderMetaRow()} ${this.renderBadges()}\n <div class="title-row ${this.withThumbnail?"with-thumbnail":""}">\n <slot name="title"></slot>\n <slot name="title-link"></slot>\n ${this.renderFlair()}\n </div>\n ${this.viewType===ls.ClassicView?this.renderThumbnail():""}\n ${this.showMainRow||this.viewType===ls.CardView?G`<slot @slotchange="${this.handleContentSlotChange}"></slot>`:""}\n ${this.renderActionRow()}\n ${this.withTranscript&&this.showTranscript?this.renderTranscript():""}\n `}handlePostClickEvent(t){const e=this.shouldTrackListingBelowEvent(this.listingBelowEventsData)?((t,e={})=>We({source:"post_detail",action:"click",noun:t},e))(t.noun,this.listingBelowEventsData):t;this.trackEvent(e)}handleView(t){const e=this.shouldTrackListingBelowEvent(this.listingBelowEventsData)?((t={})=>We({source:"post_detail",action:"view",noun:"post"},t))((n=this.listingBelowEventsData,(null===(i=null==n?void 0:n.post)||void 0===i?void 0:i.subreddit_name)&&(n.post.subreddit_name=n.post.subreddit_name.toLowerCase()),(null===(o=null==n?void 0:n.subreddit)||void 0===o?void 0:o.name)&&(n.subreddit.name=n.subreddit.name.toLowerCase()),n)):t;var n,i,o;this.trackEvent(e),this.gallery&&this.trackEvent(We({source:"gallery",action:"view",noun:"media"},Ji(this)))}handleClick(t,e,n){t.stopPropagation(),this.handlePostClickEvent(e),n&&this.dispatchEvent(n)}async handleShareClick(t){this.handleClick(t,Xi("share",Ji(this)));const e={url:location.origin+this.permalink+"?utm_source=share&utm_medium=mweb3x"};if(ds.Clipboard===await cs(e)){const t=Nt("faceplate-alert",{level:Ct.notice,message:"Post permalink copied to clipboard!"});this.dispatchEvent(t)}}handleClickCommentsLink(t){this.handleClick(t,eo(this))}handleClickCommentsButton(t){this.handleClick(t,eo(this),Nt("reply"))}handleClickPost(t){this.handleClick(t,Xi("post",Ji(this)))}handleAwardsClick(t){this.disabled?this.trackEvent((t=>We({source:"post",action:"click",noun:"award_try"},Ji(t)))(this)):this.handleClick(t,We({source:"post",action:"click",noun:"give_award"},Ji(this)),Nt("awards"))}handleUpvote(t){this.disabled?this.trackEvent((t=>We({source:"post",action:"click",noun:"vote_try"},Ji(t)))(this)):this.handleClick(t,We({source:"post",action:"click",noun:"upvote"},Ji(this)),Nt("upvote"))}handleDownvote(t){this.handleClick(t,We({source:"post",action:"click",noun:"downvote"},Ji(this)),Nt("downvote"))}connectedCallback(){super.connectedCallback(),this.isObserved||this.enableObserver();const t=this.querySelector('[slot="authorName"]');if(t&&(this.authorName=t,this.authorName.addEventListener("click",this.handleClickAuthor)),this.withTranscript){const t=this.querySelector('[slot="transcript"] .transcript-header-button');t&&(this.closeTranscriptButton=t,this.closeTranscriptButton.addEventListener("click",this.handleCloseTranscriptClick))}}handleContentSlotChange(t){var e,n,i;null===(i=null===(n=null===(e=t.target)||void 0===e?void 0:e.assignedElements())||void 0===n?void 0:n[0])||void 0===i||i.classList.remove("hidden")}disconnectedCallback(){super.disconnectedCallback(),this.isObserved&&this.disableObserver(),this.authorName&&this.authorName.removeEventListener("click",this.handleClickAuthor),this.withTranscript&&this.closeTranscriptButton&&this.closeTranscriptButton.removeEventListener("click",this.handleCloseTranscriptClick)}observerIsIntersectingCallback(){(this.enteredViewportTime=Date.now(),this.hasBeenViewed)||(this.hasBeenViewed=!0,this.handleView(We({source:"post",action:"view",noun:"post"},Ji(this))))}observerIsNotIntersectingCallback(){if(!this.enteredViewportTime)return;Date.now()-this.enteredViewportTime>2e3&&this.trackEvent(We({source:"post",action:"consume",noun:"post"},Ji(this)))}};e([l({type:String})],As.prototype,"id",void 0),e([l({type:String})],As.prototype,"permalink",void 0),e([l({type:String})],As.prototype,"subreddit",void 0),e([l({type:String})],As.prototype,"icon",void 0),e([l({type:String})],As.prototype,"author",void 0),e([l({type:String})],As.prototype,"created",void 0),e([l({type:Number,attribute:"comment-count"})],As.prototype,"commentCount",void 0),e([l({type:Number})],As.prototype,"score",void 0),e([l({type:Boolean})],As.prototype,"gallery",void 0),e([l({type:Boolean,reflect:!0})],As.prototype,"nsfw",void 0),e([l({type:Boolean,reflect:!0})],As.prototype,"spoiler",void 0),e([l({type:String,attribute:"view-context"})],As.prototype,"viewContext",void 0),e([l({type:String,attribute:"view-type"})],As.prototype,"viewType",void 0),e([l({type:Object,attribute:"listing-below-events-data"})],As.prototype,"listingBelowEventsData",void 0),e([l({type:Boolean,reflect:!0})],As.prototype,"awarded",void 0),e([l({type:Boolean,attribute:"is-crosspost"})],As.prototype,"isCrosspost",void 0),e([l({type:Boolean,attribute:"is-profile-post"})],As.prototype,"isProfilePost",void 0),e([l({type:Boolean,attribute:"is-author-deleted"})],As.prototype,"isAuthorDeleted",void 0),e([l({type:Boolean,attribute:"with-thumbnail"})],As.prototype,"withThumbnail",void 0),e([l({type:Boolean,attribute:"with-transcript"})],As.prototype,"withTranscript",void 0),e([l({type:Boolean,attribute:"is-link-post"})],As.prototype,"isLinkPost",void 0),e([l({type:Boolean,attribute:"is-reporting-enabled"})],As.prototype,"isReportingEnabled",void 0),e([l({type:Boolean,attribute:"disabled"})],As.prototype,"disabled",void 0),e([d()],As.prototype,"showMainRow",void 0),e([d()],As.prototype,"showTranscript",void 0),As=e([s("shreddit-post")],As);var Is=w`:host{display:block;border:1px solid #d4d7d9;border-radius:4px;box-sizing:border-box}#footer,#header{margin:8px;color:#737577;font-style:normal;font-size:12px;line-height:14px}#heading{font-weight:500}a{color:inherit;text-decoration:none}a:hover{text-decoration:underline}#awards-container,#post-info{margin-bottom:8px}`;let Cs=class extends gt{constructor(){super(...arguments),this.authorName="",this.authorPath="",this.isAuthorDeleted=!1,this.createdAt="",this.permalink=""}static get styles(){return[Dn,Is]}render(){const[t,e]=this.authorName?[" â€¢ ",this.renderAuthorName()]:["",J];return G`\n <div id="header">\n <div id="post-info">\n <a href="${this.subredditPath||""}">r/${this.subredditName}</a> \u2022\n <faceplate-timeago ts="${this.createdAt}" short></faceplate-timeago>\n ${t} ${e}\n </div>\n <div id="awards-container">\n <slot name="award"></slot>\n <slot name="awards"></slot>\n </div>\n <div id="heading" class="font-medium text-[14px] leading-[17px] text-tone-1">\n <a href="${this.permalink}">${this.heading}</a>\n </div>\n </div>\n <slot></slot>\n <div id="footer">\n ${this.score} points\n \u2022\n <a href="${this.permalink}">\n ${this.commentCount} comments</a>\n </div>\n `}renderAuthorName(){const t=`u/${this.authorName}`;return this.isAuthorDeleted?G`<span>${t}</span>`:G`<a href="${this.authorPath}">${t}</a>`}};var Ss,Ls;e([l({type:String,attribute:"author-name"})],Cs.prototype,"authorName",void 0),e([l({type:String,attribute:"author-path"})],Cs.prototype,"authorPath",void 0),e([l({type:Boolean,attribute:"is-author-deleted"})],Cs.prototype,"isAuthorDeleted",void 0),e([l({type:String,attribute:"subreddit-name"})],Cs.prototype,"subredditName",void 0),e([l({type:String,attribute:"subreddit-path"})],Cs.prototype,"subredditPath",void 0),e([l({type:String,attribute:"created-at"})],Cs.prototype,"createdAt",void 0),e([l({type:Number,attribute:"comment-count"})],Cs.prototype,"commentCount",void 0),e([l({type:Number})],Cs.prototype,"score",void 0),e([l({type:String})],Cs.prototype,"heading",void 0),e([l({type:String})],Cs.prototype,"permalink",void 0),Cs=e([s("shreddit-crosspost-card")],Cs),function(t){t[t.IMPRESSION=1]="IMPRESSION",t[t.CLICK=2]="CLICK",t[t.COMMENTS_VIEW=3]="COMMENTS_VIEW",t[t.UPVOTE=4]="UPVOTE",t[t.DOWNVOTE=5]="DOWNVOTE",t[t.COMMENT_SUBMITTED=6]="COMMENT_SUBMITTED",t[t.VIEWABLE_IMPRESSION=7]="VIEWABLE_IMPRESSION",t[t.COMMENT_UPVOTE=8]="COMMENT_UPVOTE",t[t.COMMENT_DOWNVOTE=9]="COMMENT_DOWNVOTE",t[t.VENDOR_FULLY_IN_VIEW=10]="VENDOR_FULLY_IN_VIEW",t[t.VENDOR_FULLY_IN_VIEW_5_SECS=11]="VENDOR_FULLY_IN_VIEW_5_SECS",t[t.VENDOR_FULLY_IN_VIEW_15_SECS=12]="VENDOR_FULLY_IN_VIEW_15_SECS",t[t.GROUP_M_VIEWABLE=13]="GROUP_M_VIEWABLE",t[t.UNLOAD=14]="UNLOAD",t[t.GALLERY_ITEM_IMPRESSION=15]="GALLERY_ITEM_IMPRESSION",t[t.VIDEO_VIEWABLE_IMPRESSION=100]="VIDEO_VIEWABLE_IMPRESSION",t[t.VIDEO_FULLY_VIEWABLE_IMPRESSION=101]="VIDEO_FULLY_VIEWABLE_IMPRESSION",t[t.VIDEO_PLAYED_WITH_SOUND=102]="VIDEO_PLAYED_WITH_SOUND",t[t.VIDEO_PLAYED_EXPANDED=103]="VIDEO_PLAYED_EXPANDED",t[t.VIDEO_WATCHED_25=104]="VIDEO_WATCHED_25",t[t.VIDEO_WATCHED_50=105]="VIDEO_WATCHED_50",t[t.VIDEO_WATCHED_75=106]="VIDEO_WATCHED_75",t[t.VIDEO_WATCHED_95=107]="VIDEO_WATCHED_95",t[t.VIDEO_WATCHED_100=108]="VIDEO_WATCHED_100",t[t.VIDEO_STARTED=109]="VIDEO_STARTED",t[t.VIDEO_WATCHED_3_SECS=110]="VIDEO_WATCHED_3_SECS",t[t.VIDEO_WATCHED_5_SECS=111]="VIDEO_WATCHED_5_SECS",t[t.VIDEO_WATCHED_10_SECS=112]="VIDEO_WATCHED_10_SECS",t[t.VIDEO_GROUP_M_VIEWABLE=113]="VIDEO_GROUP_M_VIEWABLE",t[t.VIDEO_VENDOR_FULLY_VIEWABLE_50=114]="VIDEO_VENDOR_FULLY_VIEWABLE_50"}(Ss||(Ss={})),function(t){t[t.IMPRESSION_THRESHOLD=.1]="IMPRESSION_THRESHOLD",t[t.LARGE_AD_FULL_VIEW_THRESHOLD=.3]="LARGE_AD_FULL_VIEW_THRESHOLD",t[t.VIEWABILITY_THRESHOLD=.5]="VIEWABILITY_THRESHOLD",t[t.VIDEO_GROUPM_THRESHOLD=.8]="VIDEO_GROUPM_THRESHOLD",t[t.FULL_VIEWABILITY_THRESHOLD=.999]="FULL_VIEWABILITY_THRESHOLD",t[t.VISIBILITY_THRESHOLD=.01]="VISIBILITY_THRESHOLD"}(Ls||(Ls={}));const Os=[Ls.IMPRESSION_THRESHOLD,Ls.LARGE_AD_FULL_VIEW_THRESHOLD,Ls.VIEWABILITY_THRESHOLD,Ls.VIDEO_GROUPM_THRESHOLD,Ls.FULL_VIEWABILITY_THRESHOLD];var Ms,Vs;!function(t){t[t.IMPRESSION_TIME=0]="IMPRESSION_TIME",t[t.VIEWABILITY_TIME=1e3]="VIEWABILITY_TIME",t[t.VENDOR_VIEWABILITY_TIME=100]="VENDOR_VIEWABILITY_TIME",t[t.VIDEO_VIEWABILITY_TIME=2e3]="VIDEO_VIEWABILITY_TIME",t[t.VIDEO_FULL_VIEWABILITY_TIME=3e3]="VIDEO_FULL_VIEWABILITY_TIME",t[t.VENDOR_VIEWABILITY_TIME_5=5e3]="VENDOR_VIEWABILITY_TIME_5",t[t.VENDOR_VIEWABILITY_TIME_15=15e3]="VENDOR_VIEWABILITY_TIME_15"}(Ms||(Ms={})),function(t){t[t.VIDEO_WATCHED_SECONDS_3=3e3]="VIDEO_WATCHED_SECONDS_3",t[t.VIDEO_WATCHED_SECONDS_5=5e3]="VIDEO_WATCHED_SECONDS_5",t[t.VIDEO_WATCHED_SECONDS_10=1e4]="VIDEO_WATCHED_SECONDS_10"}(Vs||(Vs={}));const $s=[{pixelEvent:Ss.VIDEO_VIEWABLE_IMPRESSION,threshold:Ls.VIEWABILITY_THRESHOLD,time:Ms.VIDEO_VIEWABILITY_TIME},{pixelEvent:Ss.VIDEO_FULLY_VIEWABLE_IMPRESSION,threshold:Ls.FULL_VIEWABILITY_THRESHOLD,time:Ms.VIDEO_FULL_VIEWABILITY_TIME}];var Ds;!function(t){t.VIDEO_STATE_Q0="VIDEO_STATE_Q0",t.VIDEO_STATE_Q1="VIDEO_STATE_Q1",t.VIDEO_STATE_Q2="VIDEO_STATE_Q2",t.VIDEO_STATE_Q3="VIDEO_STATE_Q3",t.VIDEO_STATE_Q4="VIDEO_STATE_Q4"}(Ds||(Ds={}));const Ps=[{timePercent:0,quartileKey:Ds.VIDEO_STATE_Q0},{pixelEvent:Ss.VIDEO_WATCHED_25,timePercent:.25,quartileKey:Ds.VIDEO_STATE_Q1},{pixelEvent:Ss.VIDEO_WATCHED_50,timePercent:.5,quartileKey:Ds.VIDEO_STATE_Q2},{pixelEvent:Ss.VIDEO_WATCHED_75,timePercent:.75,quartileKey:Ds.VIDEO_STATE_Q3},{pixelEvent:Ss.VIDEO_WATCHED_95,timePercent:.95},{pixelEvent:Ss.VIDEO_WATCHED_100,timePercent:1,quartileKey:Ds.VIDEO_STATE_Q4}],Ns=[{pixelEvent:Ss.VIDEO_WATCHED_3_SECS,time:Vs.VIDEO_WATCHED_SECONDS_3,timePercent:.95},{pixelEvent:Ss.VIDEO_WATCHED_5_SECS,time:Vs.VIDEO_WATCHED_SECONDS_5,timePercent:.95},{pixelEvent:Ss.VIDEO_WATCHED_10_SECS,time:Vs.VIDEO_WATCHED_SECONDS_10,timePercent:.95}],Bs=t=>t.map((t=>{const e=Ss[t.type];return Object.assign(Object.assign({},t),{type:e})}));var zs,Rs;!function(t){t.DISPLAY="display",t.VIDEO="video"}(zs||(zs={})),function(t){t[t.NO_EVENT=0]="NO_EVENT",t[t.NOT_VISIBLE_NOT_AUDIBLE=1]="NOT_VISIBLE_NOT_AUDIBLE",t[t.VISIBLE_NOT_AUDIBLE=2]="VISIBLE_NOT_AUDIBLE",t[t.AUDIBLE_NOT_VISIBLE=3]="AUDIBLE_NOT_VISIBLE",t[t.VISIBLE_AND_AUDIBLE=4]="VISIBLE_AND_AUDIBLE"}(Rs||(Rs={}));var Hs,Us;!function(t){t.ANY_TOTAL_VIEW_TIME="a",t.FIFTY_TOTAL_VIEW_TIME="b",t.FULL_TOTAL_VIEW_TIME="c",t.ANY_CONTINUOUS_VIEW_TIME="d",t.FIFTY_CONTINUOUS_VIEW_TIME="e",t.FULL_CONTINUOUS_VIEW_TIME="f",t.GLOBAL_COUNT="r",t.GROUP_M_VIEWABLE="g",t.AD_LOAD_TIME="i",t.TIMESTAMP="t",t.WAS_EVER_VIEWABLE="o",t.LARGE_AD_FULL_VIEW="q",t.HEIGHT="h",t.WIDTH="w",t.SCREEN_HEIGHT="sh",t.SCREEN_WIDTH="sw"}(Hs||(Hs={})),function(t){t.IS_VIDEO_AD="va",t.TOTAL_MRC_VIEWABLE_TIME="vb",t.VIDEO_AD_DURATION="vc",t.TOTAL_PLAY_TIME="vd",t.VOLUME="ve",t.IS_VISIBLE="vg",t.VIDEO_HEIGHT="vh",t.TOTAL_AUDIBLE_TIME="vi",t.VIDEO_WIDTH="vw",t.WAS_FULL_SCREEN="vq",t.HALF_DURATION_80_IN_VIEW_AUDIBLE="vr",t.VIDEO_STATE_Q0="vs",t.VIDEO_STATE_Q1="vt",t.VIDEO_STATE_Q2="vu",t.VIDEO_STATE_Q3="vv",t.VIDEO_STATE_Q4="vx",t.FULL_IN_VIEW_AUDIBLE_TIME="vy",t.FULL_IN_VIEW_TIME="vz",t.WAS_FULL_IN_VIEW_1SEC="xa",t.FIFTY_CONTINUOUS_VIDEO_VIEW_TIME="xb",t.HAS_SEEKED="xc"}(Us||(Us={}));const Fs=[{key:"TOTAL_MRC_VIEWABLE_TIME",playing:!0,threshold:Ls.VIEWABILITY_THRESHOLD},{key:"TOTAL_AUDIBLE_TIME",playing:!0,threshold:0,withSound:!0},{key:"HALF_DURATION_80_IN_VIEW_AUDIBLE",playing:!0,withSound:!0,threshold:Ls.VIDEO_GROUPM_THRESHOLD},{key:"FULL_IN_VIEW_AUDIBLE_TIME",playing:!0,threshold:Ls.FULL_VIEWABILITY_THRESHOLD,withSound:!0},{key:"FULL_IN_VIEW_TIME",playing:!0,threshold:Ls.FULL_VIEWABILITY_THRESHOLD},{key:"FIFTY_IN_VIEW_TIME",playing:!0,threshold:Ls.VIEWABILITY_THRESHOLD}],Ws=t=>/^(http|https):\/\/([a-z]+\.)?reddit.com/.test(t);function qs(t,e){const n=new URL(t);return Object.entries(e).forEach((([t,e])=>{n.searchParams.set(t,String(e))})),n.toString()}const js=Fs.map((t=>t.key));function Ys(t){const e=new Map;return t.forEach((t=>{const n=e.get(t.type)||[];n.push(t.url),e.set(t.type,n)})),e}const Gs=new class{constructor(){this.postUnloadQueue=[],this.queuePostForUnload=(t,e)=>{if(this.postUnloadQueue.some((e=>e.postId===t)))return;const n={postId:t,timer:setTimeout((()=>{this.firePixel(t,Ss.UNLOAD,e()),this.postUnloadQueue.splice(this.postUnloadQueue.indexOf(n),1)}),6e5)};if(this.postUnloadQueue.push(n),this.postUnloadQueue.length>5){const t=this.postUnloadQueue.shift();t&&(this.firePixel(t.postId,Ss.UNLOAD,e()),clearTimeout(t.timer))}},this.postPixels=new Map,this.firedPixels=new Set,this.postEvents=new Map,this.gallery=new Map}updateEvents(t,e,n){var i;this.postEvents.set(t,Ys(e)),n&&this.gallery.set(t,{currentIndex:(null===(i=this.gallery.get(t))||void 0===i?void 0:i.currentIndex)||0,galleryEvents:n.map((t=>Ys(t.adEvents)))})}incrementGalleryIndex(t){var e,n;this.gallery.set(t,{currentIndex:((null===(e=this.gallery.get(t))||void 0===e?void 0:e.currentIndex)||0)+1,galleryEvents:(null===(n=this.gallery.get(t))||void 0===n?void 0:n.galleryEvents)||[]})}decrementGalleryIndex(t){var e,n;this.gallery.set(t,{currentIndex:((null===(e=this.gallery.get(t))||void 0===e?void 0:e.currentIndex)||1)-1,galleryEvents:(null===(n=this.gallery.get(t))||void 0===n?void 0:n.galleryEvents)||[]})}getGalleryUrls(t,e){var n,i;const{currentIndex:o=0,galleryEvents:r=[]}=this.gallery.get(t)||{},s=(null===(n=r[o].get(e))||void 0===n?void 0:n.map((t=>({url:t,type:e}))))||[];let a=[];return e===Ss.IMPRESSION&&(a=(null===(i=r[o].get(Ss.GALLERY_ITEM_IMPRESSION))||void 0===i?void 0:i.map((t=>({url:t,type:Ss.GALLERY_ITEM_IMPRESSION}))))||[]),[...s,...a]}firePixelsFromEvents(t,e,n){const i=[];return t.forEach((t=>{const{url:o,type:r}=t;if(!o||this.firedPixels.has(o))return;this.firedPixels.add(o),this.postPixels.set(e,Object.assign(Object.assign({},this.postPixels.get(e)||{}),{[o]:{pixelType:Ss[r],metadata:n}}));const s=new Image;let a=o;const l=Ws(a);n&&l&&(a=qs(a,n)),s.src=a,i.push(a);const d=Nt("pixelFired",{pixel:a,pixelEvent:{url:o,type:r,metadata:l?n:void 0},postId:e});window.dispatchEvent(d)})),i}firePixel(t,e,n){var i,o;let r=(null===(o=null===(i=this.postEvents.get(t))||void 0===i?void 0:i.get(e))||void 0===o?void 0:o.map((t=>({url:t,type:e}))))||[];return this.gallery.has(t)&&(r=[...r,...this.getGalleryUrls(t,e)]),this.firePixelsFromEvents(r,t,n)}fireAllUnloadPixels(t){this.postUnloadQueue.forEach((e=>{this.firePixel(e.postId,Ss.UNLOAD,t()),clearTimeout(e.timer)})),this.postUnloadQueue.length=0}},Qs="ad-media-pause",Ks=t=>e=>{const n=(t=>{const{originEvent:{timeStamp:e},target:{state:n,mediaElement:i}}=t,{currentTime:o,fullscreen:r,muted:s,paused:a,volume:l}=null!=n?n:{};return{currentTime:o,duration:null==i?void 0:i.duration,fullscreen:r,muted:s,paused:a,timeStamp:e,volume:l}})(e);return[Nt(t,n)]},Js=[{"vds-fullscreen-change":Ks("ad-media-fullscreenchange"),"vds-pause":Ks("ad-media-pause"),"vds-play":Ks("ad-media-play"),"vds-time-update":Ks("ad-media-timeupdate"),"vds-volume-change":Ks("ad-media-volumechange"),"vds-seeking":Ks("ad-media-seeking"),"vds-seeked":Ks("ad-media-seeked")}];function Xs(t){return(null==t?void 0:t.toLowerCase())||""}function Zs(t){return(t=Xs(t)).includes("chrome")||t.includes("crios")}function ta(t){return(t=Xs(t)).includes("firefox")||t.includes("fxios")}function ea(t,e){return function(t,e){return/(iPad)/i.test(Xs(t))||/(Mac)/i.test(Xs(t))&&e&&e>1}(t,e)||/(iPhone|iPod)/i.test(Xs(t))}function na(t){return!Zs(t)&&!function(t){return Xs(t).includes("edg")}(t)&&!ta(t)&&(Xs(t).includes("safari")||ea(t))}const ia=()=>window.navigator&&window.navigator.userAgent.toLowerCase()||"";class oa{constructor(t){var e;this.impressionTimestamp=0,this.wasEverViewableTimer={fired:!1},this.largeAdFullViewTimer={fired:!1},this.postId=t.postId,Gs.updateEvents(t.postId,t.events,t.galleryItems),this.pixelTimers=new Map,this.cumulativeTimers=new Map,this.continuousTimers=new Map;const n=ea(ia(),null===(e=window.navigator)||void 0===e?void 0:e.maxTouchPoints)?"pagehide":"beforeunload";window.addEventListener(n,(()=>this.handleUnload(this.getMetadata.bind(this))))}getCumulativeTimes(t){const e=this.updateCumulativeTimer(Hs.ANY_TOTAL_VIEW_TIME,t),n=this.updateCumulativeTimer(Hs.FIFTY_TOTAL_VIEW_TIME,t),i=this.updateCumulativeTimer(Hs.FULL_TOTAL_VIEW_TIME,t);return{totalViewTime:(null==e?void 0:e.cumulativeTime)||0,fiftyViewTime:(null==n?void 0:n.cumulativeTime)||0,fullViewTime:(null==i?void 0:i.cumulativeTime)||0}}getContinuousTimes(t){const e=this.updateContinuousTimer(Hs.ANY_CONTINUOUS_VIEW_TIME,t),n=this.updateContinuousTimer(Hs.FIFTY_CONTINUOUS_VIEW_TIME,t),i=this.updateContinuousTimer(Hs.FULL_CONTINUOUS_VIEW_TIME,t);return{maxAnyViewTime:(null==e?void 0:e.maxContinuousTime)||0,maxFiftyViewTime:(null==n?void 0:n.maxContinuousTime)||0,maxFullViewTime:(null==i?void 0:i.maxContinuousTime)||0}}getMetadata(t){var e,n,i;const o=Date.now(),{totalViewTime:r,fiftyViewTime:s,fullViewTime:a}=this.getCumulativeTimes(o),{maxAnyViewTime:l,maxFiftyViewTime:d,maxFullViewTime:c}=this.getContinuousTimes(o),h=(null===(e=this.pixelTimers.get(Ss.GROUP_M_VIEWABLE))||void 0===e?void 0:e.fired)||t===Ss.GROUP_M_VIEWABLE,u=t===Ss.VIEWABLE_IMPRESSION||this.wasEverViewableTimer.fired;t===Ss.IMPRESSION&&0==this.impressionTimestamp&&(this.impressionTimestamp=o);const p=document.getElementById(this.postId),m=null==p?void 0:p.getBoundingClientRect(),v=Math.floor(null!==(n=null==m?void 0:m.width)&&void 0!==n?n:0),g=Math.floor(null!==(i=null==m?void 0:m.height)&&void 0!==i?i:0);return{[Hs.ANY_TOTAL_VIEW_TIME]:r,[Hs.FIFTY_TOTAL_VIEW_TIME]:s,[Hs.FULL_TOTAL_VIEW_TIME]:a,[Hs.ANY_CONTINUOUS_VIEW_TIME]:l,[Hs.FIFTY_CONTINUOUS_VIEW_TIME]:d,[Hs.FULL_CONTINUOUS_VIEW_TIME]:c,[Hs.GLOBAL_COUNT]:Gs.firedPixels.size,[Hs.GROUP_M_VIEWABLE]:h?1:0,[Hs.AD_LOAD_TIME]:this.impressionTimestamp,[Hs.TIMESTAMP]:o,[Hs.WAS_EVER_VIEWABLE]:u?1:0,[Hs.LARGE_AD_FULL_VIEW]:this.largeAdFullViewTimer.fired?1:0,[Hs.HEIGHT]:g,[Hs.WIDTH]:v,[Hs.SCREEN_HEIGHT]:window.screen.height,[Hs.SCREEN_WIDTH]:window.screen.width}}firePixel(t){Gs.firePixel(this.postId,t,this.getMetadata(t))}measureViewChange(t){var e,n;const i=document.getElementById(this.postId),o=null==i?void 0:i.getBoundingClientRect(),r=Math.floor(null!==(e=null==o?void 0:o.width)&&void 0!==e?e:0),s=Math.floor(null!==(n=null==o?void 0:o.height)&&void 0!==n?n:0),a=s*r,l=a>=242500,d=s>document.documentElement.clientHeight;t.intersectionRatio?(this.setCumulativeTimer(Hs.ANY_TOTAL_VIEW_TIME),this.setContinuousTimer(Hs.ANY_CONTINUOUS_VIEW_TIME),this.firePixel(Ss.IMPRESSION),Gs.queuePostForUnload(this.postId,this.getMetadata.bind(this))):(this.unsetContinuousTimer(Hs.ANY_CONTINUOUS_VIEW_TIME),this.pauseCumulativeTimer(Hs.ANY_TOTAL_VIEW_TIME)),t.intersectionRatio>=Ls.VIEWABILITY_THRESHOLD?(this.setCumulativeTimer(Hs.FIFTY_TOTAL_VIEW_TIME),this.setContinuousTimer(Hs.FIFTY_CONTINUOUS_VIEW_TIME),this.pixelTimers.has(Ss.VIEWABLE_IMPRESSION)||this.setPixelTimer(Ss.VIEWABLE_IMPRESSION,1e3),this.wasEverViewableTimer.timer||this.wasEverViewableTimer.fired||(this.wasEverViewableTimer.timer=setTimeout((()=>{this.wasEverViewableTimer.timer&&(this.wasEverViewableTimer.fired=!0,this.wasEverViewableTimer.timer=void 0)}),1e3))):this.pixelTimers.has(Ss.VIEWABLE_IMPRESSION)?(this.clearPixelTimer(Ss.VIEWABLE_IMPRESSION),this.pauseCumulativeTimer(Hs.FIFTY_TOTAL_VIEW_TIME),this.unsetContinuousTimer(Hs.FIFTY_CONTINUOUS_VIEW_TIME)):(this.pauseCumulativeTimer(Hs.FIFTY_TOTAL_VIEW_TIME),this.unsetContinuousTimer(Hs.FIFTY_CONTINUOUS_VIEW_TIME)),t.intersectionRatio>=Ls.FULL_VIEWABILITY_THRESHOLD?(this.setCumulativeTimer(Hs.FULL_TOTAL_VIEW_TIME),this.setContinuousTimer(Hs.FULL_CONTINUOUS_VIEW_TIME)):(this.pauseCumulativeTimer(Hs.FULL_TOTAL_VIEW_TIME),this.unsetContinuousTimer(Hs.FULL_CONTINUOUS_VIEW_TIME)),t.intersectionRatio<Ls.VIEWABILITY_THRESHOLD&&this.wasEverViewableTimer.timer&&(clearTimeout(this.wasEverViewableTimer.timer),this.wasEverViewableTimer.timer=void 0);l&&t.intersectionRatio>=Ls.LARGE_AD_FULL_VIEW_THRESHOLD||t.intersectionRatio>=Ls.FULL_VIEWABILITY_THRESHOLD?this.largeAdFullViewTimer.timer||this.largeAdFullViewTimer.fired||(this.largeAdFullViewTimer.timer=setTimeout((()=>{this.largeAdFullViewTimer.timer&&(this.largeAdFullViewTimer.fired=!0,this.largeAdFullViewTimer.timer=void 0)}),1e3)):this.largeAdFullViewTimer.timer&&(clearTimeout(this.largeAdFullViewTimer.timer),this.largeAdFullViewTimer.timer=void 0),d?1!==t.intersectionRatio||this.pixelTimers.has(Ss.GROUP_M_VIEWABLE)?a*t.intersectionRatio<1&&this.pixelTimers.has(Ss.GROUP_M_VIEWABLE)&&this.clearPixelTimer(Ss.GROUP_M_VIEWABLE):this.setPixelTimer(Ss.GROUP_M_VIEWABLE,1e3):t.intersectionRatio>=Ls.FULL_VIEWABILITY_THRESHOLD?this.pixelTimers.has(Ss.GROUP_M_VIEWABLE)||this.setPixelTimer(Ss.GROUP_M_VIEWABLE,1e3):this.pixelTimers.has(Ss.GROUP_M_VIEWABLE)&&this.clearPixelTimer(Ss.GROUP_M_VIEWABLE)}clearPixelTimer(t){const e=this.pixelTimers.get(t);(null==e?void 0:e.timer)&&(clearTimeout(e.timer),this.pixelTimers.delete(t))}setPixelTimer(t,e){var n,i;(null===(n=this.pixelTimers.get(t))||void 0===n?void 0:n.fired)||((null===(i=this.pixelTimers.get(t))||void 0===i?void 0:i.timer)&&this.clearPixelTimer(t),this.pixelTimers.set(t,{timer:setTimeout((()=>{this.pixelTimers.get(t)&&(this.firePixel(t),this.pixelTimers.set(t,{fired:!0,timer:void 0}))}),e)}))}measureUpvote(){this.firePixel(Ss.UPVOTE)}measureDownvote(){this.firePixel(Ss.DOWNVOTE)}measureClick(){const t=Nt("click_ad",{metadata:this.getMetadata(Ss.CLICK)});window.dispatchEvent(t)}measureCommentsView(){this.firePixel(Ss.COMMENTS_VIEW)}measureCommentSubmitted(){this.firePixel(Ss.COMMENT_SUBMITTED)}measureCommentUpvote(){this.firePixel(Ss.COMMENT_UPVOTE)}measureCommentDownvote(){this.firePixel(Ss.COMMENT_DOWNVOTE)}handleUnload(t){Gs.fireAllUnloadPixels(t)}setCumulativeTimer(t){const e=this.cumulativeTimers.get(t),n=Date.now();if(e&&e.previousDate){const i=n-e.previousDate+e.cumulativeTime;this.cumulativeTimers.set(t,{previousDate:n,cumulativeTime:i})}else this.cumulativeTimers.set(t,{previousDate:n,cumulativeTime:(null==e?void 0:e.cumulativeTime)||0})}updateCumulativeTimer(t,e){const n=this.cumulativeTimers.get(t);if(n&&n.previousDate){const i=e-n.previousDate+(n.cumulativeTime||0);this.cumulativeTimers.set(t,{previousDate:e,cumulativeTime:i})}return this.cumulativeTimers.get(t)}pauseCumulativeTimer(t){const e=this.updateCumulativeTimer(t,Date.now());e&&this.cumulativeTimers.set(t,{previousDate:null,cumulativeTime:e.cumulativeTime||0})}setContinuousTimer(t){const e=this.continuousTimers.get(t),n=Date.now();if(e&&e.previousDate){const i=e.currentContinuousTime+(n-e.previousDate),o=Math.max(i,e.maxContinuousTime);this.continuousTimers.set(t,{previousDate:n,currentContinuousTime:i,maxContinuousTime:o})}else this.continuousTimers.set(t,{previousDate:n,currentContinuousTime:(null==e?void 0:e.currentContinuousTime)||0,maxContinuousTime:(null==e?void 0:e.maxContinuousTime)||0})}updateContinuousTimer(t,e){const n=this.continuousTimers.get(t);if(n&&n.previousDate){const i=n.currentContinuousTime+(e-n.previousDate),o=Math.max(i,n.maxContinuousTime);this.continuousTimers.set(t,{previousDate:e,currentContinuousTime:i,maxContinuousTime:o})}return this.continuousTimers.get(t)}unsetContinuousTimer(t){const e=this.continuousTimers.get(t),n=Date.now();if(e&&e.previousDate){const i=Math.max(e.currentContinuousTime+(n-e.previousDate),e.maxContinuousTime);this.continuousTimers.set(t,{previousDate:null,currentContinuousTime:0,maxContinuousTime:i})}}}function ra(t=0){return 1e3*t}class sa extends oa{constructor(t){super(t),this.videoDuration=1/0,this.videoCurrentTime=0,this.seekingInitialized=!1,this.hasSeeked=!1,this.accumulatedWatchedTime=0,this.videoWasFullscreen=!1,this.videoWasVisible=!1,this.quartileState=new Map,this.dimensions=t.dimensions,this.thresholds=js.reduce(((t,e)=>(t[e]={maxContinuousTime:0,currentContinuousTime:0,totalTime:0},t)),{})}get visible(){return(this.videoIntersectionRatio||0)>=Ls.VISIBILITY_THRESHOLD}get currentQuartileState(){switch((this.visible?1:0)+(this.videoVolume&&this.videoVolume>0?2:0)){case 0:return Rs.NOT_VISIBLE_NOT_AUDIBLE;case 1:return Rs.VISIBLE_NOT_AUDIBLE;case 2:return Rs.AUDIBLE_NOT_VISIBLE;case 3:return Rs.VISIBLE_AND_AUDIBLE;default:return Rs.NO_EVENT}}minTimeRequired({timePercent:t=1/0,time:e=1/0}){const n=Number.isFinite(t)?t*this.videoDuration:1/0,i=Number.isFinite(e)?e:1/0;return Math.min(n,i)}firePixel(t){Gs.firePixel(this.postId,t,this.getMetadata(t))}setViewablePixelTimer(t){const e=Date.now(),n=this.pixelTimers.get(t.pixelEvent);if((null==n?void 0:n.fired)||(null==n?void 0:n.timer))return;const i=(null==n?void 0:n.timeLeft)?null==n?void 0:n.timeLeft:t.time;this.pixelTimers.set(t.pixelEvent,{timer:setTimeout((()=>{this.firePixel(t.pixelEvent),this.pixelTimers.set(t.pixelEvent,{fired:!0,timer:void 0})}),i),timeLeft:i,lastSetTime:e})}resetViewablePixelTimer(t){const e=this.pixelTimers.get(t.pixelEvent);(null==e?void 0:e.fired)||e&&!e.fired&&this.clearPixelTimer(t.pixelEvent)}pauseViewablePixelTimer(t){const e=this.pixelTimers.get(t.pixelEvent);if(e&&!(null==e?void 0:e.fired)&&void 0!==this.videoCurrentTime&&void 0!==this.videoDuration){const n=Date.now();if(e.timer&&e.lastSetTime){const i=t.time-(n-e.lastSetTime);clearTimeout(e.timer),this.pixelTimers.set(t.pixelEvent,{timeLeft:i})}}}videoStateChange(){this.visible&&!this.videoWasVisible&&(this.videoWasVisible=!0),this.videoPlaying&&(this.updateQuartileState(),this.firePixel(Ss.VIDEO_STARTED),this.videoVolume&&this.firePixel(Ss.VIDEO_PLAYED_WITH_SOUND),this.videoFullscreen&&this.firePixel(Ss.VIDEO_PLAYED_EXPANDED),$s.forEach((t=>{this.videoViewabilityStateChange(t)}))),Ps.forEach((t=>{this.videoWatchedPercentStateChange(t)})),Ns.forEach((t=>{this.videoWatchedSecondsStateChange(t)})),this.videoGroupMViewableChange()}videoViewabilityStateChange(t){this.videoIntersectionRatio&&this.videoIntersectionRatio>=t.threshold?this.videoPlaying?this.setViewablePixelTimer(t):this.pauseViewablePixelTimer(t):this.resetViewablePixelTimer({pixelEvent:t.pixelEvent,time:t.time})}videoWatchedPercentStateChange(t){if("number"==typeof this.videoCurrentTime&&"number"==typeof this.videoDuration){this.videoCurrentTime/this.videoDuration>=t.timePercent&&(t.quartileKey&&!this.quartileState.has(t.quartileKey)&&(t.quartileKey!==Ds.VIDEO_STATE_Q0||this.videoPlaying)&&this.quartileState.set(t.quartileKey,this.currentQuartileState),function(t){return void 0!==t.pixelEvent}(t)&&this.firePixel(t.pixelEvent))}}updateQuartileState(){Ps.forEach((t=>{if(t.quartileKey&&"number"==typeof this.videoCurrentTime&&"number"==typeof this.videoDuration){this.videoCurrentTime/this.videoDuration>=t.timePercent&&t.quartileKey&&!this.quartileState.has(t.quartileKey)&&this.quartileState.set(t.quartileKey,this.currentQuartileState)}}))}videoWatchedSecondsStateChange(t){this.accumulatedWatchedTime>=this.minTimeRequired(t)&&this.firePixel(t.pixelEvent)}setMediaDetails(t){Number.isFinite(t.volume)&&(this.videoVolume=t.muted?0:t.volume),Number.isFinite(t.duration)&&(this.videoDuration=ra(t.duration)),Number.isFinite(t.currentTime)&&(this.videoCurrentTime=ra(t.currentTime))}updateAccumulatedWatchTime(t){const e=t-this.videoCurrentTime;return this.accumulatedWatchedTime+=e,e}updateThresholds(t){const{visibleThresholds:e}=this.getHiddenAndVisibleThresholds();e.forEach((e=>{this.thresholds[e.key].totalTime+=t,this.thresholds[e.key].currentContinuousTime+=t;const{currentContinuousTime:n,maxContinuousTime:i}=this.thresholds[e.key];n>i&&(this.thresholds[e.key].maxContinuousTime=n)})),this.resetContinuousTimerForHiddenThresholds()}getHiddenAndVisibleThresholds(){const t=[],e=[];return Fs.forEach((n=>{this.meetsViewabilityRequirements(n)?t.push(n):e.push(n)})),{visibleThresholds:t,hiddenThresholds:e}}resetContinuousTimerForHiddenThresholds(){this.resetContinuousTimerForThresholds(this.getHiddenAndVisibleThresholds().hiddenThresholds)}resetContinuousTimerForThresholds(t){t.forEach((t=>{this.thresholds[t.key].currentContinuousTime=0}))}measureViewChange(t){super.measureViewChange(t),this.videoIntersectionRatio=t.intersectionRatio,this.videoStateChange(),this.resetContinuousTimerForHiddenThresholds()}measureVideoPlay(t){this.videoPlaying=!0,this.setMediaDetails(t),this.videoStateChange()}measureVideoPause(t){this.videoPlaying=!1,this.setMediaDetails(t),this.videoStateChange(),$s.forEach((t=>{this.pauseViewablePixelTimer(t)}))}measureVideoSeek(t){this.hasSeeked=!0,this.seekingInitialized||(this.videoPlaying=!1,this.setMediaDetails(t),$s.forEach((t=>{this.resetViewablePixelTimer({pixelEvent:t.pixelEvent,time:t.time})})),this.seekingInitialized=!0)}measureVideoSeeked(t){this.seekingInitialized=!1,this.hasSeeked=!0,this.videoCurrentTime=ra(t.currentTime),t.paused||this.measureVideoPlay(t)}measureVolumeChange(t){this.setMediaDetails(t),this.videoStateChange(),t.volume&&this.videoPlaying&&$s.forEach((t=>{this.firePixel(t.pixelEvent),this.pixelTimers.set(t.pixelEvent,{fired:!0})}))}measureFullscreenChange(t){this.videoFullscreen=t.fullscreen,this.videoStateChange(),t.fullscreen&&(this.videoWasFullscreen=!0,this.videoPlaying&&$s.forEach((t=>{this.firePixel(t.pixelEvent),this.pixelTimers.set(t.pixelEvent,{fired:!0})})))}measureVideoTimeUpdate(t){const e=this.updateAccumulatedWatchTime(ra(t.currentTime));this.updateThresholds(e),this.videoCurrentTime=ra(t.currentTime),this.videoStateChange()}getMetadata(t){var e,n,i,o,r,s;const a=super.getMetadata(t),l=this.thresholds.HALF_DURATION_80_IN_VIEW_AUDIBLE.totalTime;return Object.assign(Object.assign({},a),{[Us.IS_VIDEO_AD]:1,[Us.TOTAL_MRC_VIEWABLE_TIME]:Math.floor(this.thresholds.TOTAL_MRC_VIEWABLE_TIME.totalTime),[Us.VIDEO_AD_DURATION]:isFinite(this.videoDuration)?Math.floor(this.videoDuration):0,[Us.TOTAL_PLAY_TIME]:Math.floor(this.accumulatedWatchedTime),[Us.VOLUME]:null!==(e=this.videoVolume)&&void 0!==e?e:0,[Us.IS_VISIBLE]:this.visible?1:0,[Us.VIDEO_HEIGHT]:this.visible&&this.dimensions?this.dimensions.height:0,[Us.TOTAL_AUDIBLE_TIME]:Math.floor(this.thresholds.TOTAL_AUDIBLE_TIME.totalTime),[Us.VIDEO_STATE_Q0]:null!==(n=this.quartileState.get(Ds.VIDEO_STATE_Q0))&&void 0!==n?n:Rs.NO_EVENT,[Us.VIDEO_STATE_Q1]:null!==(i=this.quartileState.get(Ds.VIDEO_STATE_Q1))&&void 0!==i?i:Rs.NO_EVENT,[Us.VIDEO_STATE_Q2]:null!==(o=this.quartileState.get(Ds.VIDEO_STATE_Q2))&&void 0!==o?o:Rs.NO_EVENT,[Us.VIDEO_STATE_Q3]:null!==(r=this.quartileState.get(Ds.VIDEO_STATE_Q3))&&void 0!==r?r:Rs.NO_EVENT,[Us.VIDEO_STATE_Q4]:null!==(s=this.quartileState.get(Ds.VIDEO_STATE_Q4))&&void 0!==s?s:Rs.NO_EVENT,[Us.VIDEO_WIDTH]:this.visible&&this.dimensions?this.dimensions.width:0,[Us.WAS_FULL_SCREEN]:this.videoWasFullscreen?1:0,[Us.HALF_DURATION_80_IN_VIEW_AUDIBLE]:l>=15e3||this.videoDuration&&l>=.5*this.videoDuration?1:0,[Us.FULL_IN_VIEW_AUDIBLE_TIME]:Math.floor(this.thresholds.FULL_IN_VIEW_AUDIBLE_TIME.totalTime),[Us.FULL_IN_VIEW_TIME]:Math.floor(this.thresholds.FULL_IN_VIEW_TIME.totalTime),[Us.WAS_FULL_IN_VIEW_1SEC]:this.thresholds.FULL_IN_VIEW_TIME.maxContinuousTime>=1e3?1:0,[Us.FIFTY_CONTINUOUS_VIDEO_VIEW_TIME]:Math.floor(this.thresholds.FIFTY_IN_VIEW_TIME.maxContinuousTime),[Us.HAS_SEEKED]:this.hasSeeked?1:0})}isAdequatelyInView(t){return!!this.videoFullscreen||(this.videoIntersectionRatio||0)>=t}meetsViewabilityRequirements(t){return this.isAdequatelyInView(t.threshold)&&(!t.playing||this.videoPlaying)&&(!t.withSound||this.videoVolume&&this.videoVolume>0)}videoGroupMViewableChange(){var t,e;const n=(null===(t=this.dimensions)||void 0===t?void 0:t.height)*(null===(e=this.dimensions)||void 0===e?void 0:e.width);let i=this.thresholds.FULL_IN_VIEW_AUDIBLE_TIME.totalTime;n>=3e5&&(i=this.thresholds.HALF_DURATION_80_IN_VIEW_AUDIBLE.totalTime),i/this.videoDuration>=Ls.VIEWABILITY_THRESHOLD&&this.firePixel(Ss.VIDEO_GROUP_M_VIEWABLE)}}const aa=(t,{ignoredTags:e=new Set}={})=>{const n=(t=>{const e=t.getBoundingClientRect();return document.elementFromPoint(e.left,e.top)})(t);return{overlappingElement:n,isOverlapped:!(!n||t.isSameNode(n)||e.has(n.tagName))}},la=(t,e)=>{if((t=>{const e=t.getBoundingClientRect();if(e.height<=0)return!0;const n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;return e.right<0||e.bottom<0||e.left>n||e.top>i})(t))return 0;const n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight,r=Math.min(o,n.bottom);return Math.max(0,r-i.bottom)/n.height},da=Symbol("mixins/with-ad-observer"),ca=new Set(["SHREDDIT-APP"]);function ha(e){const n=$n(e);if(da in n)return n;class i extends n{constructor(){super(...arguments),this._adObserverEvents=new Rt(this),this.isAdObserved=!1,this.checkAndMeasureIfAdIsBeingOverlapped=Fo((()=>{var t;const e=document.getElementById(this.postId||"");if(!e)return;const{hidden:n}=this.getHiddenAndVisibilityChangeForDocument();if(document[n]||!document.hasFocus())return void this.measureOutOfViewChange();const{isOverlapped:i,overlappingElement:o}=aa(e,{ignoredTags:ca});if(i&&o){const n=la(e,o);null===(t=this.adMeasurer)||void 0===t||t.measureViewChange({intersectionRatio:n})}else this.measureBackInViewChange()}),30),this._observerIsIntersectingCallback=this._adObserverEvents.define("io-event-is-intersecting",(t=>{this.isIntersectingChange(t)})),this._observerIsNotIntersectingCallback=this._adObserverEvents.define("io-event-is-not-intersecting",(t=>{this.isIntersectingChange(t)})),this.measureOutOfViewChange=()=>{var t;null===(t=this.adMeasurer)||void 0===t||t.measureViewChange({intersectionRatio:0})},this.measureBackInViewChange=()=>{var t;this.lastIOEvent&&(null===(t=this.adMeasurer)||void 0===t||t.measureViewChange(Object.assign({},this.lastIOEvent)))},this._trackEvent=this._adObserverEvents.define("track-event",(t=>{var e,n,i,o,r,s,a,l,d,c;const{detail:{details:h}}=t;if((null===(e=null==h?void 0:h.post)||void 0===e?void 0:e.id)===this.postId){const{noun:t,source:e}=h;switch(e){case"gallery":switch(t){case"forward":Gs.incrementGalleryIndex(h.post.id),this.lastIOEvent&&(null===(n=this.adMeasurer)||void 0===n||n.measureViewChange(this.lastIOEvent));break;case"backward":Gs.decrementGalleryIndex(h.post.id),this.lastIOEvent&&(null===(i=this.adMeasurer)||void 0===i||i.measureViewChange(this.lastIOEvent))}break;default:switch(t){case"click_ad":null===(o=this.adMeasurer)||void 0===o||o.measureClick();break;case"comments":null===(r=this.adMeasurer)||void 0===r||r.measureCommentsView();break;case"upvote":null===(s=this.adMeasurer)||void 0===s||s.measureUpvote();break;case"downvote":null===(a=this.adMeasurer)||void 0===a||a.measureDownvote();break;case"upvote_comment":null===(l=this.adMeasurer)||void 0===l||l.measureCommentUpvote();break;case"downvote_comment":null===(d=this.adMeasurer)||void 0===d||d.measureCommentDownvote();break;case"submit_comment":null===(c=this.adMeasurer)||void 0===c||c.measureCommentSubmitted()}}}})),this._videoEventSeeked=this._adObserverEvents.define("ad-media-seeked",(t=>{var e;null===(e=this.adMeasurer)||void 0===e||e.measureVideoSeeked(t.detail)})),this._videoEventTimeUpdate=this._adObserverEvents.define("ad-media-timeupdate",(t=>{setTimeout((()=>{var e;null===(e=this.adMeasurer)||void 0===e||e.measureVideoTimeUpdate(t.detail)}))}))}enableAdObserver(e){const{adType:n}=e,i=t(e,["adType"]),o=n===zs.VIDEO;this.adMeasurer=o?new sa(i):new oa(i),this.postId=e.postId,this.trackVisibilityChange(),this.isAdObserved=!0,o&&(this.addEventListener("ad-media-fullscreenchange",this._trackFullscreenChange),this.addEventListener("ad-media-pause",this._videoEventPause),this.addEventListener("ad-media-play",this._videoEventPlay),this.addEventListener("ad-media-volumechange",this._videoEventVolumeChange),this.addEventListener("ad-media-seeking",this._videoEventSeeking))}trackVisibilityChange(){const{visibilityChange:t,hidden:e}=this.getHiddenAndVisibilityChangeForDocument();document.addEventListener(t,(()=>{this.lastIOEvent&&(document[e]?this.measureOutOfViewChange():this.measureBackInViewChange())})),window.addEventListener("blur",this.measureOutOfViewChange),window.addEventListener("focus",this.measureBackInViewChange),this.registerOverlappingObserver()}registerOverlappingObserver(){this.overlappingObserver=new MutationObserver(this.checkAndMeasureIfAdIsBeingOverlapped),this.overlappingObserver.observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!1})}isIntersectingChange(t){var e;const{details:n}=t.detail,i={intersectionRatio:n.intersectionRatio};this.lastIOEvent=i,null===(e=this.adMeasurer)||void 0===e||e.measureViewChange(i),this.checkAndMeasureIfAdIsBeingOverlapped()}getHiddenAndVisibilityChangeForDocument(){let t=kn.Standard,e=Tn.hidden;return void 0!==document.hidden?(t=kn.Standard,e=Tn.hidden):void 0!==document.webkitHidden&&(t=kn.Webkit,e=Tn.webkitHidden),{hidden:t,visibilityChange:e}}_trackFullscreenChange(t){var e;null===(e=this.adMeasurer)||void 0===e||e.measureFullscreenChange(t.detail)}_videoEventPause(t){var e;null===(e=this.adMeasurer)||void 0===e||e.measureVideoPause(t.detail)}_videoEventPlay(t){var e;null===(e=this.adMeasurer)||void 0===e||e.measureVideoPlay(t.detail)}_videoEventVolumeChange(t){var e;null===(e=this.adMeasurer)||void 0===e||e.measureVolumeChange(t.detail)}_videoEventSeeking(t){var e;null===(e=this.adMeasurer)||void 0===e||e.measureVideoSeek(t.detail)}disconnectedCallback(){var t;super.disconnectedCallback(),window.removeEventListener("blur",this.measureOutOfViewChange),window.removeEventListener("focus",this.measureBackInViewChange),null===(t=this.overlappingObserver)||void 0===t||t.disconnect()}}return i[da]=!0,i}const ua=(t,e)=>{var n,i,o,r,s,a,l;let d,c,h=t.callToAction,u=t.domain||(null===(n=t.outboundLink)||void 0===n?void 0:n.url),p=(null===(i=t.outboundLink)||void 0===i?void 0:i.url)||"",m={url:(null===(o=t.outboundLink)||void 0===o?void 0:o.url)||"",expiresAt:(null===(r=t.outboundLink)||void 0===r?void 0:r.expiresAt)||""};return c="true"===qt.get("compact")?ls.ClassicView:ls.CardView,e&&(u=e.domain||(null===(s=e.outboundLink)||void 0===s?void 0:s.url),h=e.callToAction,d=e.caption,(null===(a=e.outboundLink)||void 0===a?void 0:a.url)&&(p=e.outboundLink.url),m={url:(null===(l=e.outboundLink)||void 0===l?void 0:l.url)||"",expiresAt:null}),{caption:d,callToAction:h,displayUrl:u,href:p,outboundLink:m,layout:c}},pa=It(gt);let ma=class extends pa{constructor(){super(...arguments),this.id="undefined"}static get styles(){return w`:host{display:block}`}connectedCallback(){super.connectedCallback(),this.enableObserver(this.config)}disconnectedCallback(){super.disconnectedCallback(),this.isObserved&&this.disableObserver()}observerIsIntersectingCallback(t){const e=Nt("io-event-is-intersecting",{id:this.id,details:t});this.dispatchEvent(e)}observerIsNotIntersectingCallback(t){const e=Nt("io-event-is-not-intersecting",{id:this.id,details:t});this.dispatchEvent(e)}render(){return G`<slot></slot>`}};e([l({type:String})],ma.prototype,"id",void 0),e([l({type:Object})],ma.prototype,"config",void 0),ma=e([s("shreddit-with-observer-wrapper")],ma);const va=$n(gt);let ga=class extends va{constructor(){super(...arguments),this.class="",this.metadataArr=[],this.appendMetadataToOutbound=t=>{Ws(this.href)&&(this.href=qs(this.href,t.detail.metadata))}}connectedCallback(){super.connectedCallback(),window.addEventListener("click_ad",this.appendMetadataToOutbound)}disconnectedCallback(){window.removeEventListener("click_ad",this.appendMetadataToOutbound),super.disconnectedCallback()}static get styles(){return jt("a {\n  color: inherit;\n  text-decoration: none;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\na.ad-link-bar__cta {\n  display: flex;\n  justify-content: center;\n}\n")}onClick(){var t;this.trackEvent((t=this.postId,We({source:"ad",action:"click",noun:"click_ad"},{post:{id:t}}))),En.isAvailable()&&(En.setItem(xn.LastClickedAdId,this.postId),En.setItem(xn.ImpressionId,this.impressionId))}render(){return G` <a \n class="${this.class}" \n href="${this.href}" \n target="${po(this.target)}" \n @click="${this.onClick}" \n @touchstart="${this.onClick}" \n @mousedown="${this.onClick}" \n rel="noopener nofollow sponsored" \n><slot></slot></a>`}};e([l({type:String,attribute:"post-id"})],ga.prototype,"postId",void 0),e([l({type:String,attribute:"href"})],ga.prototype,"href",void 0),e([l({type:String})],ga.prototype,"target",void 0),e([l({type:String,attribute:"expires-at"})],ga.prototype,"expiresAt",void 0),e([l({type:String})],ga.prototype,"class",void 0),e([l({type:Array,attribute:!1})],ga.prototype,"metadataArr",void 0),e([l({type:String,attribute:"impression-id"})],ga.prototype,"impressionId",void 0),e([h("a")],ga.prototype,"link",void 0),ga=e([s("shreddit-dynamic-ad-link")],ga);const ba=ha(As);let fa=class extends ba{constructor(){super(...arguments),this.gallerySlideActive=0,this._trackEventGallerySlide=this._events.define("track-event",(t=>{const{detail:{details:e}}=t,{noun:n,source:i}=e;switch(i){case"gallery":switch(n){case"forward":this.gallerySlideActive++,this.adLinkContent=ua(this.postAdLinkContent,this.galleryAdLinkContent);break;case"backward":this.gallerySlideActive--,this.adLinkContent=ua(this.postAdLinkContent,this.galleryAdLinkContent)}}}))}static get styles(){return[...super.styles,jt(":host {\n  position: relative;\n}\n.promoted-post {\n  color: var(--color-tone-2);\n  font-weight: 400;\n}\n.ad-post-link {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.ad-link-bar {\n  grid-column: 1 / 13;\n  height: 40px;\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-top: 4px;\n  padding: 0 16px;\n}\n.ad-link-bar__captionDomainContainer {\n  display: flex;\n  flex-direction: column;\n  max-width: 50%;\n}\n.ad-link-bar__captionDomainContainer,\n.ad-link-bar__domain-container {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.ad-link-bar__domain {\n  color: var(--color-action-secondary);\n  font-size: 12px;\n  text-decoration: none;\n  display: flex;\n}\n.ad-link-bar__cta {\n  border: 1px solid var(--color-action-secondary);\n  border-radius: 30px;\n  color: var(--color-action-secondary);\n  padding: 3px 3px 18px;\n  width: auto;\n  box-sizing: border-box;\n  font-weight: 500;\n  text-align: center;\n  line-height: 20px;\n  text-decoration: none;\n  height: 27px;\n  font-size: 12px;\n  background-color: transparent;\n  margin-left: 8px;\n  min-width: 123px;\n}\n.meta-row {\n  grid-column: 1 / 4;\n}\n.grid-template-col-inherit {\n  grid-template-columns: inherit;\n}\n")]}connectedCallback(){var t;super.connectedCallback(),this.enableAdObserver({events:Bs(this.adEvents),postId:this.id,adType:this.adType,dimensions:this.dimensions,galleryItems:null===(t=this.galleryItems)||void 0===t?void 0:t.map((t=>Object.assign(Object.assign({},t),{adEvents:Bs(t.adEvents||[])})))}),this.adLinkContent=ua(this.postAdLinkContent,this.galleryAdLinkContent)}disconnectedCallback(){this.adMeasurer&&this.adMeasurer.handleUnload(this.adMeasurer.getMetadata.bind(this.adMeasurer)),super.disconnectedCallback()}get postAdLinkContent(){return{callToAction:this.callToAction,domain:this.domain,outboundLink:{url:this.outboundLinkUrl,expiresAt:this.outboundLinkExpiresAt}}}get galleryAdLinkContent(){if(!this.galleryItems)return;const{caption:t,callToAction:e,displayAddress:n,outboundUrl:i}=this.galleryItems[this.gallerySlideActive];return{caption:t,callToAction:e,domain:n,outboundLink:{url:i,expiresAt:null}}}renderLink(){return""}renderMoreFrom(){return G` <a href="/user/${this.author}/">\n <icon-admin aria-hidden="true" class="overflow-actions-icon"></icon-admin> More from user/${this.author}\n </a>`}renderActionRow(){const{caption:t,callToAction:e,displayUrl:n,href:i,outboundLink:o}=this.adLinkContent;return G` <div class="ad-link-bar min-w-0">\n <div class="ad-link-bar__captionDomainContainer">\n ${t?G`<span title="${t}">${t}</span>`:""}\n <div class="ad-link-bar__domain-container">\n <shreddit-dynamic-ad-link \n class="ad-link-bar__domain" \n href="${i}" \n target="_blank" \n post-id="${this.id}" \n expires-at="${po((null==o?void 0:o.expiresAt)||void 0)}" \n impression-id="${this.impressionId}" \n>${n}</shreddit-dynamic-ad-link>\n </div>\n </div>\n ${e?G`<shreddit-dynamic-ad-link \n class="ad-link-bar__cta" \n href="${i}" \n target="_blank" \n post-id="${this.id}" \n expires-at="${po((null==o?void 0:o.expiresAt)||void 0)}" \n impression-id="${this.impressionId}" \n>${e}</shreddit-dynamic-ad-link>`:""}\n </div>\n ${super.renderActionRow()}`}render(){return G` <shreddit-with-observer-wrapper \n id="in-feed-ad" \n class="grid col-span-full grid-template-col-inherit" \n .config="${{threshold:Os}}" \n>\n ${super.render()}\n </shreddit-with-observer-wrapper>`}};e([l({type:Array,attribute:"ad-events",reflect:!0})],fa.prototype,"adEvents",void 0),e([l({type:Array,attribute:"gallery-items"})],fa.prototype,"galleryItems",void 0),e([l({type:String,attribute:"ad-type"})],fa.prototype,"adType",void 0),e([l({type:String})],fa.prototype,"domain",void 0),e([l({type:String,attribute:"outbound-link-url"})],fa.prototype,"outboundLinkUrl",void 0),e([l({type:String,attribute:"outbound-link-expires-at"})],fa.prototype,"outboundLinkExpiresAt",void 0),e([l({type:String,attribute:"call-to-action"})],fa.prototype,"callToAction",void 0),e([l({type:Object,attribute:!1})],fa.prototype,"adLinkContent",void 0),e([l({type:Object,attribute:!0})],fa.prototype,"dimensions",void 0),e([l({type:String,attribute:"impression-id"})],fa.prototype,"impressionId",void 0),e([d()],fa.prototype,"gallerySlideActive",void 0),fa=e([s("shreddit-ad-post")],fa);let wa=class extends gt{static get styles(){return jt(":host {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.5rem 1rem;\n  background: var(--color-alert-caution);\n  color: var(--color-global-white);\n}\nicon-quarantined {\n  flex: 0 0 42px;\n  margin-right: 0.5rem;\n  box-sizing: border-box;\n  border: 1px solid var(--color-global-white);\n  font-size: 20px;\n  line-height: 0;\n  padding: 10px;\n  overflow: hidden;\n  border-radius: 50%;\n}\np {\n  flex: 1 1 auto;\n  font-weight: 600;\n}\n")}render(){return G`\n <icon-quarantined></icon-quarantined>\n <p>This community is quarantined.</p>\n `}};wa=e([s("shreddit-quarantine-banner")],wa);const ya=_n(gt);let _a=class extends ya{constructor(){super(...arguments),this.data={}}connectedCallback(){super.connectedCallback(),this.dispatchEvent(Nt("screenview-data-loaded",this.data)),this.publish(fi.ScreenViewDataLoaded,this.data)}};e([l({type:Object})],_a.prototype,"data",void 0),_a=e([s("shreddit-screenview-data")],_a);const xa=()=>We({source:"community",action:"click",noun:"subscribe"});const Ea=$n(gt);let ka=class extends Ea{constructor(){super(...arguments),this.name="",this.displayName="",this.description="",this.subscribers=0,this.bannerUrl="",this.active=0}static get styles(){return[Dn,jt(":host {\n  text-align: center;\n}\n.r-slash-icon {\n  border: 2px solid var(--color-tone-1);\n  border-radius: 50%;\n  overflow: hidden;\n}\nh2 {\n  font: var(--font-title-h2);\n  font-weight: bold;\n  margin: 0.5rem 0 0;\n}\n.subheader,\n.description {\n  color: var(--color-tone-3);\n}\nh2,\n.description,\n.subheader,\n.subscribers {\n  margin-bottom: 0.5rem;\n}\na {\n  color: inherit;\n  text-decoration: none;\n}\n.subredditIcon {\n  border: 2px solid var(--color-tone-7);\n  border-radius: 50%;\n  display: inline-block;\n  font-size: 75px;\n  height: 76px;\n  margin-top: -36px;\n  width: 76px;\n}\n.header {\n  background-color: var(--color-global-darkblue);\n  background-position: top center;\n  background-repeat: no-repeat;\n  background-size: auto 6.8em;\n  overflow: hidden;\n  padding-top: 3.5em;\n  position: relative;\n}\n.banner {\n  background-color: var(--color-tone-6);\n  background-position: 50%;\n  background-size: cover;\n  left: 0;\n  padding-top: 30%;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.layout {\n  background-color: var(--color-tone-7);\n  padding: 0 1rem 1rem 1rem;\n  position: relative;\n}\n.delimeter {\n  font-weight: 900;\n  padding: 0 0.25rem;\n}\n")]}handleClickJoinCommunity(){this.trackEvent(xa()),this.dispatchEvent(Qt)}render(){const{bannerUrl:t}=this,e=this.displayName||`r/${this.name}`,n=G`\n <strong id="subscribers" \n><faceplate-number number="${this.subscribers}" pretty></faceplate-number></strong>\n members\n `,i=G`\n <strong id="online" \n><faceplate-number number="${this.active}" pretty></faceplate-number></strong>\n online\n `;return G`\n <div class="header">\n <div \n class="banner" \n style="${Wo({backgroundImage:t?`url('${t}')`:""})}" \n></div>\n <div class="layout">\n <span class="subredditIcon">\n <slot name="subredditIcon"></slot>\n </span>\n <h2 id="title">${e}</h2>\n ${this.displayName?G` <div class="subheader">r/${this.name}</div> `:""}\n ${this.description?G` <div class="description">${this.description}</div> `:""}\n ${this.subscribers?G`\n <div class="subscribers">\n ${n}${this.active?G`<span class="delimeter">\u00B7</span>${i}`:""}\n </div>\n `:""}\n <button \n class="button button-small button-primary w-full max-w-full join-btn" \n @click="${this.handleClickJoinCommunity}" \n>\n Join Community\n </button>\n </div>\n </div>\n `}};e([l({type:String})],ka.prototype,"name",void 0),e([l({type:String,attribute:"display-name"})],ka.prototype,"displayName",void 0),e([l({type:String})],ka.prototype,"description",void 0),e([l({type:Number})],ka.prototype,"subscribers",void 0),e([l({type:String,attribute:"banner-url"})],ka.prototype,"bannerUrl",void 0),e([l({type:Number})],ka.prototype,"active",void 0),ka=e([s("shreddit-subreddit-header")],ka);const Ta=$n(gt);let Aa=class extends Ta{constructor(){super(...arguments),this.source="",this.action="",this.noun="",this.additionalFields={}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.onClick)}disconnectedCallback(){super.disconnectedCallback()}onClick(){this.trackEvent(We({source:this.source,action:this.action,noun:this.noun},this.additionalFields))}render(){return G`<slot></slot> `}};e([l({type:String})],Aa.prototype,"source",void 0),e([l({type:String})],Aa.prototype,"action",void 0),e([l({type:String})],Aa.prototype,"noun",void 0),e([l({type:Object})],Aa.prototype,"additionalFields",void 0),Aa=e([s("shreddit-tracker")],Aa);const Ia=()=>We({source:"profile",action:"click",noun:"follow"},{popup:{button_text:"follow"}}),Ca=()=>We({source:"profile",action:"click",noun:"chat"},{popup:{button_text:"chat"}});var Sa;!function(t){t.FIRST_CONTENTFUL_PAINT="first-contentful-paint",t.FIRST_POST_MEANINGFUL_PAINT="first-post-meaningful-paint",t.FIRST_COMMENT_MEANINGFUL_PAINT="first-comment-meaningful-paint"}(Sa||(Sa={}));const La=ei(It($n(gt)));let Oa=class extends La{constructor(){super(),this.id="",this.subreddit="",this.postPermalink="",this.commentPermalink="",this.nsfw=!1,this.shouldRenderPerfmark=!1,this.isReportingEnabled=!1,this._events=new Rt(this),this.commentOverflowActionsMenuRef=Zr(),this.handleClickJoinCommunity=this._events.define("join",(t=>{this.trackEvent(no(t.detail))})),this.handleCommentOverflowActionsMenuClose=()=>{var t;null===(t=this.commentOverflowActionsMenuRef.value)||void 0===t||t.close(),document.documentElement.removeEventListener("click",this.handleCommentOverflowActionsMenuClose),this.unblockPageScrolling()},this.handleCommentOverflowActionsMenuClick=()=>{var t;null===(t=this.commentOverflowActionsMenuRef.value)||void 0===t||t.showModal(),document.documentElement.addEventListener("click",this.handleCommentOverflowActionsMenuClose),this.blockPageScrolling()},this.addEventListener("click",this.handleClickComment)}static get styles(){return[Dn,jt(ws),jt(":host {\n  display: block;\n  background-color: var(--color-tone-7);\n  box-sizing: border-box;\n  margin-bottom: 0.5rem;\n}\n.subredditIcon {\n  height: 24px;\n  width: 24px;\n  margin-right: 4px;\n  font-size: 24px;\n}\n.subreddit {\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 17px;\n  display: flex;\n  align-items: center;\n}\na {\n  text-decoration: none;\n  color: inherit;\n}\n.delimeter {\n  font-weight: 900;\n  padding: 0 4px;\n  color: var(--color-tone-2);\n}\n.time-ago {\n  color: var(--color-tone-2);\n}\n.meta-row {\n  align-items: center;\n  display: flex;\n}\n.meta-row,\n.action-row {\n  color: var(--color-tone-2);\n}\n.icon {\n  transform: scale(1.4);\n  padding: 0 2px;\n}\n.pad-left {\n  margin-left: 0.5rem;\n}\n.pad-right {\n  margin-right: 0.5rem;\n}\n.action-row {\n  display: grid;\n  grid-template-columns: repeat(2, auto) 1fr [last-line] auto;\n}\n:host([awarded]) .action-row {\n  grid-template-columns: repeat(3, auto) 1fr [last-line] auto;\n}\n.action.last {\n  grid-column: last-line / span 1;\n}\n.awards ::slotted(faceplate-img) {\n  cursor: pointer;\n  height: auto;\n  width: auto;\n  vertical-align: middle;\n}\n.action {\n  border: 1px solid var(--color-tone-5);\n  line-height: 1.25rem;\n  border-radius: 200px;\n  padding: 0.3125rem 0.5rem;\n  text-align: center;\n  margin: 0;\n  color: inherit;\n  text-decoration: none;\n  background: transparent;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.contents {\n  display: block;\n  margin-top: 8px;\n}\n.save-button {\n  padding: 1rem;\n  align-items: center;\n  color: var(--color-tone-2);\n  display: flex;\n  text-decoration: none;\n  font-size: 16px;\n  width: 100%;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n}\n")]}handleDownvote(t){t.stopPropagation(),this.trackEvent(We({source:"post_detail",action:"click",noun:"downvote_comment"})),this.dispatchEvent(Nt("downvote"))}handleUpvote(t){t.stopPropagation(),this.trackEvent(We({source:"post_detail",action:"click",noun:"upvote_comment"})),this.dispatchEvent(Nt("upvote"))}handleAwardsClick(t){t.stopPropagation(),this.dispatchEvent(Nt("awards"))}handleClickComment(t){t.stopPropagation()}async handleShareClick(t){t.stopPropagation();const e={url:location.origin+this.commentPermalink+"?utm_source=share&utm_medium=mweb3x"};if(ds.Clipboard===await cs(e)){const t=Nt("faceplate-alert",{level:Ct.notice,message:"Comment permalink copied to clipboard!"});this.dispatchEvent(t)}}renderOverflowActionsMenu(){return G`\n <button \n class="button button-plain button-small button-icon ml-auto overflow-actions-button" \n @click="${this.handleCommentOverflowActionsMenuClick}" \n>\n <icon-overflow-horizontal aria-hidden="true"></icon-overflow-horizontal>\n <faceplate-screen-reader-content \n>List of additional comment actions</faceplate-screen-reader-content>\n </button>\n <faceplate-dialog \n ${ns(this.commentOverflowActionsMenuRef)}\n class="overflow-actions-dialog" \n @click="${this.handleCommentOverflowActionsMenuClose}" \n>\n <faceplate-screen-reader-content id="overflow-actions-menu-label">\n Additional comment actions\n </faceplate-screen-reader-content>\n <ul class="overflow-actions-menu" aria-labelledby="overflow-actions-menu-label">\n <li>\n <a href="${this.commentPermalink||""}">\n <icon-link-post aria-hidden="true" class="overflow-actions-icon"></icon-link-post>\n Permalink\n </a>\n </li>\n ${this.subreddit?G`\n <li>\n <a href="/${this.subreddit}/">\n <icon-admin aria-hidden="true" class="overflow-actions-icon"></icon-admin>\n More from ${this.subreddit}\n </a>\n </li>\n `:""}\n ${this.isReportingEnabled?G`<li>\n <shreddit-overflow-report \n thingId="${this.id}" \n type="${us.COMMENT}" \n></shreddit-overflow-report>\n </li>`:""}\n </ul>\n <button \n class="button button-small button-plain block bg-tone-6 text-tone-3 mt-[10px] mx-auto mb-0 w-[calc(100%-20px)] overflow-actions-close-btn" \n>\n Close\n </button>\n </faceplate-dialog>\n `}render(){return G`<div id="comment-container">\n <div class="meta-row">\n <slot name="meta"></slot>\n ${this.renderOverflowActionsMenu()}\n </div>\n <div class="px-md">\n <slot name="title"></slot>\n ${this.nsfw?G` ${fs({type:ms.NSFW})} `:""}\n </div>\n <a href="${this.commentPermalink||""}" class="contents" rel="nofollow noopener noreferrer">\n <slot></slot>\n </a>\n <div class="action-row px-md py-xs">\n <div class="action">\n <icon-upvote class="icon pad-right" @click="${this.handleUpvote}"></icon-upvote>\n <slot name="score">\n Vote\n </slot>\n <icon-downvote class="icon pad-left" @click="${this.handleDownvote}"></icon-downvote>\n </div>\n ${this.awarded?G`\n <button class="action awards" @click="${this.handleAwardsClick}">\n <slot name="award"></slot>\n <slot name="awards"></slot>\n </button>\n `:""}\n <button \n class="action last" \n href="${this.commentPermalink||""}" \n @click="${this.handleShareClick}" \n>\n <icon-share class="icon"></icon-share>\n <faceplate-screen-reader-content>\n Copy this comment's permalink to the clipboard\n </faceplate-screen-reader-content>\n </button>\n </div>\n ${this.shouldRenderPerfmark?G` <faceplate-perfmark \n name="${Sa.FIRST_COMMENT_MEANINGFUL_PAINT}" \n></faceplate-perfmark>`:""}\n </div> `}};e([l({type:String})],Oa.prototype,"id",void 0),e([l({type:String})],Oa.prototype,"title",void 0),e([l({type:String})],Oa.prototype,"subreddit",void 0),e([l({type:Boolean})],Oa.prototype,"awarded",void 0),e([l({type:String,attribute:"post-permalink"})],Oa.prototype,"postPermalink",void 0),e([l({type:String,attribute:"comment-permalink"})],Oa.prototype,"commentPermalink",void 0),e([l({type:Boolean})],Oa.prototype,"nsfw",void 0),e([l({type:Boolean})],Oa.prototype,"shouldRenderPerfmark",void 0),e([l({type:Boolean,attribute:"is-reporting-enabled"})],Oa.prototype,"isReportingEnabled",void 0),Oa=e([s("shreddit-comment-profile")],Oa);const Ma=$n(gt);let Va=class extends Ma{constructor(){super(...arguments),this.buttonName=""}handleClick(){var t;this.trackEvent((t=this.buttonName,We({source:"post_topic_link",action:"click",noun:"link"},{banner:{id:"link",button_text:t}})))}render(){return G`<slot @click="${this.handleClick}"></slot>`}};e([l({type:String})],Va.prototype,"buttonName",void 0),Va=e([s("topic-link")],Va),Yn("icon-view-classic",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M17.882 2H2.118A1.118 1.118 0 001 3.116v13.768A1.118 1.118 0 002.118 18h15.764A1.118 1.118 0 0019 16.884V3.116A1.118 1.118 0 0017.882 2zM2.25 3.25h15.5V7H2.25V3.25zm15.5 13.5H2.25v-3.5h15.5v3.5zm0-4.75H2.25V8.25h15.5V12z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M1 14.5h18v3.381A1.12 1.12 0 0117.882 19H2.118A1.12 1.12 0 011 17.881V14.5zM19 2.119A1.12 1.12 0 0017.882 1H2.118A1.12 1.12 0 001 2.119V5.5h18V2.119zm0 7.243V7.5H1v5h18V9.362z"/></svg>`),Yn("icon-view-card",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M17.882 1H2.118A1.12 1.12 0 001 2.119v15.762A1.119 1.119 0 002.118 19h15.764A1.12 1.12 0 0019 17.881V2.119A1.12 1.12 0 0017.882 1zm-.132 16.75H2.25v-7.138h15.5v7.138zM2.25 9.362V2.25h15.5v7.112H2.25z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19 9H1V2.119A1.119 1.119 0 012.118 1h15.764A1.119 1.119 0 0119 2.119V9zM1 17.881A1.119 1.119 0 002.118 19h15.764A1.12 1.12 0 0019 17.881V11H1v6.881z"/></svg>`);let $a=class extends gt{constructor(){super(...arguments),this._events=new Rt(this),this._onLayoutViewChange=this._events.define("layout-view-change",(t=>{const{selected:e}=t.detail;qt.set("compact",e===ls.ClassicView?"true":"false")}))}static get styles(){return w`:host{display:inline-block}`}render(){return G` <slot></slot>`}};$a=e([s("shreddit-layout-event-setter")],$a);let Da=class extends gt{constructor(){super(...arguments),this.visible=!0,this.route="",this.languageName=""}static get styles(){return[Dn]}_handleClose(){this.visible=!1}render(){return G`\n <div \n class="bg-tone-7 m-xs p-sm flex justify-center items-center ${!this.visible&&"hidden"}" \n>\n <div class="grow text-center">\n Browsing in ${this.languageName}? Check out\n <a \n class="no-underline text-action-secondary" \n href="/${this.route}/" \n \n>reddit.com/${this.route}</a>\n </div>\n <icon-close \n class="block" \n fill\n @click="${this._handleClose}" \n tabindex="0" \n role="button" \n aria-pressed="false" \n>X</icon-close>\n </div>\n `}};e([l({type:Boolean})],Da.prototype,"visible",void 0),e([l({type:String})],Da.prototype,"route",void 0),e([l({type:String,attribute:"language-name"})],Da.prototype,"languageName",void 0),Da=e([s("shreddit-intsites-banner")],Da);const Pa=$n(Er(gt));let Na=class extends Pa{constructor(){super(...arguments),this.id="",this.subreddit=""}pageIndexChangedCallback(t){super.pageIndexChangedCallback(t);const e=this.pageIndex>t?as.Forward:as.Backward;this.trackEvent(((t,e)=>We({source:"gallery",action:"click",noun:e},Ji(t)))(this,e))}};e([l({type:String})],Na.prototype,"id",void 0),e([l({type:String})],Na.prototype,"subreddit",void 0),Na=e([s("shreddit-gallery-listener")],Na),Yn("icon-external",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M15.75 13H17v3.375A2.63 2.63 0 0114.375 19H3.625A2.63 2.63 0 011 16.375V5.625A2.629 2.629 0 013.625 3H7v1.25H3.625A1.377 1.377 0 002.25 5.625v10.75a1.377 1.377 0 001.375 1.375h10.75a1.377 1.377 0 001.375-1.375V13zm2.625-12h-5v1.25h3.491l-8.433 8.433.884.884 8.433-8.433v3.491H19v-5A.625.625 0 0018.375 1z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M15 13h2v3.35A2.653 2.653 0 0114.35 19H3.65A2.653 2.653 0 011 16.35V5.653A2.656 2.656 0 013.653 3H7v2H3.653A.654.654 0 003 5.653v10.7a.65.65 0 00.65.65h10.7a.65.65 0 00.65-.65V13zm3.375-12h-5.438a.625.625 0 00-.422 1.085L14.591 4l-6.423 6.418 1.414 1.414 6.483-6.483 1.887 1.736A.626.626 0 0019 6.625v-5A.625.625 0 0018.375 1z"/></svg>`),Yn("icon-popular",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_474_48)"><path d="M10 0a10 10 0 1010 10A10.011 10.011 0 0010 0zm0 18.75a8.7 8.7 0 01-5.721-2.145l8.471-8.471v4.148H14V6.638A.647.647 0 0013.362 6H7.718v1.25h4.148L3.4 15.721A8.739 8.739 0 1110 18.75z"/></g><defs><clipPath id="clip0_474_48"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_474_46)"><path d="M10 0a10 10 0 1010 10A10.011 10.011 0 0010 0zm4 13.791L10.812 10.6l-6.245 6.247a8.92 8.92 0 01-1.414-1.414L9.4 9.188 6.209 6h7.778l.013.638v7.153z"/></g><defs><clipPath id="clip0_474_46"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`),Yn("icon-profile",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_473_35)"><path d="M10 0a10 10 0 1010 10A10.011 10.011 0 0010 0zM4.866 17.07a3.99 3.99 0 013.991-2.77h2.286a3.99 3.99 0 013.991 2.766 8.685 8.685 0 01-10.268 0v.004zm11.3-.87a5.354 5.354 0 00-5.024-3.146H8.857A5.354 5.354 0 003.833 16.2a8.75 8.75 0 1112.334 0h-.001zM10.059 5a3.229 3.229 0 100 6.458 3.229 3.229 0 000-6.458zm0 5.208a1.98 1.98 0 110-3.959 1.98 1.98 0 010 3.959z"/></g><defs><clipPath id="clip0_473_35"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g clip-path="url(#clip0_473_29)"><path d="M10 0a10 10 0 1010 10A10.011 10.011 0 0010 0zm.059 5a3.229 3.229 0 110 6.458 3.229 3.229 0 010-6.458zM3.85 16.216a5.32 5.32 0 015.007-3.162h2.286a5.323 5.323 0 015.008 3.161 8.73 8.73 0 01-12.3 0l-.001.001z"/></g><defs><clipPath id="clip0_473_29"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>`),Yn("icon-caret-left",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.058 15.442l-5-5a.624.624 0 010-.884l5-5 .884.884L8.384 10l4.558 4.558-.884.884z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M11.793 15.707l-5-5a1 1 0 010-1.414l5-5 1.414 1.414L8.914 10l4.293 4.293-1.414 1.414z"/></svg>`),Yn("icon-edit",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.236 3.158l-1.4-1.4a2.615 2.615 0 00-3.667-.021L1.336 13.318a1.129 1.129 0 00-.336.8v3.757A1.122 1.122 0 002.121 19h3.757a1.131 1.131 0 00.8-.337L18.256 6.826a2.616 2.616 0 00-.02-3.668zM5.824 17.747H2.25v-3.574l9.644-9.435L15.259 8.1l-9.435 9.647zM17.363 5.952l-1.23 1.257-3.345-3.345 1.257-1.23a1.362 1.362 0 011.91.01l1.4 1.4a1.364 1.364 0 01.008 1.908z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M17.279 7.825l-5.107-5.107 1-.978a2.615 2.615 0 013.667.021l1.4 1.4a2.616 2.616 0 01.02 3.668l-.98.996zM1.336 13.318a1.129 1.129 0 00-.336.8v3.757A1.122 1.122 0 002.121 19h3.757a1.131 1.131 0 00.8-.337l9.2-9.406-5.136-5.141-9.406 9.202z"/></svg>`),Yn("icon-add",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19 9.375h-8.375V1h-1.25v8.375H1v1.25h8.375V19h1.25v-8.375H19v-1.25z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19 9h-8V1H9v8H1v2h8v8h2v-8h8V9z"/></svg>`),Yn("icon-topic",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19.567 18.683l-2.194-2.194a3.508 3.508 0 10-.884.885l2.194 2.193.884-.884zM14.5 16.75a2.25 2.25 0 110-4.5 2.25 2.25 0 010 4.5zM5.5 2a3.5 3.5 0 100 7 3.5 3.5 0 000-7zm0 5.75a2.25 2.25 0 110-4.5 2.25 2.25 0 010 4.5zM12.125 9h4.75A1.127 1.127 0 0018 7.875v-4.75A1.127 1.127 0 0016.875 2h-4.75A1.127 1.127 0 0011 3.125v4.75A1.127 1.127 0 0012.125 9zm.125-5.75h4.5v4.5h-4.5v-4.5zM7.875 11h-4.75A1.127 1.127 0 002 12.125v4.75A1.127 1.127 0 003.125 18h4.75A1.127 1.127 0 009 16.875v-4.75A1.127 1.127 0 007.875 11zm-.125 5.75h-4.5v-4.5h4.5v4.5z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19.832 18.418l-2.266-2.266A3.45 3.45 0 0018 14.5a3.5 3.5 0 10-3.5 3.5 3.45 3.45 0 001.652-.434l2.266 2.266 1.414-1.414zM14.5 12.725a1.775 1.775 0 110 3.55 1.775 1.775 0 010-3.55zM9 5.5a3.5 3.5 0 11-7 0 3.5 3.5 0 017 0zm2 2.375v-4.75A1.127 1.127 0 0112.125 2h4.75A1.127 1.127 0 0118 3.125v4.75A1.127 1.127 0 0116.875 9h-4.75A1.127 1.127 0 0111 7.875zm-2 4.25v4.75A1.127 1.127 0 017.875 18h-4.75A1.127 1.127 0 012 16.875v-4.75A1.127 1.127 0 013.125 11h4.75A1.127 1.127 0 019 12.125z"/></svg>`),Yn("icon-discover",Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.206 19.618a9.625 9.625 0 119.625-9.625 9.635 9.635 0 01-9.625 9.625zm0-18a8.375 8.375 0 108.375 8.375 8.384 8.384 0 00-8.375-8.375z"/><path d="M6.684 14.125a.624.624 0 01-.556-.911l2.38-4.621a.632.632 0 01.268-.27L13.4 5.944a.625.625 0 01.842.842l-2.382 4.621a.633.633 0 01-.269.27l-4.62 2.379a.621.621 0 01-.287.069zm2.842-4.782l-1.393 2.708 2.708-1.394 1.393-2.708-2.708 1.394z"/></svg>`,Q`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.206.368a9.625 9.625 0 109.625 9.625A9.636 9.636 0 0010.206.368zm4.033 6.418l-2.379 4.621a.633.633 0 01-.269.27l-4.62 2.379a.625.625 0 01-.843-.842l2.38-4.621a.632.632 0 01.268-.27L13.4 5.944a.625.625 0 01.842.842h-.003z"/></svg>`);var Ba,za=function(t,e){return{name:t,value:void 0===e?-1:e,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},Ra=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}},Ha=function(t,e){var n=function n(i){"pagehide"!==i.type&&"hidden"!==document.visibilityState||(t(i),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Ua=function(t){addEventListener("pageshow",(function(e){e.persisted&&t(e)}),!0)},Fa=function(t,e,n){var i;return function(o){e.value>=0&&(o||n)&&(e.delta=e.value-(i||0),(e.delta||void 0===i)&&(i=e.value,t(e)))}},Wa=-1,qa=function(){Ha((function(t){var e=t.timeStamp;Wa=e}),!0)},ja=function(){return Wa<0&&((Wa=window.webVitals.firstHiddenTime)===1/0&&qa(),Ua((function(){setTimeout((function(){Wa="hidden"===document.visibilityState?0:1/0,qa()}),0)}))),{get firstHiddenTime(){return Wa}}},Ya=function(t,e){var n,i=ja(),o=za("FCP"),r=function(t){"first-contentful-paint"===t.name&&(a&&a.disconnect(),t.startTime<i.firstHiddenTime&&(o.value=t.startTime,o.entries.push(t),n(!0)))},s=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],a=s?null:Ra("paint",r);(s||a)&&(n=Fa(t,o,e),s&&r(s),Ua((function(i){o=za("FCP"),n=Fa(t,o,e),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-i.timeStamp,n(!0)}))}))})))},Ga=!1,Qa=-1,Ka={};class Ja{constructor(t){this._custom={},this._metrics={},this._isCached=!1,this.remeasureForBFCacheRestore=t=>{const e={metrics:{},meta:{},cache_restore:!0};Object.keys(this._metrics).forEach((t=>{this.isKeyCustomMetric(t)||this._metrics[t]&&(e.metrics[t]=0)})),Object.keys(e.metrics).length&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{const n=performance.now()-t.timeStamp;Object.keys(e.metrics).forEach((t=>{e.metrics[t]=n})),this.notifyAndSendMetrics(e)}))}))},this._callback=t}async connect(){const{isCached:t,unsubscribe:e}=await(t=>{const e=e=>{e.persisted&&t(e)};window.addEventListener("pageshow",e,!0);const n=new hr;return n.resolve({isCached:pr(),unsubscribe:()=>{window.removeEventListener("pageshow",e)}}),n.promise})(this.remeasureForBFCacheRestore);this._unsubscribeFromCacheRestore=e,this._isCached=t,this.gatherThenSendMetrics();Object.keys(this._metrics).some((t=>!this.isKeyCustomMetric(t)&&!this._metrics[t]))&&this.registerPerfObserver()}disconnect(){var t,e;null===(t=this._observer)||void 0===t||t.disconnect(),null===(e=this._unsubscribeFromCacheRestore)||void 0===e||e.call(this)}gatherThenSendMetrics(){const t=this.gatherMetrics();this.notifyAndSendMetrics(t)}notifyAndSendMetrics(t){Object.keys(t.metrics).length&&this._callback(t)}isKeyCustomMetric(t){return Object.prototype.hasOwnProperty.call(this._custom,t)}gatherMetrics(){const t={metrics:{},meta:{}};return this._isCached&&(t.cache_restore=!0),Object.keys(this._metrics).forEach((e=>{if(this._metrics[e])return;if(this.isKeyCustomMetric(e)){const n=this._custom[e];n>-1&&(t.metrics[e]=n,this._metrics[e]=!0)}performance.getEntriesByName(e,"mark").length&&performance.measure(e,"fetchStart",e);const n=performance.getEntriesByName(e,"measure");if(n.length){const{duration:i}=n[0];t.metrics[e]=Math.ceil(i),this._metrics[e]=!0}})),t}registerPerfObserver(){this._observer=new PerformanceObserver((t=>{t.getEntries().some((t=>!!t.name&&!this._metrics[t.name]))&&this.gatherThenSendMetrics()})),this._observer.observe({entryTypes:["mark"]})}registerPerfMetric(t){this._metrics[t]=!1}registerCustomMetric(t){return this._custom[t]=-1,this.registerPerfMetric(t),e=>{this._custom[t]=e,this.gatherThenSendMetrics()}}getCustomMetricValue(t){return this._custom[t]}}!function(t){t.CLS="cumulative-layout-shift",t.FID="first-input-delay",t.LCP="longest-contentful-paint",t.TTFB="time-to-first-byte"}(Ba||(Ba={}));let Xa=class extends gt{constructor(){super(...arguments),this._perfMetrics=new Ja((t=>{var e;const n=null===(e=Me())||void 0===e?void 0:e.yearClass,i=Object.assign(Object.assign({},t),{meta:Object.assign(Object.assign({},t.meta),n&&{yearClass:n})}),o=Nt("faceplate-request",{resource:this.endpoint,request:{body:i}});if(this.dispatchEvent(o),o.defaultPrevented)return;const r=JSON.stringify(o.detail.request.body);navigator.sendBeacon(this.endpoint,r)})),this.endpoint=""}render(){return G` <slot hidden></slot> `}firstUpdated(){if(this.endpoint){if(this._slottedContent)for(const t of this._slottedContent)t instanceof HTMLDataElement&&this.parseDataElement(t);!function(t,e){Ga||(Ya((function(t){Qa=t.value})),Ga=!0);var n,i=function(e){Qa>-1&&t(e)},o=za("CLS",0),r=0,s=[],a=function(t){if(!t.hadRecentInput){var e=s[0],i=s[s.length-1];r&&t.startTime-i.startTime<1e3&&t.startTime-e.startTime<5e3?(r+=t.value,s.push(t)):(r=t.value,s=[t]),r>o.value&&(o.value=r,o.entries=s,n())}},l=Ra("layout-shift",a);l&&(n=Fa(i,o,e),Ha((function(){l.takeRecords().map(a),n(!0)})),Ua((function(){r=0,Qa=-1,o=za("CLS",0),n=Fa(i,o,e)})))}(this.onWebVitalMeasured(Ba.CLS,(t=>t))),function(t,e){var n,i=ja(),o=za("FID"),r=function(t){t.startTime<i.firstHiddenTime&&(o.value=t.processingStart-t.startTime,o.entries.push(t),n(!0))},s=Ra("first-input",r);n=Fa(t,o,e),s&&Ha((function(){s.takeRecords().map(r),s.disconnect()}),!0),s||window.webVitals.firstInputPolyfill(r),Ua((function(){o=za("FID"),n=Fa(t,o,e),window.webVitals.resetFirstInputPolyfill(),window.webVitals.firstInputPolyfill(r)}))}(this.onWebVitalMeasured(Ba.FID,Math.ceil)),function(t,e){var n,i=ja(),o=za("LCP"),r=function(t){var e=t.startTime;e<i.firstHiddenTime&&(o.value=e,o.entries.push(t),n())},s=Ra("largest-contentful-paint",r);if(s){n=Fa(t,o,e);var a=function(){Ka[o.id]||(s.takeRecords().map(r),s.disconnect(),Ka[o.id]=!0,n(!0))};["keydown","click"].forEach((function(t){addEventListener(t,a,{once:!0,capture:!0})})),Ha(a,!0),Ua((function(i){o=za("LCP"),n=Fa(t,o,e),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-i.timeStamp,Ka[o.id]=!0,n(!0)}))}))}))}}(this.onWebVitalMeasured(Ba.LCP,Math.ceil)),function(t){var e,n=za("TTFB");e=function(){try{var e=performance.getEntriesByType("navigation")[0]||function(){var t=performance.timing,e={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}();if(n.value=n.delta=e.responseStart,n.value<0||n.value>performance.now())return;n.entries=[e],t(n)}catch(e){}},"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)}(this.onWebVitalMeasured(Ba.TTFB,Math.ceil)),this._perfMetrics.connect()}else console.error("faceplate-perfmetric-collector: no endpoint specified")}onWebVitalMeasured(t,e){const n=this._perfMetrics.registerCustomMetric(t);return i=>{-1===i.value||this._perfMetrics.getCustomMetricValue(t)>-1||n(e(i.value))}}disconnectedCallback(){super.disconnectedCallback(),this._perfMetrics.disconnect()}parseDataElement(t){const e=t.value;this._perfMetrics.registerPerfMetric(e)}};var Za;e([function(t,e,n){let i,o=t;return"object"==typeof t?(o=t.slot,i=t):i={flatten:e},n?function(t){const{slot:e,selector:n}=null!=t?t:{};return c({descriptor:i=>({get(){var i;const o="slot"+(e?`[name=${e}]`:":not([name])"),r=null===(i=this.renderRoot)||void 0===i?void 0:i.querySelector(o),s=null!=r?m(r,t):[];return n?s.filter((t=>t.matches(n))):s},enumerable:!0,configurable:!0})})}({slot:o,flatten:e,selector:n}):c({descriptor:t=>({get(){var t,e;const n="slot"+(o?`[name=${o}]`:":not([name])"),r=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(n);return null!==(e=null==r?void 0:r.assignedNodes(i))&&void 0!==e?e:[]},enumerable:!0,configurable:!0})})}()],Xa.prototype,"_slottedContent",void 0),e([l({type:String})],Xa.prototype,"endpoint",void 0),Xa=e([s("faceplate-perfmetric-collector")],Xa),function(t){t.Normal="normal",t.Slow="slow"}(Za||(Za={}));const tl=Za.Slow;let el=!1,nl=tl;const il=()=>nl===Za.Slow;$t.addLoaders({accountmanager_iframe:()=>import("./accountmanager-iframe-50f972aa.js"),app_selector:()=>import("./app-selector-4bef0639.js"),cat_in_the_app:()=>import("./cat-in-the-app-161d1a89.js"),listing_below_upsell:()=>import("./listing-below-upsell-5fcbdee0.js"),media_player_loader:()=>import("./media-player-765812a6.js"),top_button:()=>import("./top-button-acb021d1.js"),untagged_content_blocking:()=>import("./untagged-content-blocking-modal-112ade9e.js"),signup_upsell_untagged_content_blocking:()=>import("./signup-upsell-untagged-content-blocking-modal-498ca785.js"),debug:()=>import("./debug-d8de0473.js"),reddit_search_large:()=>import("./large-95a6c3cf.js"),reddit_search_small:()=>import("./small-14a6f052.js")}),(()=>{var t,e,n,i;if(el||"function"!=typeof(null===(t=window.performance)||void 0===t?void 0:t.measure)||"function"!=typeof(null===(e=window.performance)||void 0===e?void 0:e.getEntriesByName))return;window.performance.measure("experience-tier");(null===(i=null===(n=window.performance.getEntriesByName("experience-tier"))||void 0===n?void 0:n[0])||void 0===i?void 0:i.duration)<2e3&&(nl=Za.Normal),el=!0})();export{G as $,d as A,ha as B,Zr as C,Qs as D,Rt as E,Gn as F,Bs as G,zs as H,En as I,ns as J,Os as K,xn as L,ei as M,ws as N,We as O,Mi as P,Li as Q,us as R,Vi as S,fi as T,It as U,il as V,Er as W,Yt as X,na as Y,ia as Z,e as _,Yn as a,St as a0,Le as a1,Di as a2,Ei as a3,Ia as a4,Ca as a5,Do as a6,Fo as a7,Zt as a8,te as a9,Zs as aA,ta as aB,Ae as aC,Js as aD,Gi as aE,Wi as aF,Ui as aG,Fi as aH,lr as aI,Ss as aJ,Kn as aK,Zo as aL,Xo as aM,Ao as aN,tr as aO,Ft as aP,Wt as aQ,Ut as aR,_o as aa,fo as ab,xo as ac,Mo as ad,Lt as ae,Co as af,yo as ag,Bn as ah,Ct as ai,r as aj,vo as ak,Lo as al,Bt as am,ni as an,J as ao,bi as ap,hr as aq,rn as ar,ki as as,an as at,sn as au,po as av,yr as aw,qt as ax,t as ay,He as az,h as b,Nt as c,jt as d,l as e,$n as f,fr as g,Qe as h,Wo as i,Ge as j,Ye as k,Ke as l,Eo as m,s as n,di as o,Je as p,xa as q,w as r,gt as s,Dn as t,Xe as u,Qt as v,Gt as w,_n as x,Q as y,Ar as z};
